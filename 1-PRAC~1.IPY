{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Segmenting and Clustering Neighborhoods in Toronto"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Date: 24 March 2019\n",
    "### Author: Min Jung Kang"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import requests\n",
    "import lxml"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "from bs4 import BeautifulSoup"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Part 1. Scraping Wikipedia page data into a dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Obtaining data from Wikipedia\n",
    "source = requests.get('https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M').text\n",
    "soup = BeautifulSoup(source, 'lxml')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "PostalCode = []\n",
    "Borough = []\n",
    "Neighborhood = []\n",
    "\n",
    "for row in soup.find('table').find_all('tr'):\n",
    "    cells = row.find_all('td')\n",
    "    if len(cells) > 0:\n",
    "        PostalCode.append(cells[0].text)\n",
    "        Borough.append(cells[1].text)\n",
    "        Neighborhood.append(cells[2].text.rstrip('\\n'))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M2A</td>\n",
       "      <td>Not assigned</td>\n",
       "      <td>Not assigned</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode           Borough      Neighborhood\n",
       "0        M1A      Not assigned      Not assigned\n",
       "1        M2A      Not assigned      Not assigned\n",
       "2        M3A        North York         Parkwoods\n",
       "3        M4A        North York  Victoria Village\n",
       "4        M5A  Downtown Toronto      Harbourfront"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dict = { 'PostalCode' : PostalCode,\n",
    "       'Borough' : Borough,\n",
    "       'Neighborhood': Neighborhood}\n",
    "df = pd.DataFrame.from_dict(dict)\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode           Borough      Neighborhood\n",
       "2        M3A        North York         Parkwoods\n",
       "3        M4A        North York  Victoria Village\n",
       "4        M5A  Downtown Toronto      Harbourfront\n",
       "5        M5A  Downtown Toronto       Regent Park\n",
       "6        M6A        North York  Lawrence Heights"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Remove 'Not assigned' Boroughs\n",
    "df = df[df.Borough != 'Not assigned']\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M3A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Parkwoods</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M4A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Victoria Village</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Harbourfront</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>M5A</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Regent Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Heights</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>M6A</td>\n",
       "      <td>North York</td>\n",
       "      <td>Lawrence Manor</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>M7A</td>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>Queen's Park</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>M9A</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Islington Avenue</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Malvern</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>M3B</td>\n",
       "      <td>North York</td>\n",
       "      <td>Don Mills North</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>M4B</td>\n",
       "      <td>East York</td>\n",
       "      <td>Woodbine Gardens</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>M4B</td>\n",
       "      <td>East York</td>\n",
       "      <td>Parkview Hill</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>M5B</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Ryerson</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>M5B</td>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Garden District</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>M6B</td>\n",
       "      <td>North York</td>\n",
       "      <td>Glencairn</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>M9B</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Cloverdale</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>M9B</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Islington</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>M9B</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Martin Grove</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>M9B</td>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>Princess Gardens</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   PostalCode           Borough      Neighborhood\n",
       "2         M3A        North York         Parkwoods\n",
       "3         M4A        North York  Victoria Village\n",
       "4         M5A  Downtown Toronto      Harbourfront\n",
       "5         M5A  Downtown Toronto       Regent Park\n",
       "6         M6A        North York  Lawrence Heights\n",
       "7         M6A        North York    Lawrence Manor\n",
       "8         M7A      Queen's Park      Queen's Park\n",
       "10        M9A         Etobicoke  Islington Avenue\n",
       "11        M1B       Scarborough             Rouge\n",
       "12        M1B       Scarborough           Malvern\n",
       "14        M3B        North York   Don Mills North\n",
       "15        M4B         East York  Woodbine Gardens\n",
       "16        M4B         East York     Parkview Hill\n",
       "17        M5B  Downtown Toronto           Ryerson\n",
       "18        M5B  Downtown Toronto   Garden District\n",
       "19        M6B        North York         Glencairn\n",
       "22        M9B         Etobicoke        Cloverdale\n",
       "23        M9B         Etobicoke         Islington\n",
       "24        M9B         Etobicoke      Martin Grove\n",
       "25        M9B         Etobicoke  Princess Gardens"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Copy Borough values to 'Not assigned' Neighborhoods\n",
    "df.replace(\"Not assigned\", np.nan, inplace=True)\n",
    "df['Neighborhood'].fillna(df['Borough'], inplace=True)\n",
    "df.head(20)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge,Malvern</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode      Borough                          Neighborhood\n",
       "0        M1B  Scarborough                         Rouge,Malvern\n",
       "1        M1C  Scarborough  Highland Creek,Rouge Hill,Port Union\n",
       "2        M1E  Scarborough       Guildwood,Morningside,West Hill\n",
       "3        M1G  Scarborough                                Woburn\n",
       "4        M1H  Scarborough                             Cedarbrae"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Group by PostalCode\n",
    "df = df.groupby(['PostalCode','Borough'], as_index=False).agg(lambda x: ','.join(x))\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(103, 3)"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Part 2. Adding coordinates to the dataframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Postal Code</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  Postal Code   Latitude  Longitude\n",
       "0         M1B  43.806686 -79.194353\n",
       "1         M1C  43.784535 -79.160497\n",
       "2         M1E  43.763573 -79.188711\n",
       "3         M1G  43.770992 -79.216917\n",
       "4         M1H  43.773136 -79.239476"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "geodata = pd.read_csv('../projects/Geospatial_Coordinates.csv')\n",
    "geodata.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode   Latitude  Longitude\n",
       "0        M1B  43.806686 -79.194353\n",
       "1        M1C  43.784535 -79.160497\n",
       "2        M1E  43.763573 -79.188711\n",
       "3        M1G  43.770992 -79.216917\n",
       "4        M1H  43.773136 -79.239476"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Rename column in geodata to merge with df\n",
    "geodata.rename(columns={\"Postal Code\" : \"PostalCode\"}, inplace=True)\n",
    "geodata.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Outer join df and geodata\n",
    "coords = pd.merge(df, geodata, on = 'PostalCode', how = 'outer')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode      Borough                          Neighborhood   Latitude  \\\n",
       "0        M1B  Scarborough                         Rouge,Malvern  43.806686   \n",
       "1        M1C  Scarborough  Highland Creek,Rouge Hill,Port Union  43.784535   \n",
       "2        M1E  Scarborough       Guildwood,Morningside,West Hill  43.763573   \n",
       "3        M1G  Scarborough                                Woburn  43.770992   \n",
       "4        M1H  Scarborough                             Cedarbrae  43.773136   \n",
       "\n",
       "   Longitude  \n",
       "0 -79.194353  \n",
       "1 -79.160497  \n",
       "2 -79.188711  \n",
       "3 -79.216917  \n",
       "4 -79.239476  "
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "coords.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Part 3. Exploring the neighborhood"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "import folium\n",
    "from geopy.geocoders import Nominatim"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "The geograpical coordinate of Toronto are 43.653963, -79.387207.\n"
     ]
    }
   ],
   "source": [
    "# get geographical coordinates for Toronto\n",
    "address = 'Toronto, ON'\n",
    "\n",
    "geolocator = Nominatim(user_agent=\"explorer\")\n",
    "location = geolocator.geocode(address)\n",
    "latitude = location.latitude\n",
    "longitude = location.longitude\n",
    "print('The geograpical coordinate of Toronto are {}, {}.'.format(latitude, longitude))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVM9ZmFsc2U7IExfTk9fVE9VQ0g9ZmFsc2U7IExfRElTQUJMRV8zRD1mYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS40LjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMS4xMi40Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS40LjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vcHl0aG9uLXZpc3VhbGl6YXRpb24vZm9saXVtL21hc3Rlci9mb2xpdW0vdGVtcGxhdGVzL2xlYWZsZXQuYXdlc29tZS5yb3RhdGUuY3NzIi8+CiAgICA8c3R5bGU+aHRtbCwgYm9keSB7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO21hcmdpbjogMDtwYWRkaW5nOiAwO308L3N0eWxlPgogICAgPHN0eWxlPiNtYXAge3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO3JpZ2h0OjA7bGVmdDowO308L3N0eWxlPgogICAgCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLAogICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgIDxzdHlsZT4jbWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgd2lkdGg6IDEwMC4wJTsKICAgICAgICBoZWlnaHQ6IDEwMC4wJTsKICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgIHRvcDogMC4wJTsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCIgPjwvZGl2Pgo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCiAgICAKICAgICAgICB2YXIgYm91bmRzID0gbnVsbDsKICAgIAoKICAgIHZhciBtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzAgPSBMLm1hcCgKICAgICAgICAnbWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwJywgewogICAgICAgIGNlbnRlcjogWzQzLjY1Mzk2MywgLTc5LjM4NzIwN10sCiAgICAgICAgem9vbTogMTAsCiAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3LAogICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgIH0pOwoKCiAgICAKICAgIHZhciB0aWxlX2xheWVyXzg2MTgyMzU1OWQwNTQwYzk5ZDE4OWFiNjM1NTUxY2UwID0gTC50aWxlTGF5ZXIoCiAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICB7CiAgICAgICAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAgICAgICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgICAgICAgIm1heE5hdGl2ZVpvb20iOiAxOCwKICAgICAgICAibWF4Wm9vbSI6IDE4LAogICAgICAgICJtaW5ab29tIjogMCwKICAgICAgICAibm9XcmFwIjogZmFsc2UsCiAgICAgICAgIm9wYWNpdHkiOiAxLAogICAgICAgICJzdWJkb21haW5zIjogImFiYyIsCiAgICAgICAgInRtcyI6IGZhbHNlCn0pLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTNkOTU2MTNmN2Q1NDZjYmFiMDA1MmYwMjFhODI2NTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDY2ODYyOTk5OTk5OTYsIC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE3YWEzMzU3NGNkYjQ3N2Y5MmE5MGU1ZWE3M2U4OTllID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFlMzY3MzJkNjEyNzRiZjA4NWE1OGFlMGI3MmYwZjUxID0gJChgPGRpdiBpZD0iaHRtbF8xZTM2NzMyZDYxMjc0YmYwODVhNThhZTBiNzJmMGY1MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um91Z2UsTWFsdmVybiwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE3YWEzMzU3NGNkYjQ3N2Y5MmE5MGU1ZWE3M2U4OTllLnNldENvbnRlbnQoaHRtbF8xZTM2NzMyZDYxMjc0YmYwODVhNThhZTBiNzJmMGY1MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lM2Q5NTYxM2Y3ZDU0NmNiYWIwMDUyZjAyMWE4MjY1OS5iaW5kUG9wdXAocG9wdXBfMTdhYTMzNTc0Y2RiNDc3ZjkyYTkwZTVlYTczZTg5OWUpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdiMDhiYmMwZWMzYTQ5ZDNiYjUxOTFmNTRlMGE0YWYzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg0NTM1MSwgLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDU5MTlkMTIxNjczNDAzZTg0NGIxNDlmYWM1MTRkNzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmI2MTdlN2ZmZWU0NDM4OWFjZDQ3ZjM4NWM2NDY0ODMgPSAkKGA8ZGl2IGlkPSJodG1sXzJiNjE3ZTdmZmVlNDQzODlhY2Q0N2YzODVjNjQ2NDgzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWdobGFuZCBDcmVlayxSb3VnZSBIaWxsLFBvcnQgVW5pb24sIFNjYXJib3JvdWdoPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NTkxOWQxMjE2NzM0MDNlODQ0YjE0OWZhYzUxNGQ3MS5zZXRDb250ZW50KGh0bWxfMmI2MTdlN2ZmZWU0NDM4OWFjZDQ3ZjM4NWM2NDY0ODMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2IwOGJiYzBlYzNhNDlkM2JiNTE5MWY1NGUwYTRhZjMuYmluZFBvcHVwKHBvcHVwXzQ1OTE5ZDEyMTY3MzQwM2U4NDRiMTQ5ZmFjNTE0ZDcxKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMjc0NDQxMDk1YTI0MGFlODQzYmNjOTg3MGQyM2ZiOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MzU3MjYsIC03OS4xODg3MTE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjk0MDFlNmQ2MjcxNDA3MWE5NDQwZTBmY2NlNWZjNjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWUxMjBlMWRiOGNhNDRhY2FjMDEwYmRmNTI3MGRjMmYgPSAkKGA8ZGl2IGlkPSJodG1sXzllMTIwZTFkYjhjYTQ0YWNhYzAxMGJkZjUyNzBkYzJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HdWlsZHdvb2QsTW9ybmluZ3NpZGUsV2VzdCBIaWxsLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjk0MDFlNmQ2MjcxNDA3MWE5NDQwZTBmY2NlNWZjNjUuc2V0Q29udGVudChodG1sXzllMTIwZTFkYjhjYTQ0YWNhYzAxMGJkZjUyNzBkYzJmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UyNzQ0NDEwOTVhMjQwYWU4NDNiY2M5ODcwZDIzZmI4LmJpbmRQb3B1cChwb3B1cF82OTQwMWU2ZDYyNzE0MDcxYTk0NDBlMGZjY2U1ZmM2NSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2JjMDhiODI4NDg4NGYwOTg5OTAzMTNhZGMyZWRiOTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLCAtNzkuMjE2OTE3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNWFmZDRiOWEyNWI0NTM5ODY1MjI3MzZjYTQyOGRlNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xM2U0ZjY2YTg1MGY0YjM0OTEzODdjMDE1YjE3OWVjZSA9ICQoYDxkaXYgaWQ9Imh0bWxfMTNlNGY2NmE4NTBmNGIzNDkxMzg3YzAxNWIxNzllY2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA1YWZkNGI5YTI1YjQ1Mzk4NjUyMjczNmNhNDI4ZGU1LnNldENvbnRlbnQoaHRtbF8xM2U0ZjY2YTg1MGY0YjM0OTEzODdjMDE1YjE3OWVjZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YmMwOGI4Mjg0ODg0ZjA5ODk5MDMxM2FkYzJlZGI5MS5iaW5kUG9wdXAocG9wdXBfMDVhZmQ0YjlhMjViNDUzOTg2NTIyNzM2Y2E0MjhkZTUpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzczMmE4NWY3ZjU1ODQ4N2E4MzNiOWMyOGQ4YTdkMDI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzczMTM2LCAtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NDdkYjM1OTYwMTE0ZjVkOTYwMTk1ZjQzN2E2ZjZjNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMjcwNWM0ZjdiMzM0MzZmYTBlNjA1NDgyM2Y5ZWNkYSA9ICQoYDxkaXYgaWQ9Imh0bWxfMjI3MDVjNGY3YjMzNDM2ZmEwZTYwNTQ4MjNmOWVjZGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0N2RiMzU5NjAxMTRmNWQ5NjAxOTVmNDM3YTZmNmM2LnNldENvbnRlbnQoaHRtbF8yMjcwNWM0ZjdiMzM0MzZmYTBlNjA1NDgyM2Y5ZWNkYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MzJhODVmN2Y1NTg0ODdhODMzYjljMjhkOGE3ZDAyNS5iaW5kUG9wdXAocG9wdXBfNDQ3ZGIzNTk2MDExNGY1ZDk2MDE5NWY0MzdhNmY2YzYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYzNGUxNzM5ZGJiNzRhMTViOWU4Yjg5N2RiYjQ4NmZiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ0NzM0MiwgLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzMzMTU2ZmExNDQ2NDcyOGIzZDM3OTQ1ZTUzMmRjY2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGIxNDEyNmQ2Mjc3NDU0ODkyNzllMjJiMTJmODg1NzMgPSAkKGA8ZGl2IGlkPSJodG1sX2RiMTQxMjZkNjI3NzQ1NDg5Mjc5ZTIyYjEyZjg4NTczIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaCBWaWxsYWdlLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzMzMTU2ZmExNDQ2NDcyOGIzZDM3OTQ1ZTUzMmRjY2Euc2V0Q29udGVudChodG1sX2RiMTQxMjZkNjI3NzQ1NDg5Mjc5ZTIyYjEyZjg4NTczKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYzNGUxNzM5ZGJiNzRhMTViOWU4Yjg5N2RiYjQ4NmZiLmJpbmRQb3B1cChwb3B1cF8zMzMxNTZmYTE0NDY0NzI4YjNkMzc5NDVlNTMyZGNjYSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjkxZDNlZGQwMDE3NGNkMmFmMTU4NDljMWUwOTNiZTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjc5MjkyLCAtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NjRjZjQyYjcyM2Q0YzNmYmQyNzc3YTRiZTZiMjRkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kOGViZGIyMTk0Yjg0NGUyYjdlNjgwZDEzMWNkODY3NSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDhlYmRiMjE5NGI4NDRlMmI3ZTY4MGQxMzFjZDg2NzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgQmlyY2htb3VudCBQYXJrLElvbnZpZXcsS2VubmVkeSBQYXJrLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDY0Y2Y0MmI3MjNkNGMzZmJkMjc3N2E0YmU2YjI0ZDguc2V0Q29udGVudChodG1sX2Q4ZWJkYjIxOTRiODQ0ZTJiN2U2ODBkMTMxY2Q4Njc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I5MWQzZWRkMDAxNzRjZDJhZjE1ODQ5YzFlMDkzYmUzLmJpbmRQb3B1cChwb3B1cF80NjRjZjQyYjcyM2Q0YzNmYmQyNzc3YTRiZTZiMjRkOCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmJjNTM3OGYzYzZlNGMzYzkxNWIwM2M1OWEyN2Q0M2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsIC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWFhZTM2N2FjY2FmNGY1Y2E1MjdhODU4NjY4MDY3ZTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2VlMDlkMjg4NzkyNDliY2IxMGNkNDQ5MDU1M2U2NzYgPSAkKGA8ZGl2IGlkPSJodG1sX2NlZTA5ZDI4ODc5MjQ5YmNiMTBjZDQ0OTA1NTNlNjc2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFpcmxlYSxHb2xkZW4gTWlsZSxPYWtyaWRnZSwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VhYWUzNjdhY2NhZjRmNWNhNTI3YTg1ODY2ODA2N2U3LnNldENvbnRlbnQoaHRtbF9jZWUwOWQyODg3OTI0OWJjYjEwY2Q0NDkwNTUzZTY3Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYmM1Mzc4ZjNjNmU0YzNjOTE1YjAzYzU5YTI3ZDQzZS5iaW5kUG9wdXAocG9wdXBfZWFhZTM2N2FjY2FmNGY1Y2E1MjdhODU4NjY4MDY3ZTcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ4MzRhMmI5YWQ4MTQ3ZWY4MjYyMjY2ZWYzMGI2ZjgzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE2MzE2LCAtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZWNhYjZjNTlmMmY0NWI2YWZmNjU0OTA5NDk5MmVmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wODdhMTIwYWVjYTU0OGFhOWJkNzQwNGY2ZjQ0NzhiZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMDg3YTEyMGFlY2E1NDhhYTliZDc0MDRmNmY0NDc4YmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsaWZmY3Jlc3QsQ2xpZmZzaWRlLFNjYXJib3JvdWdoIFZpbGxhZ2UgV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRlY2FiNmM1OWYyZjQ1YjZhZmY2NTQ5MDk0OTkyZWZkLnNldENvbnRlbnQoaHRtbF8wODdhMTIwYWVjYTU0OGFhOWJkNzQwNGY2ZjQ0NzhiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ODM0YTJiOWFkODE0N2VmODI2MjI2NmVmMzBiNmY4My5iaW5kUG9wdXAocG9wdXBfNGVjYWI2YzU5ZjJmNDViNmFmZjY1NDkwOTQ5OTJlZmQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U5MjExZDU0ZWMzYzQxMGZhMjU5YmM5MGM4OWM2OTQwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkyNjU3MDAwMDAwMDA0LCAtNzkuMjY0ODQ4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNjNWE2YjZkN2I3YTQzMzY4NGYzZDZlNjJiOWY5NDk0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VjYTNjZTc3Y2FiYjRkMzVhMTdlNGZmYzhhM2NmYTY1ID0gJChgPGRpdiBpZD0iaHRtbF9lY2EzY2U3N2NhYmI0ZDM1YTE3ZTRmZmM4YTNjZmE2NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsQ2xpZmZzaWRlIFdlc3QsIFNjYXJib3JvdWdoPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYzVhNmI2ZDdiN2E0MzM2ODRmM2Q2ZTYyYjlmOTQ5NC5zZXRDb250ZW50KGh0bWxfZWNhM2NlNzdjYWJiNGQzNWExN2U0ZmZjOGEzY2ZhNjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTkyMTFkNTRlYzNjNDEwZmEyNTliYzkwYzg5YzY5NDAuYmluZFBvcHVwKHBvcHVwXzNjNWE2YjZkN2I3YTQzMzY4NGYzZDZlNjJiOWY5NDk0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNjkyMWYwOTNiMDI0OTI0OGY0ZjgxYjFjNzhiNzVlZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsIC03OS4yNzMzMDQwMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNmODdhMDc5ZTM5MzQ4OWNhNGMzMjZlMGM1YzdjYzY0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M5MWYxODA2ZWNjODRkMGY4Yzg2MDE3MThkMjZiYzlhID0gJChgPGRpdiBpZD0iaHRtbF9jOTFmMTgwNmVjYzg0ZDBmOGM4NjAxNzE4ZDI2YmM5YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yc2V0IFBhcmssU2NhcmJvcm91Z2ggVG93biBDZW50cmUsV2V4Zm9yZCBIZWlnaHRzLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2Y4N2EwNzllMzkzNDg5Y2E0YzMyNmUwYzVjN2NjNjQuc2V0Q29udGVudChodG1sX2M5MWYxODA2ZWNjODRkMGY4Yzg2MDE3MThkMjZiYzlhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q2OTIxZjA5M2IwMjQ5MjQ4ZjRmODFiMWM3OGI3NWVkLmJpbmRQb3B1cChwb3B1cF8zZjg3YTA3OWUzOTM0ODljYTRjMzI2ZTBjNWM3Y2M2NCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjU0Njk3MzYzMmU3NDY2MTk2NmUyNGVlNDBkODdkNzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTAwNzE1MDAwMDAwMDQsIC03OS4yOTU4NDkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTJkNGVlYWNhOGQwNDc5ZTliNTAzODhhNDhiM2JmZjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjM2MzI5ZGI0MDUxNDBhM2FmYThhYjVhZWM2NGZhMDkgPSAkKGA8ZGl2IGlkPSJodG1sXzIzNjMyOWRiNDA1MTQwYTNhZmE4YWI1YWVjNjRmYTA5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXJ5dmFsZSxXZXhmb3JkLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTJkNGVlYWNhOGQwNDc5ZTliNTAzODhhNDhiM2JmZjMuc2V0Q29udGVudChodG1sXzIzNjMyOWRiNDA1MTQwYTNhZmE4YWI1YWVjNjRmYTA5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y1NDY5NzM2MzJlNzQ2NjE5NjZlMjRlZTQwZDg3ZDc2LmJpbmRQb3B1cChwb3B1cF8xMmQ0ZWVhY2E4ZDA0NzllOWI1MDM4OGE0OGIzYmZmMykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWUyYmQwNDQ1ZjViNGRhZjhhOWFhMWRhYjg0YzMzZjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTQyMDAzLCAtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNGNmNTNmMjVmYmM0OGI2ODdiODBhM2ExMzNiZThhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZTdiYjQ2ZTRmZGQ0NjU4OGEzMmIyNTE5MTM3OTc4MCA9ICQoYDxkaXYgaWQ9Imh0bWxfOWU3YmI0NmU0ZmRkNDY1ODhhMzJiMjUxOTEzNzk3ODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFnaW5jb3VydCwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA0Y2Y1M2YyNWZiYzQ4YjY4N2I4MGEzYTEzM2JlOGFjLnNldENvbnRlbnQoaHRtbF85ZTdiYjQ2ZTRmZGQ0NjU4OGEzMmIyNTE5MTM3OTc4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hZTJiZDA0NDVmNWI0ZGFmOGE5YWExZGFiODRjMzNmOS5iaW5kUG9wdXAocG9wdXBfMDRjZjUzZjI1ZmJjNDhiNjg3YjgwYTNhMTMzYmU4YWMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI4NDZiOGJlZWFhNzQyYWViZTM0ZDhmOGMwMDdhMTAxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgxNjM3NSwgLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYTViNDA0NjA4Y2I0ODNiOTA0NWU0NjA1NWRhZDJhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMTIzNTBhYmZhNDI0ODg5OWIxOTUzMzAyMThiMTk2MSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDEyMzUwYWJmYTQyNDg4OTliMTk1MzMwMjE4YjE5NjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsYXJrcyBDb3JuZXJzLFN1bGxpdmFuLFRhbSBPJiMzOTtTaGFudGVyLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmE1YjQwNDYwOGNiNDgzYjkwNDVlNDYwNTVkYWQyYWMuc2V0Q29udGVudChodG1sX2QxMjM1MGFiZmE0MjQ4ODk5YjE5NTMzMDIxOGIxOTYxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI4NDZiOGJlZWFhNzQyYWViZTM0ZDhmOGMwMDdhMTAxLmJpbmRQb3B1cChwb3B1cF8yYTViNDA0NjA4Y2I0ODNiOTA0NWU0NjA1NWRhZDJhYykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM4NzY5NTE1MDIwNDEzNDlmZDMzZDIyY2FlYTk3M2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLCAtNzkuMjg0NTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MzYTgzOTQ3YzNmMDQ0YzM5ZTYwYTRiOGMwNTAxNDk1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcwZmI1NjkzZjQ2YzQ1MDlhZWEwY2MzODVkZTRjZTlmID0gJChgPGRpdiBpZD0iaHRtbF83MGZiNTY5M2Y0NmM0NTA5YWVhMGNjMzg1ZGU0Y2U5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLEwmIzM5O0Ftb3JlYXV4IEVhc3QsTWlsbGlrZW4sU3RlZWxlcyBFYXN0LCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzNhODM5NDdjM2YwNDRjMzllNjBhNGI4YzA1MDE0OTUuc2V0Q29udGVudChodG1sXzcwZmI1NjkzZjQ2YzQ1MDlhZWEwY2MzODVkZTRjZTlmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEzODc2OTUxNTAyMDQxMzQ5ZmQzM2QyMmNhZWE5NzNkLmJpbmRQb3B1cChwb3B1cF9jM2E4Mzk0N2MzZjA0NGMzOWU2MGE0YjhjMDUwMTQ5NSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2I2ZTQyODQzZmI3NDBmNmE3MjExZThmYjMwMmE3NTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTk1MjUyMDAwMDAwMDUsIC03OS4zMTgzODg3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDU4YmFlOTFhNjEyNGUxYmIyNGU5OGEzNDZiOTg1NWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDVjOWNmOTU2ODdkNGNjZjhjOTY5ZTUxYzc5NTQxOGIgPSAkKGA8ZGl2IGlkPSJodG1sX2Q1YzljZjk1Njg3ZDRjY2Y4Yzk2OWU1MWM3OTU0MThiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MJiMzOTtBbW9yZWF1eCBXZXN0LFN0ZWVsZXMgV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q1OGJhZTkxYTYxMjRlMWJiMjRlOThhMzQ2Yjk4NTVkLnNldENvbnRlbnQoaHRtbF9kNWM5Y2Y5NTY4N2Q0Y2NmOGM5NjllNTFjNzk1NDE4Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jYjZlNDI4NDNmYjc0MGY2YTcyMTFlOGZiMzAyYTc1MS5iaW5kUG9wdXAocG9wdXBfZDU4YmFlOTFhNjEyNGUxYmIyNGU5OGEzNDZiOTg1NWQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM4M2JkYmVjMWNiYzRlNDFiZjkwYjZkMzk0Y2Y0NjIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODM2MTI0NzAwMDAwMDA2LCAtNzkuMjA1NjM2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MjE1MmE3YTAxMWM0ZDM5YjM0ZDU0MmJlNTI5MzA4MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80ODIxYjYwNTgzNDY0NjA0ODMxYjVlODNmNDg0ZDM5MCA9ICQoYDxkaXYgaWQ9Imh0bWxfNDgyMWI2MDU4MzQ2NDYwNDgzMWI1ZTgzZjQ4NGQzOTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlVwcGVyIFJvdWdlLCBTY2FyYm9yb3VnaDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjIxNTJhN2EwMTFjNGQzOWIzNGQ1NDJiZTUyOTMwODEuc2V0Q29udGVudChodG1sXzQ4MjFiNjA1ODM0NjQ2MDQ4MzFiNWU4M2Y0ODRkMzkwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM4M2JkYmVjMWNiYzRlNDFiZjkwYjZkMzk0Y2Y0NjIyLmJpbmRQb3B1cChwb3B1cF82MjE1MmE3YTAxMWM0ZDM5YjM0ZDU0MmJlNTI5MzA4MSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmM2NjcyN2ZjYTJjNDg3ZWE2YjRhZjRlOTdmZDhkMjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDM3NjIyLCAtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcyNGU3MTY2ODdmNTRlYjk4NzFmODQ0YWI5MTlmZmJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VlM2UwMTRkZTA0OTQzZWJiNDQ4MjQ0ZmZiNjc5MThlID0gJChgPGRpdiBpZD0iaHRtbF9lZTNlMDE0ZGUwNDk0M2ViYjQ0ODI0NGZmYjY3OTE4ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlsbGNyZXN0IFZpbGxhZ2UsIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcyNGU3MTY2ODdmNTRlYjk4NzFmODQ0YWI5MTlmZmJjLnNldENvbnRlbnQoaHRtbF9lZTNlMDE0ZGUwNDk0M2ViYjQ0ODI0NGZmYjY3OTE4ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYzY2NzI3ZmNhMmM0ODdlYTZiNGFmNGU5N2ZkOGQyMS5iaW5kUG9wdXAocG9wdXBfNzI0ZTcxNjY4N2Y1NGViOTg3MWY4NDRhYjkxOWZmYmMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEwN2UzNDNmZmNjZjQ1OTNhODBmMTc3YTViNDdlNjE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc4NTE3NSwgLTc5LjM0NjU1NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNjllZDVkNTBlNzE0NzZlYjQ3NWU3ZTZiOTM3NjAzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wN2Q4NjM0NmY5ZjI0NmY3YmE2YzhiZjdlMGM0YThlYyA9ICQoYDxkaXYgaWQ9Imh0bWxfMDdkODYzNDZmOWYyNDZmN2JhNmM4YmY3ZTBjNGE4ZWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LEhlbnJ5IEZhcm0sT3Jpb2xlLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNjllZDVkNTBlNzE0NzZlYjQ3NWU3ZTZiOTM3NjAzMC5zZXRDb250ZW50KGh0bWxfMDdkODYzNDZmOWYyNDZmN2JhNmM4YmY3ZTBjNGE4ZWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTA3ZTM0M2ZmY2NmNDU5M2E4MGYxNzdhNWI0N2U2MTUuYmluZFBvcHVwKHBvcHVwX2E2OWVkNWQ1MGU3MTQ3NmViNDc1ZTdlNmI5Mzc2MDMwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMDY5MzlmNzk4YmQ0ZmE1YThhYmIyZmNiNjk2ODVkMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsIC03OS4zODU5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NDlhZWFmYjRmMTQ0ZDdmYTJlZmQ0M2U4MmMxZjYyYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iYmYyNDBhODg5ODc0NWQzYjAwZTk0MTZiZjM0YzMxNiA9ICQoYDxkaXYgaWQ9Imh0bWxfYmJmMjQwYTg4OTg3NDVkM2IwMGU5NDE2YmYzNGMzMTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTQ5YWVhZmI0ZjE0NGQ3ZmEyZWZkNDNlODJjMWY2MmMuc2V0Q29udGVudChodG1sX2JiZjI0MGE4ODk4NzQ1ZDNiMDBlOTQxNmJmMzRjMzE2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAwNjkzOWY3OThiZDRmYTVhOGFiYjJmY2I2OTY4NWQyLmJpbmRQb3B1cChwb3B1cF85NDlhZWFmYjRmMTQ0ZDdmYTJlZmQ0M2U4MmMxZjYyYykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTkwZTVkZjdkMjU2NDM3OTk5Njk2MDg2M2VjMDVlOWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTc0OTAyLCAtNzkuMzc0NzE0MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YjAyYTYxZWY0NGQ0OTU1YjA5MGVkMmMxZWVkNGE1YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNzQ1YjU3NDNmMTU0MTI1ODQ3NGQ1YTYwZTk4Yzc2ZSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTc0NWI1NzQzZjE1NDEyNTg0NzRkNWE2MGU5OGM3NmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNpbHZlciBIaWxscyxZb3JrIE1pbGxzLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80YjAyYTYxZWY0NGQ0OTU1YjA5MGVkMmMxZWVkNGE1Yi5zZXRDb250ZW50KGh0bWxfZTc0NWI1NzQzZjE1NDEyNTg0NzRkNWE2MGU5OGM3NmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTkwZTVkZjdkMjU2NDM3OTk5Njk2MDg2M2VjMDVlOWIuYmluZFBvcHVwKHBvcHVwXzRiMDJhNjFlZjQ0ZDQ5NTViMDkwZWQyYzFlZWQ0YTViKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NTM1NWNlNDQ4NjY0ZTZjYWY0MGE4YWI2YmIxMTE3YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4OTA1MywgLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDc0MGQwNTI4YmU5NDgzYzk0MGNmYjM2NGMyMmE2MWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGMyNmJhZDMzNGFiNGIyNDg1Y2EyMjg4OTQ4ZDI0NWUgPSAkKGA8ZGl2IGlkPSJodG1sXzRjMjZiYWQzMzRhYjRiMjQ4NWNhMjI4ODk0OGQyNDVlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OZXd0b25icm9vayxXaWxsb3dkYWxlLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNzQwZDA1MjhiZTk0ODNjOTQwY2ZiMzY0YzIyYTYxZi5zZXRDb250ZW50KGh0bWxfNGMyNmJhZDMzNGFiNGIyNDg1Y2EyMjg4OTQ4ZDI0NWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUzNTVjZTQ0ODY2NGU2Y2FmNDBhOGFiNmJiMTExN2EuYmluZFBvcHVwKHBvcHVwXzA3NDBkMDUyOGJlOTQ4M2M5NDBjZmIzNjRjMjJhNjFmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzkwNGU4ZjE4MjE0ODhjODc3MWMxNmQ1YWQyZjFmMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MDExOTksIC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU1OGU1ZjlmMzE5NDQwZjQ5OWVjZWY1Nzk3MDYyYTRlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZhODMyYWY1OGMyODQ1YzY4YTBhZTA4ZjM4ODlhOThiID0gJChgPGRpdiBpZD0iaHRtbF9mYTgzMmFmNThjMjg0NWM2OGEwYWUwOGYzODg5YTk4YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSBTb3V0aCwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTU4ZTVmOWYzMTk0NDBmNDk5ZWNlZjU3OTcwNjJhNGUuc2V0Q29udGVudChodG1sX2ZhODMyYWY1OGMyODQ1YzY4YTBhZTA4ZjM4ODlhOThiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMzOTA0ZThmMTgyMTQ4OGM4NzcxYzE2ZDVhZDJmMWYwLmJpbmRQb3B1cChwb3B1cF81NThlNWY5ZjMxOTQ0MGY0OTllY2VmNTc5NzA2MmE0ZSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWFlZDAwZjJiYTMxNGI5MGEzNzJkNTc5MzAxODI5YzUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTI3NTgyOTk5OTk5OTYsIC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTEwY2QyMzU0Yjg0NDcwOThmNzkyMTkyYTc3ODY1YTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmI2ZjkzNjhiMTAzNGZiNGJiNDI5NWMxMGZjNDYyNWUgPSAkKGA8ZGl2IGlkPSJodG1sXzJiNmY5MzY4YjEwMzRmYjRiYjQyOTVjMTBmYzQ2MjVlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QsIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxMGNkMjM1NGI4NDQ3MDk4Zjc5MjE5MmE3Nzg2NWEyLnNldENvbnRlbnQoaHRtbF8yYjZmOTM2OGIxMDM0ZmI0YmI0Mjk1YzEwZmM0NjI1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YWVkMDBmMmJhMzE0YjkwYTM3MmQ1NzkzMDE4MjljNS5iaW5kUG9wdXAocG9wdXBfNTEwY2QyMzU0Yjg0NDcwOThmNzkyMTkyYTc3ODY1YTIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE4OGY3YTFkYmU2ZjRjZTJhMzFkMmIyMGIzODI3MWFmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgyNzM2NCwgLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYWIzNjQ2ZGY0MzU0ZGY3YjEzZTAzYTM3NTA2OGE5YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YjZmMDUyYjNhMGI0OWJmYWVlMDZlNDE3NDgxOTRjZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNmI2ZjA1MmIzYTBiNDliZmFlZTA2ZTQxNzQ4MTk0Y2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUgV2VzdCwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmFiMzY0NmRmNDM1NGRmN2IxM2UwM2EzNzUwNjhhOWEuc2V0Q29udGVudChodG1sXzZiNmYwNTJiM2EwYjQ5YmZhZWUwNmU0MTc0ODE5NGNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE4OGY3YTFkYmU2ZjRjZTJhMzFkMmIyMGIzODI3MWFmLmJpbmRQb3B1cChwb3B1cF9iYWIzNjQ2ZGY0MzU0ZGY3YjEzZTAzYTM3NTA2OGE5YSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNThmYWNmODlmMzIxNDY1YThmNzZiMDdiZDUxOTNlZDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTMyNTg2LCAtNzkuMzI5NjU2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlMGZmZTA0Yzc2YTQwNmFhZmVjMjc4YWZhNzBlNzNkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U2NzMwZDNhYTRhMTRiNTI5NTdlN2IwMTBiMjJhYjVhID0gJChgPGRpdiBpZD0iaHRtbF9lNjczMGQzYWE0YTE0YjUyOTU3ZTdiMDEwYjIyYWI1YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3dvb2RzLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZTBmZmUwNGM3NmE0MDZhYWZlYzI3OGFmYTcwZTczZC5zZXRDb250ZW50KGh0bWxfZTY3MzBkM2FhNGExNGI1Mjk1N2U3YjAxMGIyMmFiNWEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNThmYWNmODlmMzIxNDY1YThmNzZiMDdiZDUxOTNlZDcuYmluZFBvcHVwKHBvcHVwX2VlMGZmZTA0Yzc2YTQwNmFhZmVjMjc4YWZhNzBlNzNkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZjY3NjNiMmFlZmM0OWQ4OGY0NjYzZmYxY2YxMWQ0MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NTkwNTc5OTk5OTk5NiwgLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM1OWFjY2VmNzEzYTQwZmRiZGU4YzE1Y2UzZWMzOTQwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRjOWQzNWY2NTE0NTQ2YjRiZmFhMzc4YzE2YTI1YWE0ID0gJChgPGRpdiBpZD0iaHRtbF80YzlkMzVmNjUxNDU0NmI0YmZhYTM3OGMxNmEyNWFhNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzIE5vcnRoLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNTlhY2NlZjcxM2E0MGZkYmRlOGMxNWNlM2VjMzk0MC5zZXRDb250ZW50KGh0bWxfNGM5ZDM1ZjY1MTQ1NDZiNGJmYWEzNzhjMTZhMjVhYTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2Y2NzYzYjJhZWZjNDlkODhmNDY2M2ZmMWNmMTFkNDIuYmluZFBvcHVwKHBvcHVwXzM1OWFjY2VmNzEzYTQwZmRiZGU4YzE1Y2UzZWMzOTQwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNTFiN2JiOWZlZWY0NGVkYmU1ZDYxZDY4NGQ0YTQwMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg5OTcwMDAwMDAxLCAtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDg5MmIzMDdkNzAxNDhiZTg3MTA2N2QyMmQ4YzQyYWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODk4YTJjMTEyNTMzNGRmODg1NjhiZGE3OTZlYjA2NmEgPSAkKGA8ZGl2IGlkPSJodG1sXzg5OGEyYzExMjUzMzRkZjg4NTY4YmRhNzk2ZWIwNjZhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GbGVtaW5nZG9uIFBhcmssRG9uIE1pbGxzIFNvdXRoLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ODkyYjMwN2Q3MDE0OGJlODcxMDY3ZDIyZDhjNDJhZC5zZXRDb250ZW50KGh0bWxfODk4YTJjMTEyNTMzNGRmODg1NjhiZGE3OTZlYjA2NmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzUxYjdiYjlmZWVmNDRlZGJlNWQ2MWQ2ODRkNGE0MDMuYmluZFBvcHVwKHBvcHVwXzQ4OTJiMzA3ZDcwMTQ4YmU4NzEwNjdkMjJkOGM0MmFkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ODM5NjJiOTM0ZmY0MDg3OGE2ZTEwYzY2ZDdkNmM3MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDMyODMsIC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTkyM2YzZmU3ZDI2NDNiZTljMmNhODhjOTk2NjI0MGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzFmZGFjOGYzNGFlNDFhMWEzMzc5YThlYzI1NTM4OGQgPSAkKGA8ZGl2IGlkPSJodG1sX2MxZmRhYzhmMzRhZTQxYTFhMzM3OWE4ZWMyNTUzODhkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXRodXJzdCBNYW5vcixEb3duc3ZpZXcgTm9ydGgsV2lsc29uIEhlaWdodHMsIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U5MjNmM2ZlN2QyNjQzYmU5YzJjYTg4Yzk5NjYyNDBjLnNldENvbnRlbnQoaHRtbF9jMWZkYWM4ZjM0YWU0MWExYTMzNzlhOGVjMjU1Mzg4ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ODM5NjJiOTM0ZmY0MDg3OGE2ZTEwYzY2ZDdkNmM3MS5iaW5kUG9wdXAocG9wdXBfZTkyM2YzZmU3ZDI2NDNiZTljMmNhODhjOTk2NjI0MGMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VmMmM0Mjk0ZjMzZjRhNWNhZjM5MWQ1Y2FjYzgxZmY0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzY3OTgwMywgLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmY3ZjhjNDI5ZDAyNDE0ZGE4NjVmN2FlN2JiYzQzNjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTkwYTUzNDE3NmY3NDM0MzkzMTczZmZiODY5YjEzMTIgPSAkKGA8ZGl2IGlkPSJodG1sXzk5MGE1MzQxNzZmNzQzNDM5MzE3M2ZmYjg2OWIxMzEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyayxZb3JrIFVuaXZlcnNpdHksIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJmN2Y4YzQyOWQwMjQxNGRhODY1ZjdhZTdiYmM0MzY3LnNldENvbnRlbnQoaHRtbF85OTBhNTM0MTc2Zjc0MzQzOTMxNzNmZmI4NjliMTMxMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZjJjNDI5NGYzM2Y0YTVjYWYzOTFkNWNhY2M4MWZmNC5iaW5kUG9wdXAocG9wdXBfMmY3ZjhjNDI5ZDAyNDE0ZGE4NjVmN2FlN2JiYzQzNjcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2ZWMyNzhkYzMyNDQ1YTRhMjc1NTZkNDIwOWY5NzliID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LCAtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NDFhOGY3NmQ1NTI0NTYxOGJjZDIwMGVkYjMzMTliMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNDBlZTY2N2I0OWU0MjQyYmZkYzZiMWI0MDgxNjgyMSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzQwZWU2NjdiNDllNDI0MmJmZGM2YjFiNDA4MTY4MjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNGQiBUb3JvbnRvLERvd25zdmlldyBFYXN0LCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NDFhOGY3NmQ1NTI0NTYxOGJjZDIwMGVkYjMzMTliMi5zZXRDb250ZW50KGh0bWxfMzQwZWU2NjdiNDllNDI0MmJmZGM2YjFiNDA4MTY4MjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZlYzI3OGRjMzI0NDVhNGEyNzU1NmQ0MjA5Zjk3OWIuYmluZFBvcHVwKHBvcHVwXzg0MWE4Zjc2ZDU1MjQ1NjE4YmNkMjAwZWRiMzMxOWIyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lZDA2ZTkxMzRkZDQ0ZjI4ODBmMTgxNGMxYzg5MjFiYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczOTAxNDYsIC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjczY2Q4YmZmZTFkNGU0NTg3MmJkNjEwM2VkMTM3ZmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTM3MTcxYTdjODZmNDAwNWIzMDRmMDY5Y2E1NGExMjUgPSAkKGA8ZGl2IGlkPSJodG1sX2EzNzE3MWE3Yzg2ZjQwMDViMzA0ZjA2OWNhNTRhMTI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgV2VzdCwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjczY2Q4YmZmZTFkNGU0NTg3MmJkNjEwM2VkMTM3ZmYuc2V0Q29udGVudChodG1sX2EzNzE3MWE3Yzg2ZjQwMDViMzA0ZjA2OWNhNTRhMTI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VkMDZlOTEzNGRkNDRmMjg4MGYxODE0YzFjODkyMWJhLmJpbmRQb3B1cChwb3B1cF8yNzNjZDhiZmZlMWQ0ZTQ1ODcyYmQ2MTAzZWQxMzdmZikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2ZhY2RmYTgyYmQwNDBkZGJiY2IwOTViNjM3MTNkMTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjg0OTY0LCAtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZGE1YzI1Yzk2YTQ0NTVmOWFlNjlkZTU2NWFiMWYzYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZWRiNjc4MmNkMWI0NmQ3YjVhMjM3YjY0YWM3ZWFjYyA9ICQoYDxkaXYgaWQ9Imh0bWxfNWVkYjY3ODJjZDFiNDZkN2I1YTIzN2I2NGFjN2VhY2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDZW50cmFsLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZGE1YzI1Yzk2YTQ0NTVmOWFlNjlkZTU2NWFiMWYzYy5zZXRDb250ZW50KGh0bWxfNWVkYjY3ODJjZDFiNDZkN2I1YTIzN2I2NGFjN2VhY2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2ZhY2RmYTgyYmQwNDBkZGJiY2IwOTViNjM3MTNkMTguYmluZFBvcHVwKHBvcHVwXzRkYTVjMjVjOTZhNDQ1NWY5YWU2OWRlNTY1YWIxZjNjKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNTgzNzcxMzMyMjI0YmE5OWU5NjYxZTg3NWI0MmRiZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsIC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QwOGI4ZTQ3ODc4NTQ4Yjc4YmUwM2RjN2EwOWZjNTc2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMwYTdmYTA3OWZhMjRjNTM4ZGVmODM2YWQ3OTQ4MTY2ID0gJChgPGRpdiBpZD0iaHRtbF8zMGE3ZmEwNzlmYTI0YzUzOGRlZjgzNmFkNzk0ODE2NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IE5vcnRod2VzdCwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDA4YjhlNDc4Nzg1NDhiNzhiZTAzZGM3YTA5ZmM1NzYuc2V0Q29udGVudChodG1sXzMwYTdmYTA3OWZhMjRjNTM4ZGVmODM2YWQ3OTQ4MTY2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA1ODM3NzEzMzIyMjRiYTk5ZTk2NjFlODc1YjQyZGJmLmJpbmRQb3B1cChwb3B1cF9kMDhiOGU0Nzg3ODU0OGI3OGJlMDNkYzdhMDlmYzU3NikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWM0MzYxZTBlYmVmNDNmN2JmNWM2ZmRiMTlkNDRmOTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4ODIyOTk5OTk5OTUsIC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzMDIzMjZjYTNiOTQ2MDRiMTMyNjk1MjFiNjVmNjA2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFjNmExNTk5MTg2ZjQ1NjU4NWVjMzEzYmM5ZjVjNmRkID0gJChgPGRpdiBpZD0iaHRtbF8xYzZhMTU5OTE4NmY0NTY1ODVlYzMxM2JjOWY1YzZkZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdG9yaWEgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODMwMjMyNmNhM2I5NDYwNGIxMzI2OTUyMWI2NWY2MDYuc2V0Q29udGVudChodG1sXzFjNmExNTk5MTg2ZjQ1NjU4NWVjMzEzYmM5ZjVjNmRkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzljNDM2MWUwZWJlZjQzZjdiZjVjNmZkYjE5ZDQ0ZjkwLmJpbmRQb3B1cChwb3B1cF84MzAyMzI2Y2EzYjk0NjA0YjEzMjY5NTIxYjY1ZjYwNikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmFjMzUzN2Y1ZjIzNGZhYjhlZDU1NTI2MTQ1OTY4NGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDYzOTcyLCAtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzQ3MDVlMTU2MGRmNDkyZDlmODg4YTczODhlYmEwYTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDQ4NTJjMmE0MDJkNDYyOTk3NDBmMjFiM2Q4OTdmOTIgPSAkKGA8ZGl2IGlkPSJodG1sX2Q0ODUyYzJhNDAyZDQ2Mjk5NzQwZjIxYjNkODk3ZjkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBHYXJkZW5zLFBhcmt2aWV3IEhpbGwsIEVhc3QgWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzQ3MDVlMTU2MGRmNDkyZDlmODg4YTczODhlYmEwYTAuc2V0Q29udGVudChodG1sX2Q0ODUyYzJhNDAyZDQ2Mjk5NzQwZjIxYjNkODk3ZjkyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZhYzM1MzdmNWYyMzRmYWI4ZWQ1NTUyNjE0NTk2ODRjLmJpbmRQb3B1cChwb3B1cF9jNDcwNWUxNTYwZGY0OTJkOWY4ODhhNzM4OGViYTBhMCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWYwYmU1NTFjY2VjNGNiMmE1NDY2ZTVmY2JlMjM3YWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsIC03OS4zMTgzODg3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQ4YzQ0ODI2MWRmNGE4NDhjNDY2OTYxMDJkZmJhOGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWM3OTMxMjkyNGM0NDA3NTg4Zjg1NTZmYjg4OTIwZTUgPSAkKGA8ZGl2IGlkPSJodG1sX2FjNzkzMTI5MjRjNDQwNzU4OGY4NTU2ZmI4ODkyMGU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzLCBFYXN0IFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY0OGM0NDgyNjFkZjRhODQ4YzQ2Njk2MTAyZGZiYThiLnNldENvbnRlbnQoaHRtbF9hYzc5MzEyOTI0YzQ0MDc1ODhmODU1NmZiODg5MjBlNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZjBiZTU1MWNjZWM0Y2IyYTU0NjZlNWZjYmUyMzdhZS5iaW5kUG9wdXAocG9wdXBfNjQ4YzQ0ODI2MWRmNGE4NDhjNDY2OTYxMDJkZmJhOGIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM5OTU4MGRiYjcxZjRhN2M5MzFiYjBkMGI3MDZmYjQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc2MzU3Mzk5OTk5OTksIC03OS4yOTMwMzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTA4NmU1YzdiNmI1NGYwNDkzNzc1MTU3ZDE1ODA1ZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWM1YWJkNzIyYzQ0NDNhYjhjYTMyMWU5NzY2NmFmMGMgPSAkKGA8ZGl2IGlkPSJodG1sX2VjNWFiZDcyMmM0NDQzYWI4Y2EzMjFlOTc2NjZhZjBjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcywgRWFzdCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MDg2ZTVjN2I2YjU0ZjA0OTM3NzUxNTdkMTU4MDVmMC5zZXRDb250ZW50KGh0bWxfZWM1YWJkNzIyYzQ0NDNhYjhjYTMyMWU5NzY2NmFmMGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzk5NTgwZGJiNzFmNGE3YzkzMWJiMGQwYjcwNmZiNDEuYmluZFBvcHVwKHBvcHVwXzUwODZlNWM3YjZiNTRmMDQ5Mzc3NTE1N2QxNTgwNWYwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MWM1MTcxNzEzYWE0MDNmODk0MDBlNDYyMjQ2MWQ2MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTA2MDQsIC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzAyMTQ0OTliNDY2NDlkNTg0NmRkYmYwMjc5YjlmNmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWRjODZmZTNmZWY3NDAwMDhhNDY5ZDZmZmQyMDA5ZjggPSAkKGA8ZGl2IGlkPSJodG1sXzlkYzg2ZmUzZmVmNzQwMDA4YTQ2OWQ2ZmZkMjAwOWY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MZWFzaWRlLCBFYXN0IFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MwMjE0NDk5YjQ2NjQ5ZDU4NDZkZGJmMDI3OWI5ZjZmLnNldENvbnRlbnQoaHRtbF85ZGM4NmZlM2ZlZjc0MDAwOGE0NjlkNmZmZDIwMDlmOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MWM1MTcxNzEzYWE0MDNmODk0MDBlNDYyMjQ2MWQ2MS5iaW5kUG9wdXAocG9wdXBfYzAyMTQ0OTliNDY2NDlkNTg0NmRkYmYwMjc5YjlmNmYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk2NmE0OWEyNDgxMTQ4ZmFiZTRiNGZiN2I5YTVmZjVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA1MzY4OSwgLTc5LjM0OTM3MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTEwYThhNmU1ZGM3NDNkNzk4YWI5ZTE5ZTBhNWZjNWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGI0ZWE1NGRkYTM2NDUxY2FlMmVlMWE0ZTljNzIwMTMgPSAkKGA8ZGl2IGlkPSJodG1sX2RiNGVhNTRkZGEzNjQ1MWNhZTJlZTFhNGU5YzcyMDEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaG9ybmNsaWZmZSBQYXJrLCBFYXN0IFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxMGE4YTZlNWRjNzQzZDc5OGFiOWUxOWUwYTVmYzVmLnNldENvbnRlbnQoaHRtbF9kYjRlYTU0ZGRhMzY0NTFjYWUyZWUxYTRlOWM3MjAxMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NjZhNDlhMjQ4MTE0OGZhYmU0YjRmYjdiOWE1ZmY1Zi5iaW5kUG9wdXAocG9wdXBfNTEwYThhNmU1ZGM3NDNkNzk4YWI5ZTE5ZTBhNWZjNWYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEyYzcwYmIwOTU4NjQ2YTRiNjI0ZGNjMTFiZGQyYjA0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg1MzQ3LCAtNzkuMzM4MTA2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY1YjQ5NDA0YzBhODQwOWViM2NmY2VhMzA3MjE1ZjdkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIzMTMwZTBkZjg4ZDRjZTJiZTIzNDIyODk1NDc3ZjdjID0gJChgPGRpdiBpZD0iaHRtbF8yMzEzMGUwZGY4OGQ0Y2UyYmUyMzQyMjg5NTQ3N2Y3YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBUb3JvbnRvLCBFYXN0IFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY1YjQ5NDA0YzBhODQwOWViM2NmY2VhMzA3MjE1ZjdkLnNldENvbnRlbnQoaHRtbF8yMzEzMGUwZGY4OGQ0Y2UyYmUyMzQyMjg5NTQ3N2Y3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMmM3MGJiMDk1ODY0NmE0YjYyNGRjYzExYmRkMmIwNC5iaW5kUG9wdXAocG9wdXBfNjViNDk0MDRjMGE4NDA5ZWIzY2ZjZWEzMDcyMTVmN2QpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM5NDkxNDQxMDY1ZDQ0MGE4ZTQ0MjVjZDIzMjc3N2ExID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc5NTU3MSwgLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NiYzZmMjIwYTQ2NTQ1ZWQ4ZjVlMGU2ZWI5Zjk4OWM5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q5NzM2MzBkZDQ0YTQ1ZGNhZTk2N2ExYzA0NTU1NTFmID0gJChgPGRpdiBpZD0iaHRtbF9kOTczNjMwZGQ0NGE0NWRjYWU5NjdhMWMwNDU1NTUxZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIERhbmZvcnRoIFdlc3QsUml2ZXJkYWxlLCBFYXN0IFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NiYzZmMjIwYTQ2NTQ1ZWQ4ZjVlMGU2ZWI5Zjk4OWM5LnNldENvbnRlbnQoaHRtbF9kOTczNjMwZGQ0NGE0NWRjYWU5NjdhMWMwNDU1NTUxZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zOTQ5MTQ0MTA2NWQ0NDBhOGU0NDI1Y2QyMzI3NzdhMS5iaW5kUG9wdXAocG9wdXBfY2JjNmYyMjBhNDY1NDVlZDhmNWUwZTZlYjlmOTg5YzkpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU3ODhlZmU4M2U4YjRjZTQ5YTFjYWQ1MWU0ZDNjOWYyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4OTk4NSwgLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2FkZTdiZTBkMzFjNDdmOTg3N2IxZDEyYmRjMTc4MjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzEzMWEwMDg2MmM5NGFlODlmYjMzMWNjNWZjOThmMGMgPSAkKGA8ZGl2IGlkPSJodG1sXzMxMzFhMDA4NjJjOTRhZTg5ZmIzMzFjYzVmYzk4ZjBjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQmVhY2hlcyBXZXN0LEluZGlhIEJhemFhciwgRWFzdCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYWRlN2JlMGQzMWM0N2Y5ODc3YjFkMTJiZGMxNzgyMC5zZXRDb250ZW50KGh0bWxfMzEzMWEwMDg2MmM5NGFlODlmYjMzMWNjNWZjOThmMGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTc4OGVmZTgzZThiNGNlNDlhMWNhZDUxZTRkM2M5ZjIuYmluZFBvcHVwKHBvcHVwXzNhZGU3YmUwZDMxYzQ3Zjk4NzdiMWQxMmJkYzE3ODIwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNjc4YWE1ZDM0ZjA0ZjczOGQzY2YzNTIzNmYwNjhjOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1OTUyNTUsIC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMGQ0YzI5ZjgyYTU0M2EwOWEzZDQyYjEzZmZkMmE2OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYmI5NTg1MjkyNGI0OTJjODljNGYyYWQxNjIwYzNhZSA9ICQoYDxkaXYgaWQ9Imh0bWxfY2JiOTU4NTI5MjRiNDkyYzg5YzRmMmFkMTYyMGMzYWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0dWRpbyBEaXN0cmljdCwgRWFzdCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMGQ0YzI5ZjgyYTU0M2EwOWEzZDQyYjEzZmZkMmE2OC5zZXRDb250ZW50KGh0bWxfY2JiOTU4NTI5MjRiNDkyYzg5YzRmMmFkMTYyMGMzYWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTY3OGFhNWQzNGYwNGY3MzhkM2NmMzUyMzZmMDY4YzguYmluZFBvcHVwKHBvcHVwX2MwZDRjMjlmODJhNTQzYTA5YTNkNDJiMTNmZmQyYTY4KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xZjllMjg1NzgwMDE0ZTdkOWE1ZGIzZmU0NTdlN2M1NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODAyMDUsIC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGI3MzYxMjMxNTAyNDRiYWI4YmQ1NTkxZmQ0NmJiZTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzI0MmJjZGE0YzBlNDJjZGIwZThmMDdmNzBhZTZhNmIgPSAkKGA8ZGl2IGlkPSJodG1sX2MyNDJiY2RhNGMwZTQyY2RiMGU4ZjA3ZjcwYWU2YTZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiNzM2MTIzMTUwMjQ0YmFiOGJkNTU5MWZkNDZiYmU0LnNldENvbnRlbnQoaHRtbF9jMjQyYmNkYTRjMGU0MmNkYjBlOGYwN2Y3MGFlNmE2Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZjllMjg1NzgwMDE0ZTdkOWE1ZGIzZmU0NTdlN2M1Ni5iaW5kUG9wdXAocG9wdXBfNGI3MzYxMjMxNTAyNDRiYWI4YmQ1NTkxZmQ0NmJiZTQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JmYzQ1YmNkMjdiYjQ2N2M4OTRmYTRlNWJkNGUxZjFjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEyNzUxMSwgLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZjZmZTNmNGIyNTA0NDEyYTcxYTEzN2Y5YzE1YTFiOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMmJhMWEyYTE1YzQ0NzUzYWE5MjFjZjViZmI0NGI1MCA9ICQoYDxkaXYgaWQ9Imh0bWxfYzJiYTFhMmExNWM0NDc1M2FhOTIxY2Y1YmZiNDRiNTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgTm9ydGgsIENlbnRyYWwgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2Y2ZmUzZjRiMjUwNDQxMmE3MWExMzdmOWMxNWExYjkuc2V0Q29udGVudChodG1sX2MyYmExYTJhMTVjNDQ3NTNhYTkyMWNmNWJmYjQ0YjUwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JmYzQ1YmNkMjdiYjQ2N2M4OTRmYTRlNWJkNGUxZjFjLmJpbmRQb3B1cChwb3B1cF9jZjZmZTNmNGIyNTA0NDEyYTcxYTEzN2Y5YzE1YTFiOSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmVlZmJkZTQwYWVkNGY3M2IzODhiOTk4ZjQ5MzIwOTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTUzODM0LCAtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNThlNzhiMmQxYmY0ODRlODkzOGNkMDJmMGYzNmNiZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NGU4MTE5YmNlNWQ0MTAyOGIyZmY4YjUzODFiZGYyYSA9ICQoYDxkaXYgaWQ9Imh0bWxfNDRlODExOWJjZTVkNDEwMjhiMmZmOGI1MzgxYmRmMmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFRvcm9udG8gV2VzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNThlNzhiMmQxYmY0ODRlODkzOGNkMDJmMGYzNmNiZi5zZXRDb250ZW50KGh0bWxfNDRlODExOWJjZTVkNDEwMjhiMmZmOGI1MzgxYmRmMmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmVlZmJkZTQwYWVkNGY3M2IzODhiOTk4ZjQ5MzIwOTYuYmluZFBvcHVwKHBvcHVwXzE1OGU3OGIyZDFiZjQ4NGU4OTM4Y2QwMmYwZjM2Y2JmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82MjUxNDY3YzcxYjM0ZmNkODcyNWNmYzUxYjg5NzM4OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNDMyNDQsIC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWY0MTg4MDZjMGMwNGIxNDg0YTJhYzllN2M5ZGQ1YWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWE5NjkwMGZlZmUxNGI5YThkODAyMDk5ZTZkYzRkZTcgPSAkKGA8ZGl2IGlkPSJodG1sX2FhOTY5MDBmZWZlMTRiOWE4ZDgwMjA5OWU2ZGM0ZGU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlLCBDZW50cmFsIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VmNDE4ODA2YzBjMDRiMTQ4NGEyYWM5ZTdjOWRkNWFiLnNldENvbnRlbnQoaHRtbF9hYTk2OTAwZmVmZTE0YjlhOGQ4MDIwOTllNmRjNGRlNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MjUxNDY3YzcxYjM0ZmNkODcyNWNmYzUxYjg5NzM4OS5iaW5kUG9wdXAocG9wdXBfZWY0MTg4MDZjMGMwNGIxNDg0YTJhYzllN2M5ZGQ1YWIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RkYWExMTY4ODJiYTQwY2ZiYWY0ZDE2NzdkOWY4ZmY2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5NTc0MywgLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmJiZGQwZGIyMjM4NDcxN2JiNTY1NTRiNjZmMDJiM2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWJlZjVkM2NkZDYyNDQ0ZmJhZWRlYjhlMjFiYzMyMWMgPSAkKGA8ZGl2IGlkPSJodG1sX2FiZWY1ZDNjZGQ2MjQ0NGZiYWVkZWI4ZTIxYmMzMjFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb29yZSBQYXJrLFN1bW1lcmhpbGwgRWFzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYmJkZDBkYjIyMzg0NzE3YmI1NjU1NGI2NmYwMmIzYy5zZXRDb250ZW50KGh0bWxfYWJlZjVkM2NkZDYyNDQ0ZmJhZWRlYjhlMjFiYzMyMWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGRhYTExNjg4MmJhNDBjZmJhZjRkMTY3N2Q5ZjhmZjYuYmluZFBvcHVwKHBvcHVwX2JiYmRkMGRiMjIzODQ3MTdiYjU2NTU0YjY2ZjAyYjNjKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZDJiZjVjMzlmN2Q0MTFlOWYwYjE3OGQ2NjFiMTViYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjQxMjI5OTk5OTk5LCAtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcyNzBlMDYwYmQxMjQzNzI4NTU3OTcxNjgzYzU3YTNiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg5OTc3M2EwMzhkMTRjZjg5NjZkYTAwZDUzNzVkOTE3ID0gJChgPGRpdiBpZD0iaHRtbF84OTk3NzNhMDM4ZDE0Y2Y4OTY2ZGEwMGQ1Mzc1ZDkxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVlciBQYXJrLEZvcmVzdCBIaWxsIFNFLFJhdGhuZWxseSxTb3V0aCBIaWxsLFN1bW1lcmhpbGwgV2VzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MjcwZTA2MGJkMTI0MzcyODU1Nzk3MTY4M2M1N2EzYi5zZXRDb250ZW50KGh0bWxfODk5NzczYTAzOGQxNGNmODk2NmRhMDBkNTM3NWQ5MTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmQyYmY1YzM5ZjdkNDExZTlmMGIxNzhkNjYxYjE1YmIuYmluZFBvcHVwKHBvcHVwXzcyNzBlMDYwYmQxMjQzNzI4NTU3OTcxNjgzYzU3YTNiKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMWY0ZjU4MTdjYzg0MDkxYjQwYWY5YTRiZjdkYjdhNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsIC03OS4zNzc1Mjk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQxODZhMmNkM2YzNTQ3OWJhZTFiMzMxNTU0NDI2NTBkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI2NTYyZmRmMGFkMjQ5OGNhZWJiNWM2ZGFhMTkwZTZmID0gJChgPGRpdiBpZD0iaHRtbF8yNjU2MmZkZjBhZDI0OThjYWViYjVjNmRhYTE5MGU2ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWRhbGUsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQxODZhMmNkM2YzNTQ3OWJhZTFiMzMxNTU0NDI2NTBkLnNldENvbnRlbnQoaHRtbF8yNjU2MmZkZjBhZDI0OThjYWViYjVjNmRhYTE5MGU2Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMWY0ZjU4MTdjYzg0MDkxYjQwYWY5YTRiZjdkYjdhNy5iaW5kUG9wdXAocG9wdXBfNDE4NmEyY2QzZjM1NDc5YmFlMWIzMzE1NTQ0MjY1MGQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y4ZmM2NDQxMGVkZjRhMGViM2I5YjY0YWFhYmMxNmRlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LCAtNzkuMzY3Njc1M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NiNjJhNTA5ZDY0ODRkYWZhNzgxYTVjODVmNjhkNGY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q4Mzk3YWU4MDU5ZDQ3MzM5MDY1MmIyYTBiZTVmNzFhID0gJChgPGRpdiBpZD0iaHRtbF9kODM5N2FlODA1OWQ0NzMzOTA2NTJiMmEwYmU1ZjcxYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FiYmFnZXRvd24sU3QuIEphbWVzIFRvd24sIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NiNjJhNTA5ZDY0ODRkYWZhNzgxYTVjODVmNjhkNGY5LnNldENvbnRlbnQoaHRtbF9kODM5N2FlODA1OWQ0NzMzOTA2NTJiMmEwYmU1ZjcxYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mOGZjNjQ0MTBlZGY0YTBlYjNiOWI2NGFhYWJjMTZkZS5iaW5kUG9wdXAocG9wdXBfY2I2MmE1MDlkNjQ4NGRhZmE3ODFhNWM4NWY2OGQ0ZjkpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2EyOTFmNTkwZWZlZDQyNWY4NDEyMDBkODg4YTk0MzU5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1ODU5OSwgLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWZiMTQ3MWVjZDlhNDhhOTk2YTQ1NGY3ZGY1YWQ4MDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzJkN2FhZmZiYWMzNDZlZmI4MjQ4MzE1NDVlZWY2N2EgPSAkKGA8ZGl2IGlkPSJodG1sXzMyZDdhYWZmYmFjMzQ2ZWZiODI0ODMxNTQ1ZWVmNjdhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHVyY2ggYW5kIFdlbGxlc2xleSwgRG93bnRvd24gVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWZiMTQ3MWVjZDlhNDhhOTk2YTQ1NGY3ZGY1YWQ4MDYuc2V0Q29udGVudChodG1sXzMyZDdhYWZmYmFjMzQ2ZWZiODI0ODMxNTQ1ZWVmNjdhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2EyOTFmNTkwZWZlZDQyNWY4NDEyMDBkODg4YTk0MzU5LmJpbmRQb3B1cChwb3B1cF85ZmIxNDcxZWNkOWE0OGE5OTZhNDU0ZjdkZjVhZDgwNikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGQ1ZDkzYmRkZTg5NDIyY2JiYWM0NTFhNzRiOTU0ZGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTQyNTk5LCAtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMxNzBmZGUwZWIyMDRkM2I4OGNjZDMwNzQ5ZGNmYjM2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFjYmExYTYxMWE0MzRmMmQ5Yjc5YjAyOTYzMDUxYTVkID0gJChgPGRpdiBpZD0iaHRtbF8xY2JhMWE2MTFhNDM0ZjJkOWI3OWIwMjk2MzA1MWE1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250LFJlZ2VudCBQYXJrLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMTcwZmRlMGViMjA0ZDNiODhjY2QzMDc0OWRjZmIzNi5zZXRDb250ZW50KGh0bWxfMWNiYTFhNjExYTQzNGYyZDliNzliMDI5NjMwNTFhNWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGQ1ZDkzYmRkZTg5NDIyY2JiYWM0NTFhNzRiOTU0ZGIuYmluZFBvcHVwKHBvcHVwXzMxNzBmZGUwZWIyMDRkM2I4OGNjZDMwNzQ5ZGNmYjM2KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNzk1ZjhmMTQ3Zjc0YzFkODJiM2E4YWExNjk3ZWNkZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsIC03OS4zNzg5MzcwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I1MGI1ZWM4ZjMxNDQ1ZjNhMzBjYjE2ZmI1MTIxOTZmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YzMGUyM2YyNWE3ODQ0Njk4NmU0Nzg0ZTQ3NzljNGEyID0gJChgPGRpdiBpZD0iaHRtbF9mMzBlMjNmMjVhNzg0NDY5ODZlNDc4NGU0Nzc5YzRhMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnllcnNvbixHYXJkZW4gRGlzdHJpY3QsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1MGI1ZWM4ZjMxNDQ1ZjNhMzBjYjE2ZmI1MTIxOTZmLnNldENvbnRlbnQoaHRtbF9mMzBlMjNmMjVhNzg0NDY5ODZlNDc4NGU0Nzc5YzRhMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kNzk1ZjhmMTQ3Zjc0YzFkODJiM2E4YWExNjk3ZWNkZC5iaW5kUG9wdXAocG9wdXBfYjUwYjVlYzhmMzE0NDVmM2EzMGNiMTZmYjUxMjE5NmYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y2MmFiZDg2OWY4MjQzYmU5NmI4ODlmMzFjMTVlYzI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUxNDkzOSwgLTc5LjM3NTQxNzldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85MjE5ZDM1MGQzZDM0M2UyYjRkNDE5MWE1ZTc0YTQ4YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iM2QwMDAyZGNmM2U0MTJjYmI1YzkzODMzYmMyMDJmNiA9ICQoYDxkaXYgaWQ9Imh0bWxfYjNkMDAwMmRjZjNlNDEyY2JiNWM5MzgzM2JjMjAyZjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0LiBKYW1lcyBUb3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MjE5ZDM1MGQzZDM0M2UyYjRkNDE5MWE1ZTc0YTQ4YS5zZXRDb250ZW50KGh0bWxfYjNkMDAwMmRjZjNlNDEyY2JiNWM5MzgzM2JjMjAyZjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjYyYWJkODY5ZjgyNDNiZTk2Yjg4OWYzMWMxNWVjMjUuYmluZFBvcHVwKHBvcHVwXzkyMTlkMzUwZDNkMzQzZTJiNGQ0MTkxYTVlNzRhNDhhKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMjZmMjkxNDNhMzQ0M2RhYWE3MDM0ZmUwMzNjMDFmNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwgLTc5LjM3MzMwNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZWE0ZmYwOWUxNjI0MGViYWU3YjlhMTQ1OTExNDZkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YjgwMDQyMDM1ZmE0ZjE3YTFiODJjOWY5OGQ2ODMzZSA9ICQoYDxkaXYgaWQ9Imh0bWxfNmI4MDA0MjAzNWZhNGYxN2ExYjgyYzlmOThkNjgzM2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlcmN6eSBQYXJrLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZWE0ZmYwOWUxNjI0MGViYWU3YjlhMTQ1OTExNDZkZC5zZXRDb250ZW50KGh0bWxfNmI4MDA0MjAzNWZhNGYxN2ExYjgyYzlmOThkNjgzM2UpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzI2ZjI5MTQzYTM0NDNkYWFhNzAzNGZlMDMzYzAxZjUuYmluZFBvcHVwKHBvcHVwX2RlYTRmZjA5ZTE2MjQwZWJhZTdiOWExNDU5MTE0NmRkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNDlhMGEzZGJlMzc0NzEzOTY5ZGYzOWE3MDQ4ZGVlYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1Nzk1MjQsIC03OS4zODczODI2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTMzZjEwZDViMGZiNDcyYWJiNjkxNzE0M2JjZTBkMGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmE3YmM0OGVkMzhhNGE5Mjg3MzBjMTI4MWI4MGJmOGUgPSAkKGA8ZGl2IGlkPSJodG1sX2ZhN2JjNDhlZDM4YTRhOTI4NzMwYzEyODFiODBiZjhlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZW50cmFsIEJheSBTdHJlZXQsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzM2YxMGQ1YjBmYjQ3MmFiYjY5MTcxNDNiY2UwZDBmLnNldENvbnRlbnQoaHRtbF9mYTdiYzQ4ZWQzOGE0YTkyODczMGMxMjgxYjgwYmY4ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNDlhMGEzZGJlMzc0NzEzOTY5ZGYzOWE3MDQ4ZGVlYy5iaW5kUG9wdXAocG9wdXBfZTMzZjEwZDViMGZiNDcyYWJiNjkxNzE0M2JjZTBkMGYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM5YzEyYzc4YzRmZTRlMjE5ZjRhMzIzMzBmZWExZTU1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwNTcxMjAwMDAwMDEsIC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjliZTU0Zjc4OTllNDk3YWFkNjAzMDg0NTEzZGNlYTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWJiMjhjZGFhNGNjNDM4ZDkxMzE4ZWU2MTVlZWQzNzQgPSAkKGA8ZGl2IGlkPSJodG1sXzFiYjI4Y2RhYTRjYzQzOGQ5MTMxOGVlNjE1ZWVkMzc0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZGVsYWlkZSxLaW5nLFJpY2htb25kLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mOWJlNTRmNzg5OWU0OTdhYWQ2MDMwODQ1MTNkY2VhMy5zZXRDb250ZW50KGh0bWxfMWJiMjhjZGFhNGNjNDM4ZDkxMzE4ZWU2MTVlZWQzNzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzljMTJjNzhjNGZlNGUyMTlmNGEzMjMzMGZlYTFlNTUuYmluZFBvcHVwKHBvcHVwX2Y5YmU1NGY3ODk5ZTQ5N2FhZDYwMzA4NDUxM2RjZWEzKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZTA0MDhjNWU4ZTY0NTQ4ODdlNmMxNWFmNDA4MzE1NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsIC03OS4zODE3NTIyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRmNjdjMjdiNGIwYTQ4ZGM5YmUwOTMyNGI1MDY2OTJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UwYzdkN2VkNGVkODQyZTJiMGJiNzk1MDE2MjM1OTVlID0gJChgPGRpdiBpZD0iaHRtbF9lMGM3ZDdlZDRlZDg0MmUyYjBiYjc5NTAxNjIzNTk1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsVG9yb250byBJc2xhbmRzLFVuaW9uIFN0YXRpb24sIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRmNjdjMjdiNGIwYTQ4ZGM5YmUwOTMyNGI1MDY2OTJjLnNldENvbnRlbnQoaHRtbF9lMGM3ZDdlZDRlZDg0MmUyYjBiYjc5NTAxNjIzNTk1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZTA0MDhjNWU4ZTY0NTQ4ODdlNmMxNWFmNDA4MzE1Ni5iaW5kUG9wdXAocG9wdXBfNGY2N2MyN2I0YjBhNDhkYzliZTA5MzI0YjUwNjY5MmMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFkNWQyYjNiZjE5OTQzZjM5MmI2M2I5YmQ5MzBhZGIzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3MTc2OCwgLTc5LjM4MTU3NjQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDk2NWJmOGRhOGRiNGNjMDgzMzFlMGIwOGE5NjQ5MTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjZkMDg4Y2FiM2Y5NDY1MTlhMTFlNTk5N2ExNGZmMWEgPSAkKGA8ZGl2IGlkPSJodG1sX2Y2ZDA4OGNhYjNmOTQ2NTE5YTExZTU5OTdhMTRmZjFhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZXNpZ24gRXhjaGFuZ2UsVG9yb250byBEb21pbmlvbiBDZW50cmUsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ5NjViZjhkYThkYjRjYzA4MzMxZTBiMDhhOTY0OTEwLnNldENvbnRlbnQoaHRtbF9mNmQwODhjYWIzZjk0NjUxOWExMWU1OTk3YTE0ZmYxYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZDVkMmIzYmYxOTk0M2YzOTJiNjNiOWJkOTMwYWRiMy5iaW5kUG9wdXAocG9wdXBfNDk2NWJmOGRhOGRiNGNjMDgzMzFlMGIwOGE5NjQ5MTApCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NmOGQ5MmFmYjY5YTRkNTI4ZTBlODhlMWUwOWEwNmY1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MTk4NSwgLTc5LjM3OTgxNjkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjk1OTNhOTM2MDFjNDkxMmI4MDJhM2ZhNzkyN2JiYmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjRmZjMyYTMwMGY5NGRlZTg2ZjhkOWYwOWQwNzNkZDYgPSAkKGA8ZGl2IGlkPSJodG1sX2I0ZmYzMmEzMDBmOTRkZWU4NmY4ZDlmMDlkMDczZGQ2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCxWaWN0b3JpYSBIb3RlbCwgRG93bnRvd24gVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjk1OTNhOTM2MDFjNDkxMmI4MDJhM2ZhNzkyN2JiYmIuc2V0Q29udGVudChodG1sX2I0ZmYzMmEzMDBmOTRkZWU4NmY4ZDlmMDlkMDczZGQ2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmOGQ5MmFmYjY5YTRkNTI4ZTBlODhlMWUwOWEwNmY1LmJpbmRQb3B1cChwb3B1cF9mOTU5M2E5MzYwMWM0OTEyYjgwMmEzZmE3OTI3YmJiYikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODQyZTU5MjgxYTRjNGQ2YmI2ZmIwNWUwZTc0NjE0ZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LCAtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMwNjk4MTQyMDExNTRmNmQ5MjNkNjYzMDExNmVhMmYyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VhY2E2Y2Q5ODhlNjRhNjNhODE2NzY0Mzk4MTQ2YzAwID0gJChgPGRpdiBpZD0iaHRtbF9lYWNhNmNkOTg4ZTY0YTYzYTgxNjc2NDM5ODE0NmMwMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLExhd3JlbmNlIE1hbm9yIEVhc3QsIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwNjk4MTQyMDExNTRmNmQ5MjNkNjYzMDExNmVhMmYyLnNldENvbnRlbnQoaHRtbF9lYWNhNmNkOTg4ZTY0YTYzYTgxNjc2NDM5ODE0NmMwMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NDJlNTkyODFhNGM0ZDZiYjZmYjA1ZTBlNzQ2MTRlYS5iaW5kUG9wdXAocG9wdXBfMzA2OTgxNDIwMTE1NGY2ZDkyM2Q2NjMwMTE2ZWEyZjIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFmMGRhYjMwZDE1MjRiNGFhZmUzYzFjZTgxOGZmMTdiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExNjk0OCwgLTc5LjQxNjkzNTU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGRmY2Q5NzA5ZTFiNDMzNDg3MmZhODdmNTRlOTcwY2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjc5NTZhZmJiNGEwNGEyMzkxYzNmNjk4MmMxMWVlN2MgPSAkKGA8ZGl2IGlkPSJodG1sX2I3OTU2YWZiYjRhMDRhMjM5MWMzZjY5ODJjMTFlZTdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3NlbGF3biwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZGZjZDk3MDllMWI0MzM0ODcyZmE4N2Y1NGU5NzBjYS5zZXRDb250ZW50KGh0bWxfYjc5NTZhZmJiNGEwNGEyMzkxYzNmNjk4MmMxMWVlN2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWYwZGFiMzBkMTUyNGI0YWFmZTNjMWNlODE4ZmYxN2IuYmluZFBvcHVwKHBvcHVwXzBkZmNkOTcwOWUxYjQzMzQ4NzJmYTg3ZjU0ZTk3MGNhKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZGM2YTIzYWQ3MzM0Y2E1OGJiMDE0NmMxMThkYTllNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsIC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkxNWJhNmZkN2YwYjQyMzNhYWQ3ZDkxN2UyYjFlMmQ5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFlNDBlYmZjYWVmMDRiYTY4MDMwODY1YTZlYjY5YzZhID0gJChgPGRpdiBpZD0iaHRtbF8xZTQwZWJmY2FlZjA0YmE2ODAzMDg2NWE2ZWI2OWM2YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rm9yZXN0IEhpbGwgTm9ydGgsRm9yZXN0IEhpbGwgV2VzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MTViYTZmZDdmMGI0MjMzYWFkN2Q5MTdlMmIxZTJkOS5zZXRDb250ZW50KGh0bWxfMWU0MGViZmNhZWYwNGJhNjgwMzA4NjVhNmViNjljNmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2RjNmEyM2FkNzMzNGNhNThiYjAxNDZjMTE4ZGE5ZTQuYmluZFBvcHVwKHBvcHVwXzkxNWJhNmZkN2YwYjQyMzNhYWQ3ZDkxN2UyYjFlMmQ5KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OTFlZWQ4MTY0NDQ0OTRkYjYxZDJkNDg5YjQ3NTgyOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MjcwOTcsIC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I3ZTZjZGRjMWQxZTQ4YjU4ZWNjMGRmYjAxNzE0NWU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NlODUzYWNjZTQ4NDQ2OWE5MTQ2Yzc0NGRlN2QwM2M1ID0gJChgPGRpdiBpZD0iaHRtbF9jZTg1M2FjY2U0ODQ0NjlhOTE0NmM3NDRkZTdkMDNjNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEFubmV4LE5vcnRoIE1pZHRvd24sWW9ya3ZpbGxlLCBDZW50cmFsIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3ZTZjZGRjMWQxZTQ4YjU4ZWNjMGRmYjAxNzE0NWU3LnNldENvbnRlbnQoaHRtbF9jZTg1M2FjY2U0ODQ0NjlhOTE0NmM3NDRkZTdkMDNjNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85OTFlZWQ4MTY0NDQ0OTRkYjYxZDJkNDg5YjQ3NTgyOS5iaW5kUG9wdXAocG9wdXBfYjdlNmNkZGMxZDFlNDhiNThlY2MwZGZiMDE3MTQ1ZTcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FkNGM4ODZlYTU5YTQ4ZGZhNmEyZjU4MTIxMDg2OGMxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwgLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lM2JkZTZkNzdiNDg0NTRjOTQyMThlN2Y5ODc5MzRhZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNGQ0MzNlYTdjZTA0N2U5YTI3NGQyODk0YTI1MjRmZiA9ICQoYDxkaXYgaWQ9Imh0bWxfZDRkNDMzZWE3Y2UwNDdlOWEyNzRkMjg5NGEyNTI0ZmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvcmQsVW5pdmVyc2l0eSBvZiBUb3JvbnRvLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lM2JkZTZkNzdiNDg0NTRjOTQyMThlN2Y5ODc5MzRhZS5zZXRDb250ZW50KGh0bWxfZDRkNDMzZWE3Y2UwNDdlOWEyNzRkMjg5NGEyNTI0ZmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWQ0Yzg4NmVhNTlhNDhkZmE2YTJmNTgxMjEwODY4YzEuYmluZFBvcHVwKHBvcHVwX2UzYmRlNmQ3N2I0ODQ1NGM5NDIxOGU3Zjk4NzkzNGFlKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84YjA2MDExZjZjZjg0OTY2YWZiMjBiYTVhM2JlZTkxNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzIwNTcsIC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWExZTAxZDVhM2VkNDJjMmIxN2NkMmY3YmY3YjZhMWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDA4ZWE0MmU3OWY5NGVlNTlhZjllZjA4OWJiZWUyNWMgPSAkKGA8ZGl2IGlkPSJodG1sXzAwOGVhNDJlNzlmOTRlZTU5YWY5ZWYwODliYmVlMjVjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluYXRvd24sR3JhbmdlIFBhcmssS2Vuc2luZ3RvbiBNYXJrZXQsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FhMWUwMWQ1YTNlZDQyYzJiMTdjZDJmN2JmN2I2YTFkLnNldENvbnRlbnQoaHRtbF8wMDhlYTQyZTc5Zjk0ZWU1OWFmOWVmMDg5YmJlZTI1Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YjA2MDExZjZjZjg0OTY2YWZiMjBiYTVhM2JlZTkxNS5iaW5kUG9wdXAocG9wdXBfYWExZTAxZDVhM2VkNDJjMmIxN2NkMmY3YmY3YjZhMWQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgxOWRhMDhiZWRmYjQxNzk5MTM1ZmYwYWVlMmVhODZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4OTQ2NywgLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YWE2YWI3MGJkOTY0NWVjOTYwNGQ0N2MxYTc5ZDMyOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZWYxMDc0MGI2MmQ0NGJlYTc2MWE0N2FjYzY3ZTg1MiA9ICQoYDxkaXYgaWQ9Imh0bWxfMmVmMTA3NDBiNjJkNDRiZWE3NjFhNDdhY2M2N2U4NTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNOIFRvd2VyLEJhdGh1cnN0IFF1YXksSXNsYW5kIGFpcnBvcnQsSGFyYm91cmZyb250IFdlc3QsS2luZyBhbmQgU3BhZGluYSxSYWlsd2F5IExhbmRzLFNvdXRoIE5pYWdhcmEsIERvd250b3duIFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVhYTZhYjcwYmQ5NjQ1ZWM5NjA0ZDQ3YzFhNzlkMzI5LnNldENvbnRlbnQoaHRtbF8yZWYxMDc0MGI2MmQ0NGJlYTc2MWE0N2FjYzY3ZTg1Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MTlkYTA4YmVkZmI0MTc5OTEzNWZmMGFlZTJlYTg2ZC5iaW5kUG9wdXAocG9wdXBfNWFhNmFiNzBiZDk2NDVlYzk2MDRkNDdjMWE3OWQzMjkpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIzZTI4ZjZiOGM3ZDQ5ZDY5Y2Q5YTg1ZDA1MGZlZjM4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2NDM1MiwgLTc5LjM3NDg0NTk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWIxMDY3MzFiNzY1NDc0ZjhiZmY5MjllMTA5NmNiNjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODFmMDM0MzgyNGU4NDViMTk4NWExZDZiYjk5NTUxN2MgPSAkKGA8ZGl2IGlkPSJodG1sXzgxZjAzNDM4MjRlODQ1YjE5ODVhMWQ2YmI5OTU1MTdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG4gQSBQTyBCb3hlcyAyNSBUaGUgRXNwbGFuYWRlLCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YjEwNjczMWI3NjU0NzRmOGJmZjkyOWUxMDk2Y2I2My5zZXRDb250ZW50KGh0bWxfODFmMDM0MzgyNGU4NDViMTk4NWExZDZiYjk5NTUxN2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjNlMjhmNmI4YzdkNDlkNjljZDlhODVkMDUwZmVmMzguYmluZFBvcHVwKHBvcHVwXzViMTA2NzMxYjc2NTQ3NGY4YmZmOTI5ZTEwOTZjYjYzKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yOWM2ODhmMmI2MjE0NTI3YTk5MzZkNjM0NjcyYWM4ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODQyOTIsIC03OS4zODIyODAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzFhMmMwNjY3M2QyNDQzNmFkODJlYjNhZDAyYWJkMWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDMwMmU0NGY1MTNkNGE4YWFjZTVlODVkMWE4ODg5OTUgPSAkKGA8ZGl2IGlkPSJodG1sXzQzMDJlNDRmNTEzZDRhOGFhY2U1ZTg1ZDFhODg4OTk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaXJzdCBDYW5hZGlhbiBQbGFjZSxVbmRlcmdyb3VuZCBjaXR5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMWEyYzA2NjczZDI0NDM2YWQ4MmViM2FkMDJhYmQxZi5zZXRDb250ZW50KGh0bWxfNDMwMmU0NGY1MTNkNGE4YWFjZTVlODVkMWE4ODg5OTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjljNjg4ZjJiNjIxNDUyN2E5OTM2ZDYzNDY3MmFjOGQuYmluZFBvcHVwKHBvcHVwXzMxYTJjMDY2NzNkMjQ0MzZhZDgyZWIzYWQwMmFiZDFmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MTVmZjM4YTg2ZGQ0N2FmYjQwMjQ2YWNhYWE1YmNjYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxODUxNzk5OTk5OTk5NiwgLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDEzZTdjMTg4YjcyNDI1MTkwMjRkOTQ3MWE5NzI2NzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTJmMGZiOWFkOThiNDMzOGExZmExYWM4Y2YwZGRiMjUgPSAkKGA8ZGl2IGlkPSJodG1sXzkyZjBmYjlhZDk4YjQzMzhhMWZhMWFjOGNmMGRkYjI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBIZWlnaHRzLExhd3JlbmNlIE1hbm9yLCBOb3J0aCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MTNlN2MxODhiNzI0MjUxOTAyNGQ5NDcxYTk3MjY3Ny5zZXRDb250ZW50KGh0bWxfOTJmMGZiOWFkOThiNDMzOGExZmExYWM4Y2YwZGRiMjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODE1ZmYzOGE4NmRkNDdhZmI0MDI0NmFjYWFhNWJjY2MuYmluZFBvcHVwKHBvcHVwXzQxM2U3YzE4OGI3MjQyNTE5MDI0ZDk0NzFhOTcyNjc3KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNTg4Zjk1NThlMTk0M2NlOWY4ZmJmYmQ4NGVlODgwNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywgLTc5LjQ0NTA3MjU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjExN2E0NmUzNGVlNDc4NWEyNTAzM2NjNzJmMTVhNmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTQ3NDg0MWFjZTBjNGY3NDhlYTA2MzlkMTYxMzUyMWUgPSAkKGA8ZGl2IGlkPSJodG1sXzk0NzQ4NDFhY2UwYzRmNzQ4ZWEwNjM5ZDE2MTM1MjFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm4sIE5vcnRoIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIxMTdhNDZlMzRlZTQ3ODVhMjUwMzNjYzcyZjE1YTZhLnNldENvbnRlbnQoaHRtbF85NDc0ODQxYWNlMGM0Zjc0OGVhMDYzOWQxNjEzNTIxZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNTg4Zjk1NThlMTk0M2NlOWY4ZmJmYmQ4NGVlODgwNy5iaW5kUG9wdXAocG9wdXBfMjExN2E0NmUzNGVlNDc4NWEyNTAzM2NjNzJmMTVhNmEpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA0OTFhNDU1NjU0MTRiOTQ4ZDcwMDI4ZjgxNmIzMTUwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNzgxMywgLTc5LjQyODE5MTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjYzYTE1ZmE3NTFhNDE2Mjg5MTNmNDFiN2UxMzdhMWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzU3YTRiYmI1YjQzNGMyM2E4MzU3ODUwMjJhNzQ2NjYgPSAkKGA8ZGl2IGlkPSJodG1sX2M1N2E0YmJiNWI0MzRjMjNhODM1Nzg1MDIyYTc0NjY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1ld29vZC1DZWRhcnZhbGUsIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY2M2ExNWZhNzUxYTQxNjI4OTEzZjQxYjdlMTM3YTFmLnNldENvbnRlbnQoaHRtbF9jNTdhNGJiYjViNDM0YzIzYTgzNTc4NTAyMmE3NDY2Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNDkxYTQ1NTY1NDE0Yjk0OGQ3MDAyOGY4MTZiMzE1MC5iaW5kUG9wdXAocG9wdXBfNjYzYTE1ZmE3NTFhNDE2Mjg5MTNmNDFiN2UxMzdhMWYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E5ZTU0YmFlYmI1YjRjYWJiZWE0YmIyMDg2YzQ3ZThmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5MDI1NiwgLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZjMThkYWZhMmQzYTRiOTk5NWVkYjExYzhmNTc5MzFkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg3NTEzODM3ODBiMjQzMDBhNDNlZTVlM2U5NTg1MDVlID0gJChgPGRpdiBpZD0iaHRtbF84NzUxMzgzNzgwYjI0MzAwYTQzZWU1ZTNlOTU4NTA1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FsZWRvbmlhLUZhaXJiYW5rcywgWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmMxOGRhZmEyZDNhNGI5OTk1ZWRiMTFjOGY1NzkzMWQuc2V0Q29udGVudChodG1sXzg3NTEzODM3ODBiMjQzMDBhNDNlZTVlM2U5NTg1MDVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E5ZTU0YmFlYmI1YjRjYWJiZWE0YmIyMDg2YzQ3ZThmLmJpbmRQb3B1cChwb3B1cF82YzE4ZGFmYTJkM2E0Yjk5OTVlZGIxMWM4ZjU3OTMxZCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWYzM2JhYjlhYTJiNGRmYjkwMTUzMTA3ZDFiNzg4ZjAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njk1NDIsIC03OS40MjI1NjM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTZhOGY3NDdmMzFmNDliZmE5MWM3YjY1ODI3MDk0NGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDUyMzdjOTlhYWViNGE5OGExNTZkNzk5ODE5YTdmNmEgPSAkKGA8ZGl2IGlkPSJodG1sX2Q1MjM3Yzk5YWFlYjRhOThhMTU2ZDc5OTgxOWE3ZjZhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHJpc3RpZSwgRG93bnRvd24gVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTZhOGY3NDdmMzFmNDliZmE5MWM3YjY1ODI3MDk0NGMuc2V0Q29udGVudChodG1sX2Q1MjM3Yzk5YWFlYjRhOThhMTU2ZDc5OTgxOWE3ZjZhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFmMzNiYWI5YWEyYjRkZmI5MDE1MzEwN2QxYjc4OGYwLmJpbmRQb3B1cChwb3B1cF9hNmE4Zjc0N2YzMWY0OWJmYTkxYzdiNjU4MjcwOTQ0YykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2UzYmZkYWJmYmZlNDA1Y2JkMGNiYmU1YzliNGQ1YTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjkwMDUxMDAwMDAwMSwgLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZThkMGFmNmU5ODg0ZDlhYjZjMjkxNDk2NWVhODQzYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYzFjMDk0NTEyNjk0YzZmODk3N2RmOWU5NTdiZWJkZCA9ICQoYDxkaXYgaWQ9Imh0bWxfY2MxYzA5NDUxMjY5NGM2Zjg5NzdkZjllOTU3YmViZGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvdmVyY291cnQgVmlsbGFnZSxEdWZmZXJpbiwgV2VzdCBUb3JvbnRvPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZThkMGFmNmU5ODg0ZDlhYjZjMjkxNDk2NWVhODQzYy5zZXRDb250ZW50KGh0bWxfY2MxYzA5NDUxMjY5NGM2Zjg5NzdkZjllOTU3YmViZGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2UzYmZkYWJmYmZlNDA1Y2JkMGNiYmU1YzliNGQ1YTMuYmluZFBvcHVwKHBvcHVwXzdlOGQwYWY2ZTk4ODRkOWFiNmMyOTE0OTY1ZWE4NDNjKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMTY3NWVmYWUxNGM0YzM2YWUwMGJlZTg1ZGU5ZWRlZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzkyNjcwMDAwMDAwNiwgLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iZmZiZWFiNGUyYjE0MmY1ODg5ZTk1OTA5NmFkNmVmZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYmFjZGYwNTI5NzA0ZWU0ODg0NTQwZWFkY2M0NDU3YSA9ICQoYDxkaXYgaWQ9Imh0bWxfMmJhY2RmMDUyOTcwNGVlNDg4NDU0MGVhZGNjNDQ1N2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBQb3J0dWdhbCxUcmluaXR5LCBXZXN0IFRvcm9udG88L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JmZmJlYWI0ZTJiMTQyZjU4ODllOTU5MDk2YWQ2ZWZmLnNldENvbnRlbnQoaHRtbF8yYmFjZGYwNTI5NzA0ZWU0ODg0NTQwZWFkY2M0NDU3YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMTY3NWVmYWUxNGM0YzM2YWUwMGJlZTg1ZGU5ZWRlZC5iaW5kUG9wdXAocG9wdXBfYmZmYmVhYjRlMmIxNDJmNTg4OWU5NTkwOTZhZDZlZmYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQzNTkwNzRhNDc0NjQzMWRhMzhlZmY4YmU4ZjY0N2Q1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2ODQ3MiwgLTc5LjQyODE5MTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDYzYTBlZTViNjg2NDE3MzkyMThkNzlkOGNlNDY3NWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODdjNDU5ZWI0MWVmNGI2YzgwNTNiYTdlM2Q0ZGUyNGMgPSAkKGA8ZGl2IGlkPSJodG1sXzg3YzQ1OWViNDFlZjRiNmM4MDUzYmE3ZTNkNGRlMjRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ccm9ja3RvbixFeGhpYml0aW9uIFBsYWNlLFBhcmtkYWxlIFZpbGxhZ2UsIFdlc3QgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDYzYTBlZTViNjg2NDE3MzkyMThkNzlkOGNlNDY3NWYuc2V0Q29udGVudChodG1sXzg3YzQ1OWViNDFlZjRiNmM4MDUzYmE3ZTNkNGRlMjRjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQzNTkwNzRhNDc0NjQzMWRhMzhlZmY4YmU4ZjY0N2Q1LmJpbmRQb3B1cChwb3B1cF80NjNhMGVlNWI2ODY0MTczOTIxOGQ3OWQ4Y2U0Njc1ZikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzQyZTdkNDU2MWIzNDAyMjkyZWU3Yzk3MjZiOWVjODAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTM3NTYyMDAwMDAwMDYsIC03OS40OTAwNzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmNmYzM0YTUzMjU2NDFmYTliZjc2MjIwMjlmNGY1NWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjkxMGY4NmQyNDQ1NDNmOTkzYjk0ZmUwZTY2ZTc2MzMgPSAkKGA8ZGl2IGlkPSJodG1sXzI5MTBmODZkMjQ0NTQzZjk5M2I5NGZlMGU2NmU3NjMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXBsZSBMZWFmIFBhcmssTm9ydGggUGFyayxVcHdvb2QgUGFyaywgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmNmYzM0YTUzMjU2NDFmYTliZjc2MjIwMjlmNGY1NWIuc2V0Q29udGVudChodG1sXzI5MTBmODZkMjQ0NTQzZjk5M2I5NGZlMGU2NmU3NjMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM0MmU3ZDQ1NjFiMzQwMjI5MmVlN2M5NzI2YjllYzgwLmJpbmRQb3B1cChwb3B1cF9mY2ZjMzRhNTMyNTY0MWZhOWJmNzYyMjAyOWY0ZjU1YikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTNmN2RjYzA0Y2FkNDg5ZGJiZmE1OWE3NGZhZmNmMjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTExMTU4LCAtNzkuNDc2MDEzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YTMxYmQ1NjU1MTE0MzA5OTViMzUxZjU2Yjk3MGE4NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NzM1MWY1Yjg5ZDU0ZjQ5ODdmYTM3MmE0MGExZTA3MCA9ICQoYDxkaXYgaWQ9Imh0bWxfNTczNTFmNWI4OWQ1NGY0OTg3ZmEzNzJhNDBhMWUwNzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlbCBSYXksS2VlbGVzZGFsZSxNb3VudCBEZW5uaXMsU2lsdmVydGhvcm4sIFlvcms8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdhMzFiZDU2NTUxMTQzMDk5NWIzNTFmNTZiOTcwYTg0LnNldENvbnRlbnQoaHRtbF81NzM1MWY1Yjg5ZDU0ZjQ5ODdmYTM3MmE0MGExZTA3MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hM2Y3ZGNjMDRjYWQ0ODlkYmJmYTU5YTc0ZmFmY2YyMy5iaW5kUG9wdXAocG9wdXBfN2EzMWJkNTY1NTExNDMwOTk1YjM1MWY1NmI5NzBhODQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgwNzJhODYyNGI1NDQxZjBiODczZWNmOWFmZGQyMGQ1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjczMTg1Mjk5OTk5OTksIC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM5YjNjM2ZmNTBjYzRkMzJiNmNmNTRiOTY5M2QyZDY4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UzNzBkZTQyMTRkNjQ4MmFhMGY0ZWE3YWNhMGExMTI1ID0gJChgPGRpdiBpZD0iaHRtbF9lMzcwZGU0MjE0ZDY0ODJhYTBmNGVhN2FjYTBhMTEyNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEp1bmN0aW9uIE5vcnRoLFJ1bm55bWVkZSwgWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzliM2MzZmY1MGNjNGQzMmI2Y2Y1NGI5NjkzZDJkNjguc2V0Q29udGVudChodG1sX2UzNzBkZTQyMTRkNjQ4MmFhMGY0ZWE3YWNhMGExMTI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgwNzJhODYyNGI1NDQxZjBiODczZWNmOWFmZGQyMGQ1LmJpbmRQb3B1cChwb3B1cF8zOWIzYzNmZjUwY2M0ZDMyYjZjZjU0Yjk2OTNkMmQ2OCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWQ2YmQwYjMwNWViNDQ1MmI0NWQ4OWMyZTU4Yjg0ZWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLCAtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNWM5ZDRhNTIyMDU0ZGQwYjczYjI0ZDQ2MTA4NjFjMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZDQxM2U1NDkyMWY0ZmMzYWIwMzExYTA2MDFlNzQ4YyA9ICQoYDxkaXYgaWQ9Imh0bWxfM2Q0MTNlNTQ5MjFmNGZjM2FiMDMxMWEwNjAxZTc0OGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2ggUGFyayxUaGUgSnVuY3Rpb24gU291dGgsIFdlc3QgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzVjOWQ0YTUyMjA1NGRkMGI3M2IyNGQ0NjEwODYxYzIuc2V0Q29udGVudChodG1sXzNkNDEzZTU0OTIxZjRmYzNhYjAzMTFhMDYwMWU3NDhjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFkNmJkMGIzMDVlYjQ0NTJiNDVkODljMmU1OGI4NGViLmJpbmRQb3B1cChwb3B1cF9jNWM5ZDRhNTIyMDU0ZGQwYjczYjI0ZDQ2MTA4NjFjMikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2IwZWNlMTkxOTU1NGJkZjlkNzE2ZTRjZTlkNmY5MTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg5NTk3LCAtNzkuNDU2MzI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzlmNTkzMWRlZDQ3NGU0NmE0ZTE1NWYxYzA2MjAwZWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWZmMDI3MWFjMjc3NDZhMzlhNmE1NTUyZmFjNjMyMWEgPSAkKGA8ZGl2IGlkPSJodG1sXzlmZjAyNzFhYzI3NzQ2YTM5YTZhNTU1MmZhYzYzMjFhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrZGFsZSxSb25jZXN2YWxsZXMsIFdlc3QgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzlmNTkzMWRlZDQ3NGU0NmE0ZTE1NWYxYzA2MjAwZWIuc2V0Q29udGVudChodG1sXzlmZjAyNzFhYzI3NzQ2YTM5YTZhNTU1MmZhYzYzMjFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NiMGVjZTE5MTk1NTRiZGY5ZDcxNmU0Y2U5ZDZmOTE2LmJpbmRQb3B1cChwb3B1cF9jOWY1OTMxZGVkNDc0ZTQ2YTRlMTU1ZjFjMDYyMDBlYikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYThmZjgxYjFlMDU0NDVmOTg0Y2VjNjRjZDgyZTg4ZTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LCAtNzkuNDg0NDQ5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y5NjM0ODgwMDY3ZDQ5ZTViODg3Y2I1NzZmYjgyNDliID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YwMzMzYTQ2OTVjZTQ1OGViNjAyNmIyOGFhNzE4YjAwID0gJChgPGRpdiBpZD0iaHRtbF9mMDMzM2E0Njk1Y2U0NThlYjYwMjZiMjhhYTcxOGIwMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLFN3YW5zZWEsIFdlc3QgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjk2MzQ4ODAwNjdkNDllNWI4ODdjYjU3NmZiODI0OWIuc2V0Q29udGVudChodG1sX2YwMzMzYTQ2OTVjZTQ1OGViNjAyNmIyOGFhNzE4YjAwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E4ZmY4MWIxZTA1NDQ1Zjk4NGNlYzY0Y2Q4MmU4OGU5LmJpbmRQb3B1cChwb3B1cF9mOTYzNDg4MDA2N2Q0OWU1Yjg4N2NiNTc2ZmI4MjQ5YikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzY2M2UyZGIwYjlmNGNkYTk1YzA0NGU0ZjQ5NDg1ZjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjIzMDE1LCAtNzkuMzg5NDkzOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNhZmVhMDc4YzJmOTQxYTU4NGY0ZTBiMTQ2YjRhYTQxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIyODc5ZGU0ZGZkODRjNTc4ZjMwMDAxOTljZGRmYjVhID0gJChgPGRpdiBpZD0iaHRtbF8yMjg3OWRlNGRmZDg0YzU3OGYzMDAwMTk5Y2RkZmI1YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UXVlZW4mIzM5O3MgUGFyaywgUXVlZW4mIzM5O3MgUGFyazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2FmZWEwNzhjMmY5NDFhNTg0ZjRlMGIxNDZiNGFhNDEuc2V0Q29udGVudChodG1sXzIyODc5ZGU0ZGZkODRjNTc4ZjMwMDAxOTljZGRmYjVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc2NjNlMmRiMGI5ZjRjZGE5NWMwNDRlNGY0OTQ4NWYyLmJpbmRQb3B1cChwb3B1cF8zYWZlYTA3OGMyZjk0MWE1ODRmNGUwYjE0NmI0YWE0MSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2Q3ZjhkYWY4M2ZmNGNjNjlkZWY2OWVhYTc2ZTFmNWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY5NjU2LCAtNzkuNjE1ODE4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNWU5ZmRkZjYwODM0NDFkOWE1YTk0MDM1ZWZmYjIxNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYTRjMmQ1MzhlOGY0NGEyODkyYmQ4ZmZhYTVjMGU1YyA9ICQoYDxkaXYgaWQ9Imh0bWxfM2E0YzJkNTM4ZThmNDRhMjg5MmJkOGZmYWE1YzBlNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmUsIE1pc3Npc3NhdWdhPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNWU5ZmRkZjYwODM0NDFkOWE1YTk0MDM1ZWZmYjIxNC5zZXRDb250ZW50KGh0bWxfM2E0YzJkNTM4ZThmNDRhMjg5MmJkOGZmYWE1YzBlNWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2Q3ZjhkYWY4M2ZmNGNjNjlkZWY2OWVhYTc2ZTFmNWMuYmluZFBvcHVwKHBvcHVwX2M1ZTlmZGRmNjA4MzQ0MWQ5YTVhOTQwMzVlZmZiMjE0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNjJjMWUyMjBhY2M0YzZiYjJiNjJkOWQ0OWFiYzMyOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Mjc0MzksIC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NjIzNWE2NTBhNzE0MDc3OTBkMzk1ZWRiMTA5NTdiNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOWUwNzA1NTQxMTM0NjgxOGM1Y2M5M2M4MGZiMDk5NyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzllMDcwNTU0MTEzNDY4MThjNWNjOTNjODBmYjA5OTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJ1c2luZXNzIFJlcGx5IE1haWwgUHJvY2Vzc2luZyBDZW50cmUgOTY5IEVhc3Rlcm4sIEVhc3QgVG9yb250bzwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTYyMzVhNjUwYTcxNDA3NzkwZDM5NWVkYjEwOTU3YjQuc2V0Q29udGVudChodG1sX2M5ZTA3MDU1NDExMzQ2ODE4YzVjYzkzYzgwZmIwOTk3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE2MmMxZTIyMGFjYzRjNmJiMmI2MmQ5ZDQ5YWJjMzI5LmJpbmRQb3B1cChwb3B1cF85NjIzNWE2NTBhNzE0MDc3OTBkMzk1ZWRiMTA5NTdiNCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGQ0YWVkOWM0MGNkNGY4ZWI2MzFmNmNkMmQyYjU3MjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDU2NDY2LCAtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZTdmYjdkNDI5NTM0NWVjOTgxYzI5MWNlZjBkZWEwYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZDBiYTMwNTBhN2E0ZmFmOTVlYTI5M2Q0NTFkOGZiOSA9ICQoYDxkaXYgaWQ9Imh0bWxfZGQwYmEzMDUwYTdhNGZhZjk1ZWEyOTNkNDUxZDhmYjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBCYXkgU2hvcmVzLE1pbWljbyBTb3V0aCxOZXcgVG9yb250bywgRXRvYmljb2tlPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZTdmYjdkNDI5NTM0NWVjOTgxYzI5MWNlZjBkZWEwYi5zZXRDb250ZW50KGh0bWxfZGQwYmEzMDUwYTdhNGZhZjk1ZWEyOTNkNDUxZDhmYjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGQ0YWVkOWM0MGNkNGY4ZWI2MzFmNmNkMmQyYjU3MjMuYmluZFBvcHVwKHBvcHVwXzFlN2ZiN2Q0Mjk1MzQ1ZWM5ODFjMjkxY2VmMGRlYTBiKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNzk0NjYzYjE0YjA0MjhkOWUxMDFkZWZhYTdjYjE1YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMjQxMzcwMDAwMDAxLCAtNzkuNTQzNDg0MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NmU5NzQ0NmYyNzM0M2UwOTU0MjhhMjJlNDgzMDU0OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMTFmNzdjMmIwMDQ0NDU2OGE1Yjc5NzJiZTg0ZDk3OCA9ICQoYDxkaXYgaWQ9Imh0bWxfYjExZjc3YzJiMDA0NDQ1NjhhNWI3OTcyYmU4NGQ5NzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsZGVyd29vZCxMb25nIEJyYW5jaCwgRXRvYmljb2tlPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NmU5NzQ0NmYyNzM0M2UwOTU0MjhhMjJlNDgzMDU0OC5zZXRDb250ZW50KGh0bWxfYjExZjc3YzJiMDA0NDQ1NjhhNWI3OTcyYmU4NGQ5NzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDc5NDY2M2IxNGIwNDI4ZDllMTAxZGVmYWE3Y2IxNWIuYmluZFBvcHVwKHBvcHVwXzQ2ZTk3NDQ2ZjI3MzQzZTA5NTQyOGEyMmU0ODMwNTQ4KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OWJkOWZiNWIwNzE0ZGY5OTk1MjRmNWZiMGRhYjAyMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzY1MzYwMDAwMDAwNSwgLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kOWE1NTE2MGI2YjA0ZGM0YjExZDY2NmNlMDk4MDZiOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMTI2NWI3ZThmMDk0ZjE3YTU4MTY2MzM1ODJmYjNmZCA9ICQoYDxkaXYgaWQ9Imh0bWxfYTEyNjViN2U4ZjA5NGYxN2E1ODE2NjMzNTgyZmIzZmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBLaW5nc3dheSxNb250Z29tZXJ5IFJvYWQsT2xkIE1pbGwgTm9ydGgsIEV0b2JpY29rZTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDlhNTUxNjBiNmIwNGRjNGIxMWQ2NjZjZTA5ODA2Yjguc2V0Q29udGVudChodG1sX2ExMjY1YjdlOGYwOTRmMTdhNTgxNjYzMzU4MmZiM2ZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU5YmQ5ZmI1YjA3MTRkZjk5OTUyNGY1ZmIwZGFiMDIyLmJpbmRQb3B1cChwb3B1cF9kOWE1NTE2MGI2YjA0ZGM0YjExZDY2NmNlMDk4MDZiOCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDFlNDA1YThmMzBlNDNhNjhkYjdiYzY1MjY3OTFlOWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzYyNTc5LCAtNzkuNDk4NTA5MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lM2U5NTRkOTY3ZDU0YTk2YTA4NzZlN2QwOGU5NWFkNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNDk5YWVjYWFlNWU0ZTkzYmVhOTI2ZjBjZTI3NjA2NCA9ICQoYDxkaXYgaWQ9Imh0bWxfYzQ5OWFlY2FhZTVlNGU5M2JlYTkyNmYwY2UyNzYwNjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBCYXksS2luZyYjMzk7cyBNaWxsIFBhcmssS2luZ3N3YXkgUGFyayBTb3V0aCBFYXN0LE1pbWljbyBORSxPbGQgTWlsbCBTb3V0aCxUaGUgUXVlZW5zd2F5IEVhc3QsUm95YWwgWW9yayBTb3V0aCBFYXN0LFN1bm55bGVhLCBFdG9iaWNva2U8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzZTk1NGQ5NjdkNTRhOTZhMDg3NmU3ZDA4ZTk1YWQ3LnNldENvbnRlbnQoaHRtbF9jNDk5YWVjYWFlNWU0ZTkzYmVhOTI2ZjBjZTI3NjA2NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80MWU0MDVhOGYzMGU0M2E2OGRiN2JjNjUyNjc5MWU5Yi5iaW5kUG9wdXAocG9wdXBfZTNlOTU0ZDk2N2Q1NGE5NmEwODc2ZTdkMDhlOTVhZDcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QzMTIwZTlhODMyOTQ2Y2FiMDA4MzYyNTE1ZDFkOWE2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4ODQwOCwgLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmNlYjQ2NmQ5M2NhNGM0MmJkMzIyZjQ0ZDY3NmUzMjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTRkYmYwNTQ3ZDFiNGU4ZGFiNTcwNzhlZmU0MTc5YjcgPSAkKGA8ZGl2IGlkPSJodG1sX2E0ZGJmMDU0N2QxYjRlOGRhYjU3MDc4ZWZlNDE3OWI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LaW5nc3dheSBQYXJrIFNvdXRoIFdlc3QsTWltaWNvIE5XLFRoZSBRdWVlbnN3YXkgV2VzdCxSb3lhbCBZb3JrIFNvdXRoIFdlc3QsU291dGggb2YgQmxvb3IsIEV0b2JpY29rZTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmNlYjQ2NmQ5M2NhNGM0MmJkMzIyZjQ0ZDY3NmUzMjEuc2V0Q29udGVudChodG1sX2E0ZGJmMDU0N2QxYjRlOGRhYjU3MDc4ZWZlNDE3OWI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QzMTIwZTlhODMyOTQ2Y2FiMDA4MzYyNTE1ZDFkOWE2LmJpbmRQb3B1cChwb3B1cF9mY2ViNDY2ZDkzY2E0YzQyYmQzMjJmNDRkNjc2ZTMyMSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzk4Njk2NTE2YTAxNDUyYzg1ZjQwMjc4MDVmOWRhMjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc4NTU2LCAtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82M2E4ZDhhMDc0NTU0YjQ1Yjc3YmZlNWI3NGVjMzI5MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OWFjOTI4MmRiYTg0Nzc1ODAzYWRmZjg1NjI0NzVmMCA9ICQoYDxkaXYgaWQ9Imh0bWxfNzlhYzkyODJkYmE4NDc3NTgwM2FkZmY4NTYyNDc1ZjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklzbGluZ3RvbiBBdmVudWUsIEV0b2JpY29rZTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjNhOGQ4YTA3NDU1NGI0NWI3N2JmZTViNzRlYzMyOTIuc2V0Q29udGVudChodG1sXzc5YWM5MjgyZGJhODQ3NzU4MDNhZGZmODU2MjQ3NWYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc5ODY5NjUxNmEwMTQ1MmM4NWY0MDI3ODA1ZjlkYTI5LmJpbmRQb3B1cChwb3B1cF82M2E4ZDhhMDc0NTU0YjQ1Yjc3YmZlNWI3NGVjMzI5MikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODUyODlkZGM4MWJlNDU5YTg5ZjFjNzY3YWQ2ZmI4ZDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTA5NDMyLCAtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wY2VkODZlZDNlMTA0YzU4OTA5NTc4YmZhNmU5ZmY4ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZGM4NTU1NzFkZGQ0NjQ1YTg5Mjc0NGU0ZGMyZGFjYiA9ICQoYDxkaXYgaWQ9Imh0bWxfOGRjODU1NTcxZGRkNDY0NWE4OTI3NDRlNGRjMmRhY2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsb3ZlcmRhbGUsSXNsaW5ndG9uLE1hcnRpbiBHcm92ZSxQcmluY2VzcyBHYXJkZW5zLFdlc3QgRGVhbmUgUGFyaywgRXRvYmljb2tlPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wY2VkODZlZDNlMTA0YzU4OTA5NTc4YmZhNmU5ZmY4ZC5zZXRDb250ZW50KGh0bWxfOGRjODU1NTcxZGRkNDY0NWE4OTI3NDRlNGRjMmRhY2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODUyODlkZGM4MWJlNDU5YTg5ZjFjNzY3YWQ2ZmI4ZDUuYmluZFBvcHVwKHBvcHVwXzBjZWQ4NmVkM2UxMDRjNTg5MDk1NzhiZmE2ZTlmZjhkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNmZiY2UzYTU3ZjE0NWFjOThhOGRhYTYzYTdhMmQ5YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsIC03OS41NzcyMDA3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FmNjZkNTczNWE0OTRlOWM5OGE5NzVjOTE4ZWJiZjQ3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEzMWMyMTI5ZGM5YzQyMGY5MThhMmY2MDA1MWMxMWM0ID0gJChgPGRpdiBpZD0iaHRtbF8xMzFjMjEyOWRjOWM0MjBmOTE4YTJmNjAwNTFjMTFjNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Qmxvb3JkYWxlIEdhcmRlbnMsRXJpbmdhdGUsTWFya2xhbmQgV29vZCxPbGQgQnVybmhhbXRob3JwZSwgRXRvYmljb2tlPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZjY2ZDU3MzVhNDk0ZTljOThhOTc1YzkxOGViYmY0Ny5zZXRDb250ZW50KGh0bWxfMTMxYzIxMjlkYzljNDIwZjkxOGEyZjYwMDUxYzExYzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTZmYmNlM2E1N2YxNDVhYzk4YThkYWE2M2E3YTJkOWMuYmluZFBvcHVwKHBvcHVwX2FmNjZkNTczNWE0OTRlOWM5OGE5NzVjOTE4ZWJiZjQ3KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMThhNGM0NTViNmU0MGU0OGFmYzRiZDU4NzhhMjExZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsIC03OS41NjU5NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QyNWE1NGZlN2UzZTRmZjI4OTJkMzNlMzMwNGNkZTk5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QxNzRmMjY4ODUxYzRkNGE5NDA4OWNlYzRiMmUwNzE3ID0gJChgPGRpdiBpZD0iaHRtbF9kMTc0ZjI2ODg1MWM0ZDRhOTQwODljZWM0YjJlMDcxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIFN1bW1pdCwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDI1YTU0ZmU3ZTNlNGZmMjg5MmQzM2UzMzA0Y2RlOTkuc2V0Q29udGVudChodG1sX2QxNzRmMjY4ODUxYzRkNGE5NDA4OWNlYzRiMmUwNzE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UxOGE0YzQ1NWI2ZTQwZTQ4YWZjNGJkNTg3OGEyMTFmLmJpbmRQb3B1cChwb3B1cF9kMjVhNTRmZTdlM2U0ZmYyODkyZDMzZTMzMDRjZGU5OSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWZhNDQ4NDUzMjM4NDhkYTk0YjVjMmYxNWJhMzg2ZTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjQ3NjU5LCAtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iOTJlNmE0MzRmMmE0NTUxOWMwYmViNzY5NTc4NDU0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYmE4YWI0NjYyNWQ0NDhjOGY3Njc4MjA3OGI1NWEzZiA9ICQoYDxkaXYgaWQ9Imh0bWxfZmJhOGFiNDY2MjVkNDQ4YzhmNzY3ODIwNzhiNTVhM2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVtZXJ5LEh1bWJlcmxlYSwgTm9ydGggWW9yazwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjkyZTZhNDM0ZjJhNDU1MTljMGJlYjc2OTU3ODQ1NDMuc2V0Q29udGVudChodG1sX2ZiYThhYjQ2NjI1ZDQ0OGM4Zjc2NzgyMDc4YjU1YTNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzlmYTQ0ODQ1MzIzODQ4ZGE5NGI1YzJmMTViYTM4NmU2LmJpbmRQb3B1cChwb3B1cF9iOTJlNmE0MzRmMmE0NTUxOWMwYmViNzY5NTc4NDU0MykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGM0NWU2ZjRhNjA1NDJjYmFjM2FlMTgxZWU0ZjQ0ZWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY4NzYsIC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzllNmE3NmNjMmY2YjRhMDRhN2JlODM2OTA1OGMyNzUxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZiNjdlNWY0OTAwYzQ4MTk5ZDk5MjNhMzI3MjliY2I4ID0gJChgPGRpdiBpZD0iaHRtbF9mYjY3ZTVmNDkwMGM0ODE5OWQ5OTIzYTMyNzI5YmNiOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG9uLCBZb3JrPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZTZhNzZjYzJmNmI0YTA0YTdiZTgzNjkwNThjMjc1MS5zZXRDb250ZW50KGh0bWxfZmI2N2U1ZjQ5MDBjNDgxOTlkOTkyM2EzMjcyOWJjYjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGM0NWU2ZjRhNjA1NDJjYmFjM2FlMTgxZWU0ZjQ0ZWMuYmluZFBvcHVwKHBvcHVwXzllNmE3NmNjMmY2YjRhMDRhN2JlODM2OTA1OGMyNzUxKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYjNjMmJlMmMyNzA0YThjYWViMTBkMTExNzdjNWFhNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NjMxOSwgLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfYmJhYjgyMWI4NWI0NDFmY2JiYzg3ODYxYTEyNGM4YzApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGE3MjJjNjc2N2IzNDFmNmE5YTcxZTdjMWU0ZjhhMDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzBkMmI4MDI0OWZjNDc4YzhiODNlZTkyZDM1YTBhZGYgPSAkKGA8ZGl2IGlkPSJodG1sXzcwZDJiODAyNDlmYzQ3OGM4YjgzZWU5MmQzNWEwYWRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0bW91bnQsIEV0b2JpY29rZTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGE3MjJjNjc2N2IzNDFmNmE5YTcxZTdjMWU0ZjhhMDIuc2V0Q29udGVudChodG1sXzcwZDJiODAyNDlmYzQ3OGM4YjgzZWU5MmQzNWEwYWRmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBiM2MyYmUyYzI3MDRhOGNhZWIxMGQxMTE3N2M1YWE2LmJpbmRQb3B1cChwb3B1cF9kYTcyMmM2NzY3YjM0MWY2YTlhNzFlN2MxZTRmOGEwMikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTk1ODYzZmUxYzY3NDFhYThmYzhhYjQzZDYyY2IxZGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODg5MDU0LCAtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9iYmFiODIxYjg1YjQ0MWZjYmJjODc4NjFhMTI0YzhjMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZTgyZTA4MWU4M2M0NWNmOTgyYjc5Y2UxMzUyNTY1ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZjJiMGFkODU1MGY0ZWVlYThmYjRlMThlMWI5ZGRmNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNWYyYjBhZDg1NTBmNGVlZWE4ZmI0ZTE4ZTFiOWRkZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzdmlldyBWaWxsYWdlLE1hcnRpbiBHcm92ZSBHYXJkZW5zLFJpY2h2aWV3IEdhcmRlbnMsU3QuIFBoaWxsaXBzLCBFdG9iaWNva2U8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NlODJlMDgxZTgzYzQ1Y2Y5ODJiNzljZTEzNTI1NjVkLnNldENvbnRlbnQoaHRtbF81ZjJiMGFkODU1MGY0ZWVlYThmYjRlMThlMWI5ZGRmNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81OTU4NjNmZTFjNjc0MWFhOGZjOGFiNDNkNjJjYjFkZS5iaW5kUG9wdXAocG9wdXBfY2U4MmUwODFlODNjNDVjZjk4MmI3OWNlMTM1MjU2NWQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlmZjI4NjliMzFhZDRjOTc4YjQ3Nzk5NDM2NDNiZWUyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5NDE2Mzk5OTk5OTk2LCAtNzkuNTg4NDM2OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiZDU4NDk2MzE2ZDRjNDViMTEzN2Y5ZjdiNDJmYWU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhhYzVhNGE2YzNlNDRiZDdiZjY0NTk2MjgyNzc5MGQwID0gJChgPGRpdiBpZD0iaHRtbF84YWM1YTRhNmMzZTQ0YmQ3YmY2NDU5NjI4Mjc3OTBkMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxiaW9uIEdhcmRlbnMsQmVhdW1vbmQgSGVpZ2h0cyxIdW1iZXJnYXRlLEphbWVzdG93bixNb3VudCBPbGl2ZSxTaWx2ZXJzdG9uZSxTb3V0aCBTdGVlbGVzLFRoaXN0bGV0b3duLCBFdG9iaWNva2U8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBiZDU4NDk2MzE2ZDRjNDViMTEzN2Y5ZjdiNDJmYWU0LnNldENvbnRlbnQoaHRtbF84YWM1YTRhNmMzZTQ0YmQ3YmY2NDU5NjI4Mjc3OTBkMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZmYyODY5YjMxYWQ0Yzk3OGI0Nzc5OTQzNjQzYmVlMi5iaW5kUG9wdXAocG9wdXBfMGJkNTg0OTYzMTZkNGM0NWIxMTM3ZjlmN2I0MmZhZTQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE4ZGJmZTg1MDhkZDRlZWJiYWExY2JlMzc3NDc0MTM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2NzQ4Mjk5OTk5OTk0LCAtNzkuNTk0MDU0NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2JiYWI4MjFiODViNDQxZmNiYmM4Nzg2MWExMjRjOGMwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FjYjY2N2NlZTBmNjQ2YTRhZDhmZTc4YjdiZDA5MTliID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ViY2FjYTYzY2Q2ZTQxZTZhMjMwYjkzNGVhNTVkNWVjID0gJChgPGRpdiBpZD0iaHRtbF9lYmNhY2E2M2NkNmU0MWU2YTIzMGI5MzRlYTU1ZDVlYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3ZXN0LCBFdG9iaWNva2U8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FjYjY2N2NlZTBmNjQ2YTRhZDhmZTc4YjdiZDA5MTliLnNldENvbnRlbnQoaHRtbF9lYmNhY2E2M2NkNmU0MWU2YTIzMGI5MzRlYTU1ZDVlYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xOGRiZmU4NTA4ZGQ0ZWViYmFhMWNiZTM3NzQ3NDEzNy5iaW5kUG9wdXAocG9wdXBfYWNiNjY3Y2VlMGY2NDZhNGFkOGZlNzhiN2JkMDkxOWIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x1dca767c0b8>"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# make a map of Toronto using folium\n",
    "map_toronto = folium.Map(location=[latitude, longitude], zoom_start=10)\n",
    "\n",
    "# add markers to map\n",
    "for lat, lng, borough, neighborhood in zip(coords['Latitude'], coords['Longitude'], coords['Borough'], coords['Neighborhood']):\n",
    "    label = '{}, {}'.format(neighborhood, borough)\n",
    "    label = folium.Popup(label, parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lng],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='blue',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(map_toronto)  \n",
    "    \n",
    "map_toronto"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define Foursquare credentials and version\n",
    "CLIENT_ID = 'I2R3YKTK5MX53AY50035ANYKRHGRDWTFCWEAIGR2BFKMNNPK'\n",
    "CLIENT_SECRET = '1UIH5XCEZJR3KIOTB1QH4NRKX2KQJLSUQLN54EGQHUZ02SY2'\n",
    "VERSION = '20190324'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Latitude and longitude values of Woburn are 43.7709921, -79.21691740000001.\n"
     ]
    }
   ],
   "source": [
    "# Picking a random neighborhood to explore\n",
    "neighborhood_latitude = coords.loc[3, 'Latitude']\n",
    "neighborhood_longitude = coords.loc[3, 'Longitude']\n",
    "neighborhood_name = coords.loc[3, 'Neighborhood']\n",
    "\n",
    "print('Latitude and longitude values of {} are {}, {}.'.format(neighborhood_name, \n",
    "                                                               neighborhood_latitude, \n",
    "                                                               neighborhood_longitude))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'meta': {'code': 200, 'requestId': '5c96cc8ff594df6afaca02bf'},\n",
       " 'response': {'suggestedFilters': {'header': 'Tap to show:',\n",
       "   'filters': [{'name': 'Open now', 'key': 'openNow'}]},\n",
       "  'headerLocation': 'Bay Street Corridor',\n",
       "  'headerFullLocation': 'Bay Street Corridor, Toronto',\n",
       "  'headerLocationGranularity': 'neighborhood',\n",
       "  'totalResults': 67,\n",
       "  'suggestedBounds': {'ne': {'lat': 43.6584630045, 'lng': -79.38099903084075},\n",
       "   'sw': {'lat': 43.649462995499995, 'lng': -79.39341496915925}},\n",
       "  'groups': [{'type': 'Recommended Places',\n",
       "    'name': 'recommended',\n",
       "    'items': [{'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '5227bb01498e17bf485e6202',\n",
       "       'name': 'Downtown Toronto',\n",
       "       'location': {'lat': 43.65323167517444,\n",
       "        'lng': -79.38529600606677,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65323167517444,\n",
       "          'lng': -79.38529600606677}],\n",
       "        'distance': 174,\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['Toronto ON', 'Canada']},\n",
       "       'categories': [{'id': '4f2a25ac4b909258e854f55f',\n",
       "         'name': 'Neighborhood',\n",
       "         'pluralName': 'Neighborhoods',\n",
       "         'shortName': 'Neighborhood',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/neighborhood_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-5227bb01498e17bf485e6202-0'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4ad4c05ef964a520e2f620e3',\n",
       "       'name': 'Textile Museum of Canada',\n",
       "       'location': {'address': '55 Centre Avenue',\n",
       "        'crossStreet': 'University Ave. and Dundas St W.',\n",
       "        'lat': 43.65439630500274,\n",
       "        'lng': -79.38650010906946,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65439630500274,\n",
       "          'lng': -79.38650010906946}],\n",
       "        'distance': 74,\n",
       "        'postalCode': 'M5G 2H5',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['55 Centre Avenue (University Ave. and Dundas St W.)',\n",
       "         'Toronto ON M5G 2H5',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d18f941735',\n",
       "         'name': 'Art Museum',\n",
       "         'pluralName': 'Art Museums',\n",
       "         'shortName': 'Art Museum',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/arts_entertainment/museum_art_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []},\n",
       "       'venuePage': {'id': '56305293'}},\n",
       "      'referralId': 'e-0-4ad4c05ef964a520e2f620e3-1'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '504bbf2ce4b0168121235cbe',\n",
       "       'name': 'Sansotei Ramen 三草亭',\n",
       "       'location': {'address': '179 Dundas St. W',\n",
       "        'crossStreet': 'btwn Centre Ave. & Chestnut St.',\n",
       "        'lat': 43.655157467561246,\n",
       "        'lng': -79.38650067479335,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.655157467561246,\n",
       "          'lng': -79.38650067479335}],\n",
       "        'distance': 144,\n",
       "        'postalCode': 'M5G 1Z8',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['179 Dundas St. W (btwn Centre Ave. & Chestnut St.)',\n",
       "         'Toronto ON M5G 1Z8',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '55a59bace4b013909087cb24',\n",
       "         'name': 'Ramen Restaurant',\n",
       "         'pluralName': 'Ramen Restaurants',\n",
       "         'shortName': 'Ramen',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/ramen_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-504bbf2ce4b0168121235cbe-2'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4ae7b27df964a52068ad21e3',\n",
       "       'name': 'Japango',\n",
       "       'location': {'address': '122 Elizabeth St.',\n",
       "        'crossStreet': 'at Dundas St. W',\n",
       "        'lat': 43.65526771691681,\n",
       "        'lng': -79.38516506734886,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65526771691681,\n",
       "          'lng': -79.38516506734886}],\n",
       "        'distance': 219,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['122 Elizabeth St. (at Dundas St. W)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d1d2941735',\n",
       "         'name': 'Sushi Restaurant',\n",
       "         'pluralName': 'Sushi Restaurants',\n",
       "         'shortName': 'Sushi',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/sushi_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-4ae7b27df964a52068ad21e3-3'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4f513029e4b07c3382c9fdb9',\n",
       "       'name': 'Cafe Plenty',\n",
       "       'location': {'address': '250 Dundas Street West',\n",
       "        'crossStreet': 'Simcoe Street',\n",
       "        'lat': 43.65457125894357,\n",
       "        'lng': -79.38944976536852,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65457125894357,\n",
       "          'lng': -79.38944976536852}],\n",
       "        'distance': 192,\n",
       "        'postalCode': 'M5T 2Z5',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['250 Dundas Street West (Simcoe Street)',\n",
       "         'Toronto ON M5T 2Z5',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d16d941735',\n",
       "         'name': 'Café',\n",
       "         'pluralName': 'Cafés',\n",
       "         'shortName': 'Café',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/cafe_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-4f513029e4b07c3382c9fdb9-4'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4ad9f607f964a520691c21e3',\n",
       "       'name': 'Manpuku まんぷく',\n",
       "       'location': {'address': '105 McCaul St. Unit 29-31',\n",
       "        'crossStreet': 'at Dundas St. W.',\n",
       "        'lat': 43.653612411792935,\n",
       "        'lng': -79.39061276446213,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.653612411792935,\n",
       "          'lng': -79.39061276446213}],\n",
       "        'distance': 277,\n",
       "        'postalCode': 'M5T 2X4',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['105 McCaul St. Unit 29-31 (at Dundas St. W.)',\n",
       "         'Toronto ON M5T 2X4',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d111941735',\n",
       "         'name': 'Japanese Restaurant',\n",
       "         'pluralName': 'Japanese Restaurants',\n",
       "         'shortName': 'Japanese',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/japanese_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-4ad9f607f964a520691c21e3-5'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4e2284b11fc7c0ef9857d143',\n",
       "       'name': 'Chatime 日出茶太',\n",
       "       'location': {'address': '132 Dundas St W',\n",
       "        'crossStreet': 'btwn Bay & University',\n",
       "        'lat': 43.65554164147378,\n",
       "        'lng': -79.38468427043244,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65554164147378,\n",
       "          'lng': -79.38468427043244}],\n",
       "        'distance': 268,\n",
       "        'postalCode': 'M5G 1C3',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['132 Dundas St W (btwn Bay & University)',\n",
       "         'Toronto ON M5G 1C3',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '52e81612bcbc57f1066b7a0c',\n",
       "         'name': 'Bubble Tea Shop',\n",
       "         'pluralName': 'Bubble Tea Shops',\n",
       "         'shortName': 'Bubble Tea',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/bubble_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-4e2284b11fc7c0ef9857d143-6'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '56ccd5cfcd1069ca160a797e',\n",
       "       'name': 'Tsujiri',\n",
       "       'location': {'address': '147 Dundas St W',\n",
       "        'crossStreet': 'at Elizabeth St',\n",
       "        'lat': 43.65537430780922,\n",
       "        'lng': -79.38535434742991,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65537430780922,\n",
       "          'lng': -79.38535434742991}],\n",
       "        'distance': 216,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['147 Dundas St W (at Elizabeth St)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d1dc931735',\n",
       "         'name': 'Tea Room',\n",
       "         'pluralName': 'Tea Rooms',\n",
       "         'shortName': 'Tea Room',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/tearoom_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-56ccd5cfcd1069ca160a797e-7'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '57bcd3b7498e652a678d0378',\n",
       "       'name': 'Poke Guys',\n",
       "       'location': {'address': '112 Elizabeth St',\n",
       "        'crossStreet': 'at Dundas St W',\n",
       "        'lat': 43.65489527525682,\n",
       "        'lng': -79.38505238381624,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65489527525682,\n",
       "          'lng': -79.38505238381624}],\n",
       "        'distance': 202,\n",
       "        'postalCode': 'M5G 1P5',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['112 Elizabeth St (at Dundas St W)',\n",
       "         'Toronto ON M5G 1P5',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '5bae9231bedf3950379f89d4',\n",
       "         'name': 'Poke Place',\n",
       "         'pluralName': 'Poke Places',\n",
       "         'shortName': 'Poke Place',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/default_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-57bcd3b7498e652a678d0378-8'},\n",
       "     {'reasons': {'count': 0,\n",
       "       'items': [{'summary': 'This spot is popular',\n",
       "         'type': 'general',\n",
       "         'reasonName': 'globalInteractionReason'}]},\n",
       "      'venue': {'id': '4ad4c05ef964a520a6f620e3',\n",
       "       'name': 'Nathan Phillips Square',\n",
       "       'location': {'address': '100 Queen St W',\n",
       "        'crossStreet': 'at Bay St',\n",
       "        'lat': 43.65227047322295,\n",
       "        'lng': -79.38351631164551,\n",
       "        'labeledLatLngs': [{'label': 'display',\n",
       "          'lat': 43.65227047322295,\n",
       "          'lng': -79.38351631164551}],\n",
       "        'distance': 351,\n",
       "        'postalCode': 'M5H 2N1',\n",
       "        'cc': 'CA',\n",
       "        'city': 'Toronto',\n",
       "        'state': 'ON',\n",
       "        'country': 'Canada',\n",
       "        'formattedAddress': ['100 Queen St W (at Bay St)',\n",
       "         'Toronto ON M5H 2N1',\n",
       "         'Canada']},\n",
       "       'categories': [{'id': '4bf58dd8d48988d164941735',\n",
       "         'name': 'Plaza',\n",
       "         'pluralName': 'Plazas',\n",
       "         'shortName': 'Plaza',\n",
       "         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/plaza_',\n",
       "          'suffix': '.png'},\n",
       "         'primary': True}],\n",
       "       'photos': {'count': 0, 'groups': []}},\n",
       "      'referralId': 'e-0-4ad4c05ef964a520a6f620e3-9'}]}]}}"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Top 10 venues in Woburn within 500 meters radius\n",
    "LIMIT = 10\n",
    "radius = 500\n",
    "\n",
    "url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "    CLIENT_ID, \n",
    "    CLIENT_SECRET, \n",
    "    VERSION, \n",
    "    latitude, \n",
    "    longitude, \n",
    "    radius, \n",
    "    LIMIT)\n",
    "results = requests.get(url).json()\n",
    "results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "from pandas.io.json import json_normalize"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>name</th>\n",
       "      <th>categories</th>\n",
       "      <th>lat</th>\n",
       "      <th>lng</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>Neighborhood</td>\n",
       "      <td>43.653232</td>\n",
       "      <td>-79.385296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Textile Museum of Canada</td>\n",
       "      <td>Art Museum</td>\n",
       "      <td>43.654396</td>\n",
       "      <td>-79.386500</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Sansotei Ramen 三草亭</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>43.655157</td>\n",
       "      <td>-79.386501</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Japango</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>43.655268</td>\n",
       "      <td>-79.385165</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Cafe Plenty</td>\n",
       "      <td>Café</td>\n",
       "      <td>43.654571</td>\n",
       "      <td>-79.389450</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Manpuku まんぷく</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>43.653612</td>\n",
       "      <td>-79.390613</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Chatime 日出茶太</td>\n",
       "      <td>Bubble Tea Shop</td>\n",
       "      <td>43.655542</td>\n",
       "      <td>-79.384684</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Tsujiri</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>43.655374</td>\n",
       "      <td>-79.385354</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Poke Guys</td>\n",
       "      <td>Poke Place</td>\n",
       "      <td>43.654895</td>\n",
       "      <td>-79.385052</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Nathan Phillips Square</td>\n",
       "      <td>Plaza</td>\n",
       "      <td>43.652270</td>\n",
       "      <td>-79.383516</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                       name           categories        lat        lng\n",
       "0          Downtown Toronto         Neighborhood  43.653232 -79.385296\n",
       "1  Textile Museum of Canada           Art Museum  43.654396 -79.386500\n",
       "2        Sansotei Ramen 三草亭     Ramen Restaurant  43.655157 -79.386501\n",
       "3                   Japango     Sushi Restaurant  43.655268 -79.385165\n",
       "4               Cafe Plenty                 Café  43.654571 -79.389450\n",
       "5              Manpuku まんぷく  Japanese Restaurant  43.653612 -79.390613\n",
       "6              Chatime 日出茶太      Bubble Tea Shop  43.655542 -79.384684\n",
       "7                   Tsujiri             Tea Room  43.655374 -79.385354\n",
       "8                 Poke Guys           Poke Place  43.654895 -79.385052\n",
       "9    Nathan Phillips Square                Plaza  43.652270 -79.383516"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def get_category_type(row):\n",
    "    try:\n",
    "        categories_list = row['categories']\n",
    "    except:\n",
    "        categories_list = row['venue.categories']\n",
    "        \n",
    "    if len(categories_list) == 0:\n",
    "        return None\n",
    "    else:\n",
    "        return categories_list[0]['name']\n",
    "    \n",
    "venues = results['response']['groups'][0]['items']\n",
    "    \n",
    "nearby_venues = json_normalize(venues) # flatten JSON\n",
    "\n",
    "# filter columns\n",
    "filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']\n",
    "nearby_venues =nearby_venues.loc[:, filtered_columns]\n",
    "\n",
    "# filter the category for each row\n",
    "nearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)\n",
    "\n",
    "# clean column names\n",
    "nearby_venues.columns = [col.split(\".\")[-1] for col in nearby_venues.columns]\n",
    "\n",
    "nearby_venues"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Create a function to repeat the process to all neighborhoods\n",
    "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n",
    "    \n",
    "    venues_list=[]\n",
    "    for name, lat, lng in zip(names, latitudes, longitudes):\n",
    "        print(name)\n",
    "            \n",
    "        # create the API request URL\n",
    "        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n",
    "            CLIENT_ID, \n",
    "            CLIENT_SECRET, \n",
    "            VERSION, \n",
    "            lat, \n",
    "            lng, \n",
    "            radius, \n",
    "            LIMIT)\n",
    "            \n",
    "        # make the GET request\n",
    "        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n",
    "        \n",
    "        # return only relevant information for each nearby venue\n",
    "        venues_list.append([(\n",
    "            name, \n",
    "            lat, \n",
    "            lng, \n",
    "            v['venue']['name'], \n",
    "            v['venue']['location']['lat'], \n",
    "            v['venue']['location']['lng'],  \n",
    "            v['venue']['categories'][0]['name']) for v in results])\n",
    "\n",
    "    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n",
    "    nearby_venues.columns = ['Neighborhood', \n",
    "                  'Neighborhood Latitude', \n",
    "                  'Neighborhood Longitude', \n",
    "                  'Venue', \n",
    "                  'Venue Latitude', \n",
    "                  'Venue Longitude', \n",
    "                  'Venue Category']\n",
    "    \n",
    "    return(nearby_venues)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Rouge,Malvern\n",
      "Highland Creek,Rouge Hill,Port Union\n",
      "Guildwood,Morningside,West Hill\n",
      "Woburn\n",
      "Cedarbrae\n",
      "Scarborough Village\n",
      "East Birchmount Park,Ionview,Kennedy Park\n",
      "Clairlea,Golden Mile,Oakridge\n",
      "Cliffcrest,Cliffside,Scarborough Village West\n",
      "Birch Cliff,Cliffside West\n",
      "Dorset Park,Scarborough Town Centre,Wexford Heights\n",
      "Maryvale,Wexford\n",
      "Agincourt\n",
      "Clarks Corners,Sullivan,Tam O'Shanter\n",
      "Agincourt North,L'Amoreaux East,Milliken,Steeles East\n",
      "L'Amoreaux West,Steeles West\n",
      "Upper Rouge\n",
      "Hillcrest Village\n",
      "Fairview,Henry Farm,Oriole\n",
      "Bayview Village\n",
      "Silver Hills,York Mills\n",
      "Newtonbrook,Willowdale\n",
      "Willowdale South\n",
      "York Mills West\n",
      "Willowdale West\n",
      "Parkwoods\n",
      "Don Mills North\n",
      "Flemingdon Park,Don Mills South\n",
      "Bathurst Manor,Downsview North,Wilson Heights\n",
      "Northwood Park,York University\n",
      "CFB Toronto,Downsview East\n",
      "Downsview West\n",
      "Downsview Central\n",
      "Downsview Northwest\n",
      "Victoria Village\n",
      "Woodbine Gardens,Parkview Hill\n",
      "Woodbine Heights\n",
      "The Beaches\n",
      "Leaside\n",
      "Thorncliffe Park\n",
      "East Toronto\n",
      "The Danforth West,Riverdale\n",
      "The Beaches West,India Bazaar\n",
      "Studio District\n",
      "Lawrence Park\n",
      "Davisville North\n",
      "North Toronto West\n",
      "Davisville\n",
      "Moore Park,Summerhill East\n",
      "Deer Park,Forest Hill SE,Rathnelly,South Hill,Summerhill West\n",
      "Rosedale\n",
      "Cabbagetown,St. James Town\n",
      "Church and Wellesley\n",
      "Harbourfront,Regent Park\n",
      "Ryerson,Garden District\n",
      "St. James Town\n",
      "Berczy Park\n",
      "Central Bay Street\n",
      "Adelaide,King,Richmond\n",
      "Harbourfront East,Toronto Islands,Union Station\n",
      "Design Exchange,Toronto Dominion Centre\n",
      "Commerce Court,Victoria Hotel\n",
      "Bedford Park,Lawrence Manor East\n",
      "Roselawn\n",
      "Forest Hill North,Forest Hill West\n",
      "The Annex,North Midtown,Yorkville\n",
      "Harbord,University of Toronto\n",
      "Chinatown,Grange Park,Kensington Market\n",
      "CN Tower,Bathurst Quay,Island airport,Harbourfront West,King and Spadina,Railway Lands,South Niagara\n",
      "Stn A PO Boxes 25 The Esplanade\n",
      "First Canadian Place,Underground city\n",
      "Lawrence Heights,Lawrence Manor\n",
      "Glencairn\n",
      "Humewood-Cedarvale\n",
      "Caledonia-Fairbanks\n",
      "Christie\n",
      "Dovercourt Village,Dufferin\n",
      "Little Portugal,Trinity\n",
      "Brockton,Exhibition Place,Parkdale Village\n",
      "Maple Leaf Park,North Park,Upwood Park\n",
      "Del Ray,Keelesdale,Mount Dennis,Silverthorn\n",
      "The Junction North,Runnymede\n",
      "High Park,The Junction South\n",
      "Parkdale,Roncesvalles\n",
      "Runnymede,Swansea\n",
      "Queen's Park\n",
      "Canada Post Gateway Processing Centre\n",
      "Business Reply Mail Processing Centre 969 Eastern\n",
      "Humber Bay Shores,Mimico South,New Toronto\n",
      "Alderwood,Long Branch\n",
      "The Kingsway,Montgomery Road,Old Mill North\n",
      "Humber Bay,King's Mill Park,Kingsway Park South East,Mimico NE,Old Mill South,The Queensway East,Royal York South East,Sunnylea\n",
      "Kingsway Park South West,Mimico NW,The Queensway West,Royal York South West,South of Bloor\n",
      "Islington Avenue\n",
      "Cloverdale,Islington,Martin Grove,Princess Gardens,West Deane Park\n",
      "Bloordale Gardens,Eringate,Markland Wood,Old Burnhamthorpe\n",
      "Humber Summit\n",
      "Emery,Humberlea\n",
      "Weston\n",
      "Westmount\n",
      "Kingsview Village,Martin Grove Gardens,Richview Gardens,St. Phillips\n",
      "Albion Gardens,Beaumond Heights,Humbergate,Jamestown,Mount Olive,Silverstone,South Steeles,Thistletown\n",
      "Northwest\n"
     ]
    }
   ],
   "source": [
    "toronto_venues = getNearbyVenues(names=coords['Neighborhood'],\n",
    "                                   latitudes=coords['Latitude'],\n",
    "                                   longitudes=coords['Longitude']\n",
    "                                  )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(693, 7)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Neighborhood Latitude</th>\n",
       "      <th>Neighborhood Longitude</th>\n",
       "      <th>Venue</th>\n",
       "      <th>Venue Latitude</th>\n",
       "      <th>Venue Longitude</th>\n",
       "      <th>Venue Category</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "      <td>Wendy's</td>\n",
       "      <td>43.807448</td>\n",
       "      <td>-79.199056</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "      <td>Royal Canadian Legion</td>\n",
       "      <td>43.782533</td>\n",
       "      <td>-79.163085</td>\n",
       "      <td>Bar</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "      <td>Swiss Chalet Rotisserie &amp; Grill</td>\n",
       "      <td>43.767697</td>\n",
       "      <td>-79.189914</td>\n",
       "      <td>Pizza Place</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "      <td>G &amp; G Electronics</td>\n",
       "      <td>43.765309</td>\n",
       "      <td>-79.191537</td>\n",
       "      <td>Electronics Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "      <td>Marina Spa</td>\n",
       "      <td>43.766000</td>\n",
       "      <td>-79.191000</td>\n",
       "      <td>Spa</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                           Neighborhood  Neighborhood Latitude  \\\n",
       "0                         Rouge,Malvern              43.806686   \n",
       "1  Highland Creek,Rouge Hill,Port Union              43.784535   \n",
       "2       Guildwood,Morningside,West Hill              43.763573   \n",
       "3       Guildwood,Morningside,West Hill              43.763573   \n",
       "4       Guildwood,Morningside,West Hill              43.763573   \n",
       "\n",
       "   Neighborhood Longitude                            Venue  Venue Latitude  \\\n",
       "0              -79.194353                          Wendy's       43.807448   \n",
       "1              -79.160497            Royal Canadian Legion       43.782533   \n",
       "2              -79.188711  Swiss Chalet Rotisserie & Grill       43.767697   \n",
       "3              -79.188711                G & G Electronics       43.765309   \n",
       "4              -79.188711                       Marina Spa       43.766000   \n",
       "\n",
       "   Venue Longitude        Venue Category  \n",
       "0       -79.199056  Fast Food Restaurant  \n",
       "1       -79.163085                   Bar  \n",
       "2       -79.189914           Pizza Place  \n",
       "3       -79.191537     Electronics Store  \n",
       "4       -79.191000                   Spa  "
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print(toronto_venues.shape)\n",
    "toronto_venues.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Venue</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Neighborhood</th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Adelaide,King,Richmond</th>\n",
       "      <td>10</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Agincourt</th>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Agincourt North,L'Amoreaux East,Milliken,Steeles East</th>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Albion Gardens,Beaumond Heights,Humbergate,Jamestown,Mount Olive,Silverstone,South Steeles,Thistletown</th>\n",
       "      <td>10</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Alderwood,Long Branch</th>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                    Venue\n",
       "Neighborhood                                             \n",
       "Adelaide,King,Richmond                                 10\n",
       "Agincourt                                               5\n",
       "Agincourt North,L'Amoreaux East,Milliken,Steele...      3\n",
       "Albion Gardens,Beaumond Heights,Humbergate,Jame...     10\n",
       "Alderwood,Long Branch                                   8"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "count = toronto_venues.groupby('Neighborhood').count()\n",
    "count = count[['Venue']]\n",
    "count.rename = {'Total Venues' : 'Venue'}\n",
    "count.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There are 179 uniques categories.\n"
     ]
    }
   ],
   "source": [
    "print('There are {} uniques categories.'.format(len(toronto_venues['Venue Category'].unique())))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport</th>\n",
       "      <th>Airport Food Court</th>\n",
       "      <th>Airport Gate</th>\n",
       "      <th>Airport Lounge</th>\n",
       "      <th>Airport Service</th>\n",
       "      <th>Airport Terminal</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Art Gallery</th>\n",
       "      <th>...</th>\n",
       "      <th>Toy / Game Store</th>\n",
       "      <th>Trail</th>\n",
       "      <th>Turkish Restaurant</th>\n",
       "      <th>Vegetarian / Vegan Restaurant</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Warehouse Store</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 179 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                           Neighborhood  Accessories Store  Airport  \\\n",
       "0                         Rouge,Malvern                  0        0   \n",
       "1  Highland Creek,Rouge Hill,Port Union                  0        0   \n",
       "2       Guildwood,Morningside,West Hill                  0        0   \n",
       "3       Guildwood,Morningside,West Hill                  0        0   \n",
       "4       Guildwood,Morningside,West Hill                  0        0   \n",
       "\n",
       "   Airport Food Court  Airport Gate  Airport Lounge  Airport Service  \\\n",
       "0                   0             0               0                0   \n",
       "1                   0             0               0                0   \n",
       "2                   0             0               0                0   \n",
       "3                   0             0               0                0   \n",
       "4                   0             0               0                0   \n",
       "\n",
       "   Airport Terminal  American Restaurant  Art Gallery     ...       \\\n",
       "0                 0                    0            0     ...        \n",
       "1                 0                    0            0     ...        \n",
       "2                 0                    0            0     ...        \n",
       "3                 0                    0            0     ...        \n",
       "4                 0                    0            0     ...        \n",
       "\n",
       "   Toy / Game Store  Trail  Turkish Restaurant  Vegetarian / Vegan Restaurant  \\\n",
       "0                 0      0                   0                              0   \n",
       "1                 0      0                   0                              0   \n",
       "2                 0      0                   0                              0   \n",
       "3                 0      0                   0                              0   \n",
       "4                 0      0                   0                              0   \n",
       "\n",
       "   Video Store  Vietnamese Restaurant  Warehouse Store  Wings Joint  \\\n",
       "0            0                      0                0            0   \n",
       "1            0                      0                0            0   \n",
       "2            0                      0                0            0   \n",
       "3            0                      0                0            0   \n",
       "4            0                      0                0            0   \n",
       "\n",
       "   Women's Store  Yoga Studio  \n",
       "0              0            0  \n",
       "1              0            0  \n",
       "2              0            0  \n",
       "3              0            0  \n",
       "4              0            0  \n",
       "\n",
       "[5 rows x 179 columns]"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# One hot encoding\n",
    "toronto_onehot = pd.get_dummies(toronto_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n",
    "\n",
    "# add neighborhood column back to dataframe and bring to front\n",
    "neighbor = toronto_venues['Neighborhood']\n",
    "toronto_onehot.drop(labels=['Neighborhood'], axis=1,inplace = True)\n",
    "toronto_onehot.insert(0, 'Neighborhood', neighbor)\n",
    "\n",
    "toronto_onehot.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(693, 179)"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "toronto_onehot.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Accessories Store</th>\n",
       "      <th>Airport</th>\n",
       "      <th>Airport Food Court</th>\n",
       "      <th>Airport Gate</th>\n",
       "      <th>Airport Lounge</th>\n",
       "      <th>Airport Service</th>\n",
       "      <th>Airport Terminal</th>\n",
       "      <th>American Restaurant</th>\n",
       "      <th>Art Gallery</th>\n",
       "      <th>...</th>\n",
       "      <th>Toy / Game Store</th>\n",
       "      <th>Trail</th>\n",
       "      <th>Turkish Restaurant</th>\n",
       "      <th>Vegetarian / Vegan Restaurant</th>\n",
       "      <th>Video Store</th>\n",
       "      <th>Vietnamese Restaurant</th>\n",
       "      <th>Warehouse Store</th>\n",
       "      <th>Wings Joint</th>\n",
       "      <th>Women's Store</th>\n",
       "      <th>Yoga Studio</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Adelaide,King,Richmond</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Agincourt</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Agincourt North,L'Amoreaux East,Milliken,Steel...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Albion Gardens,Beaumond Heights,Humbergate,Jam...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Alderwood,Long Branch</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Bathurst Manor,Downsview North,Wilson Heights</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Bayview Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Bedford Park,Lawrence Manor East</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Berczy Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Birch Cliff,Cliffside West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Bloordale Gardens,Eringate,Markland Wood,Old B...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Brockton,Exhibition Place,Parkdale Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Business Reply Mail Processing Centre 969 Eastern</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>CFB Toronto,Downsview East</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>CN Tower,Bathurst Quay,Island airport,Harbourf...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.100000</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.2</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Cabbagetown,St. James Town</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>Caledonia-Fairbanks</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.166667</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Canada Post Gateway Processing Centre</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.100000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Central Bay Street</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>Chinatown,Grange Park,Kensington Market</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>Christie</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>Church and Wellesley</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>Clairlea,Golden Mile,Oakridge</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>Clarks Corners,Sullivan,Tam O'Shanter</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Cliffcrest,Cliffside,Scarborough Village West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.333333</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>Cloverdale,Islington,Martin Grove,Princess Gar...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>Commerce Court,Victoria Hotel</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>Davisville</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>Davisville North</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>69</th>\n",
       "      <td>Northwest</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>70</th>\n",
       "      <td>Northwood Park,York University</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>71</th>\n",
       "      <td>Parkdale,Roncesvalles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>72</th>\n",
       "      <td>Parkwoods</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74</th>\n",
       "      <td>Rosedale</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.25</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>Roselawn</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77</th>\n",
       "      <td>Runnymede,Swansea</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>78</th>\n",
       "      <td>Ryerson,Garden District</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79</th>\n",
       "      <td>Scarborough Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>80</th>\n",
       "      <td>St. James Town</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>Stn A PO Boxes 25 The Esplanade</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>Studio District</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>83</th>\n",
       "      <td>The Annex,North Midtown,Yorkville</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.100000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>84</th>\n",
       "      <td>The Beaches</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>The Beaches West,India Bazaar</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>The Danforth West,Riverdale</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>87</th>\n",
       "      <td>The Junction North,Runnymede</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>88</th>\n",
       "      <td>The Kingsway,Montgomery Road,Old Mill North</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>Thorncliffe Park</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>90</th>\n",
       "      <td>Victoria Village</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>91</th>\n",
       "      <td>Westmount</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>92</th>\n",
       "      <td>Weston</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>93</th>\n",
       "      <td>Willowdale South</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>94</th>\n",
       "      <td>Willowdale West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>Woburn</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>Woodbine Gardens,Parkview Hill</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>Woodbine Heights</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>York Mills West</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.00</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>99 rows × 179 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                         Neighborhood  Accessories Store  \\\n",
       "0                              Adelaide,King,Richmond                0.0   \n",
       "1                                           Agincourt                0.0   \n",
       "2   Agincourt North,L'Amoreaux East,Milliken,Steel...                0.0   \n",
       "3   Albion Gardens,Beaumond Heights,Humbergate,Jam...                0.0   \n",
       "4                               Alderwood,Long Branch                0.0   \n",
       "5       Bathurst Manor,Downsview North,Wilson Heights                0.0   \n",
       "6                                     Bayview Village                0.0   \n",
       "7                    Bedford Park,Lawrence Manor East                0.0   \n",
       "8                                         Berczy Park                0.0   \n",
       "9                          Birch Cliff,Cliffside West                0.0   \n",
       "10  Bloordale Gardens,Eringate,Markland Wood,Old B...                0.0   \n",
       "11         Brockton,Exhibition Place,Parkdale Village                0.0   \n",
       "12  Business Reply Mail Processing Centre 969 Eastern                0.0   \n",
       "13                         CFB Toronto,Downsview East                0.0   \n",
       "14  CN Tower,Bathurst Quay,Island airport,Harbourf...                0.0   \n",
       "15                         Cabbagetown,St. James Town                0.0   \n",
       "16                                Caledonia-Fairbanks                0.0   \n",
       "17              Canada Post Gateway Processing Centre                0.0   \n",
       "18                                          Cedarbrae                0.0   \n",
       "19                                 Central Bay Street                0.0   \n",
       "20            Chinatown,Grange Park,Kensington Market                0.0   \n",
       "21                                           Christie                0.0   \n",
       "22                               Church and Wellesley                0.0   \n",
       "23                      Clairlea,Golden Mile,Oakridge                0.0   \n",
       "24              Clarks Corners,Sullivan,Tam O'Shanter                0.0   \n",
       "25      Cliffcrest,Cliffside,Scarborough Village West                0.0   \n",
       "26  Cloverdale,Islington,Martin Grove,Princess Gar...                0.0   \n",
       "27                      Commerce Court,Victoria Hotel                0.0   \n",
       "28                                         Davisville                0.0   \n",
       "29                                   Davisville North                0.0   \n",
       "..                                                ...                ...   \n",
       "69                                          Northwest                0.0   \n",
       "70                     Northwood Park,York University                0.0   \n",
       "71                              Parkdale,Roncesvalles                0.0   \n",
       "72                                          Parkwoods                0.0   \n",
       "73                                       Queen's Park                0.0   \n",
       "74                                           Rosedale                0.0   \n",
       "75                                           Roselawn                0.0   \n",
       "76                                      Rouge,Malvern                0.0   \n",
       "77                                  Runnymede,Swansea                0.0   \n",
       "78                            Ryerson,Garden District                0.0   \n",
       "79                                Scarborough Village                0.0   \n",
       "80                                     St. James Town                0.0   \n",
       "81                    Stn A PO Boxes 25 The Esplanade                0.0   \n",
       "82                                    Studio District                0.0   \n",
       "83                  The Annex,North Midtown,Yorkville                0.0   \n",
       "84                                        The Beaches                0.0   \n",
       "85                      The Beaches West,India Bazaar                0.0   \n",
       "86                        The Danforth West,Riverdale                0.0   \n",
       "87                       The Junction North,Runnymede                0.0   \n",
       "88        The Kingsway,Montgomery Road,Old Mill North                0.0   \n",
       "89                                   Thorncliffe Park                0.0   \n",
       "90                                   Victoria Village                0.0   \n",
       "91                                          Westmount                0.0   \n",
       "92                                             Weston                0.0   \n",
       "93                                   Willowdale South                0.0   \n",
       "94                                    Willowdale West                0.0   \n",
       "95                                             Woburn                0.0   \n",
       "96                     Woodbine Gardens,Parkview Hill                0.0   \n",
       "97                                   Woodbine Heights                0.0   \n",
       "98                                    York Mills West                0.0   \n",
       "\n",
       "     Airport  Airport Food Court  Airport Gate  Airport Lounge  \\\n",
       "0   0.000000                 0.0           0.0             0.0   \n",
       "1   0.000000                 0.0           0.0             0.0   \n",
       "2   0.000000                 0.0           0.0             0.0   \n",
       "3   0.000000                 0.0           0.0             0.0   \n",
       "4   0.000000                 0.0           0.0             0.0   \n",
       "5   0.000000                 0.0           0.0             0.0   \n",
       "6   0.000000                 0.0           0.0             0.0   \n",
       "7   0.000000                 0.0           0.0             0.0   \n",
       "8   0.000000                 0.0           0.0             0.0   \n",
       "9   0.000000                 0.0           0.0             0.0   \n",
       "10  0.000000                 0.0           0.0             0.0   \n",
       "11  0.000000                 0.0           0.0             0.0   \n",
       "12  0.000000                 0.0           0.0             0.0   \n",
       "13  0.333333                 0.0           0.0             0.0   \n",
       "14  0.100000                 0.1           0.1             0.2   \n",
       "15  0.000000                 0.0           0.0             0.0   \n",
       "16  0.000000                 0.0           0.0             0.0   \n",
       "17  0.000000                 0.0           0.0             0.0   \n",
       "18  0.000000                 0.0           0.0             0.0   \n",
       "19  0.000000                 0.0           0.0             0.0   \n",
       "20  0.000000                 0.0           0.0             0.0   \n",
       "21  0.000000                 0.0           0.0             0.0   \n",
       "22  0.000000                 0.0           0.0             0.0   \n",
       "23  0.000000                 0.0           0.0             0.0   \n",
       "24  0.000000                 0.0           0.0             0.0   \n",
       "25  0.000000                 0.0           0.0             0.0   \n",
       "26  0.000000                 0.0           0.0             0.0   \n",
       "27  0.000000                 0.0           0.0             0.0   \n",
       "28  0.000000                 0.0           0.0             0.0   \n",
       "29  0.000000                 0.0           0.0             0.0   \n",
       "..       ...                 ...           ...             ...   \n",
       "69  0.000000                 0.0           0.0             0.0   \n",
       "70  0.000000                 0.0           0.0             0.0   \n",
       "71  0.000000                 0.0           0.0             0.0   \n",
       "72  0.000000                 0.0           0.0             0.0   \n",
       "73  0.000000                 0.0           0.0             0.0   \n",
       "74  0.000000                 0.0           0.0             0.0   \n",
       "75  0.000000                 0.0           0.0             0.0   \n",
       "76  0.000000                 0.0           0.0             0.0   \n",
       "77  0.000000                 0.0           0.0             0.0   \n",
       "78  0.000000                 0.0           0.0             0.0   \n",
       "79  0.000000                 0.0           0.0             0.0   \n",
       "80  0.000000                 0.0           0.0             0.0   \n",
       "81  0.000000                 0.0           0.0             0.0   \n",
       "82  0.000000                 0.0           0.0             0.0   \n",
       "83  0.000000                 0.0           0.0             0.0   \n",
       "84  0.000000                 0.0           0.0             0.0   \n",
       "85  0.000000                 0.0           0.0             0.0   \n",
       "86  0.000000                 0.0           0.0             0.0   \n",
       "87  0.000000                 0.0           0.0             0.0   \n",
       "88  0.000000                 0.0           0.0             0.0   \n",
       "89  0.000000                 0.0           0.0             0.0   \n",
       "90  0.000000                 0.0           0.0             0.0   \n",
       "91  0.000000                 0.0           0.0             0.0   \n",
       "92  0.000000                 0.0           0.0             0.0   \n",
       "93  0.000000                 0.0           0.0             0.0   \n",
       "94  0.000000                 0.0           0.0             0.0   \n",
       "95  0.000000                 0.0           0.0             0.0   \n",
       "96  0.000000                 0.0           0.0             0.0   \n",
       "97  0.000000                 0.0           0.0             0.0   \n",
       "98  0.000000                 0.0           0.0             0.0   \n",
       "\n",
       "    Airport Service  Airport Terminal  American Restaurant  Art Gallery  \\\n",
       "0               0.0               0.0             0.000000          0.0   \n",
       "1               0.0               0.0             0.000000          0.0   \n",
       "2               0.0               0.0             0.000000          0.0   \n",
       "3               0.0               0.0             0.000000          0.0   \n",
       "4               0.0               0.0             0.000000          0.0   \n",
       "5               0.0               0.0             0.000000          0.0   \n",
       "6               0.0               0.0             0.000000          0.0   \n",
       "7               0.0               0.0             0.000000          0.0   \n",
       "8               0.0               0.0             0.000000          0.0   \n",
       "9               0.0               0.0             0.000000          0.0   \n",
       "10              0.0               0.0             0.000000          0.0   \n",
       "11              0.0               0.0             0.000000          0.0   \n",
       "12              0.0               0.0             0.000000          0.0   \n",
       "13              0.0               0.0             0.000000          0.0   \n",
       "14              0.1               0.2             0.000000          0.0   \n",
       "15              0.0               0.0             0.000000          0.0   \n",
       "16              0.0               0.0             0.000000          0.0   \n",
       "17              0.0               0.0             0.100000          0.0   \n",
       "18              0.0               0.0             0.000000          0.0   \n",
       "19              0.0               0.0             0.000000          0.0   \n",
       "20              0.0               0.0             0.000000          0.0   \n",
       "21              0.0               0.0             0.000000          0.0   \n",
       "22              0.0               0.0             0.000000          0.0   \n",
       "23              0.0               0.0             0.000000          0.0   \n",
       "24              0.0               0.0             0.000000          0.0   \n",
       "25              0.0               0.0             0.333333          0.0   \n",
       "26              0.0               0.0             0.000000          0.0   \n",
       "27              0.0               0.0             0.000000          0.0   \n",
       "28              0.0               0.0             0.000000          0.0   \n",
       "29              0.0               0.0             0.000000          0.0   \n",
       "..              ...               ...                  ...          ...   \n",
       "69              0.0               0.0             0.000000          0.0   \n",
       "70              0.0               0.0             0.000000          0.0   \n",
       "71              0.0               0.0             0.000000          0.0   \n",
       "72              0.0               0.0             0.000000          0.0   \n",
       "73              0.0               0.0             0.000000          0.0   \n",
       "74              0.0               0.0             0.000000          0.0   \n",
       "75              0.0               0.0             0.000000          0.0   \n",
       "76              0.0               0.0             0.000000          0.0   \n",
       "77              0.0               0.0             0.000000          0.0   \n",
       "78              0.0               0.0             0.000000          0.0   \n",
       "79              0.0               0.0             0.000000          0.0   \n",
       "80              0.0               0.0             0.000000          0.0   \n",
       "81              0.0               0.0             0.000000          0.0   \n",
       "82              0.0               0.0             0.000000          0.0   \n",
       "83              0.0               0.0             0.100000          0.0   \n",
       "84              0.0               0.0             0.000000          0.0   \n",
       "85              0.0               0.0             0.000000          0.0   \n",
       "86              0.0               0.0             0.000000          0.0   \n",
       "87              0.0               0.0             0.000000          0.0   \n",
       "88              0.0               0.0             0.000000          0.0   \n",
       "89              0.0               0.0             0.000000          0.0   \n",
       "90              0.0               0.0             0.000000          0.0   \n",
       "91              0.0               0.0             0.000000          0.0   \n",
       "92              0.0               0.0             0.000000          0.0   \n",
       "93              0.0               0.0             0.000000          0.0   \n",
       "94              0.0               0.0             0.000000          0.0   \n",
       "95              0.0               0.0             0.000000          0.0   \n",
       "96              0.0               0.0             0.000000          0.0   \n",
       "97              0.0               0.0             0.000000          0.0   \n",
       "98              0.0               0.0             0.000000          0.0   \n",
       "\n",
       "       ...       Toy / Game Store  Trail  Turkish Restaurant  \\\n",
       "0      ...                    0.0   0.00                 0.0   \n",
       "1      ...                    0.0   0.00                 0.0   \n",
       "2      ...                    0.0   0.00                 0.0   \n",
       "3      ...                    0.0   0.00                 0.0   \n",
       "4      ...                    0.0   0.00                 0.0   \n",
       "5      ...                    0.0   0.00                 0.0   \n",
       "6      ...                    0.0   0.00                 0.0   \n",
       "7      ...                    0.0   0.00                 0.0   \n",
       "8      ...                    0.0   0.00                 0.0   \n",
       "9      ...                    0.0   0.00                 0.0   \n",
       "10     ...                    0.0   0.00                 0.0   \n",
       "11     ...                    0.0   0.00                 0.0   \n",
       "12     ...                    0.0   0.00                 0.0   \n",
       "13     ...                    0.0   0.00                 0.0   \n",
       "14     ...                    0.0   0.00                 0.0   \n",
       "15     ...                    0.0   0.00                 0.0   \n",
       "16     ...                    0.0   0.00                 0.0   \n",
       "17     ...                    0.0   0.00                 0.0   \n",
       "18     ...                    0.0   0.00                 0.0   \n",
       "19     ...                    0.0   0.00                 0.0   \n",
       "20     ...                    0.0   0.00                 0.0   \n",
       "21     ...                    0.0   0.00                 0.0   \n",
       "22     ...                    0.0   0.00                 0.0   \n",
       "23     ...                    0.0   0.00                 0.0   \n",
       "24     ...                    0.0   0.00                 0.0   \n",
       "25     ...                    0.0   0.00                 0.0   \n",
       "26     ...                    0.0   0.00                 0.0   \n",
       "27     ...                    0.0   0.00                 0.0   \n",
       "28     ...                    0.0   0.00                 0.0   \n",
       "29     ...                    0.0   0.00                 0.0   \n",
       "..     ...                    ...    ...                 ...   \n",
       "69     ...                    0.0   0.00                 0.0   \n",
       "70     ...                    0.0   0.00                 0.0   \n",
       "71     ...                    0.0   0.00                 0.0   \n",
       "72     ...                    0.0   0.00                 0.0   \n",
       "73     ...                    0.0   0.00                 0.0   \n",
       "74     ...                    0.0   0.25                 0.0   \n",
       "75     ...                    0.0   0.00                 0.0   \n",
       "76     ...                    0.0   0.00                 0.0   \n",
       "77     ...                    0.0   0.00                 0.0   \n",
       "78     ...                    0.0   0.00                 0.0   \n",
       "79     ...                    0.0   0.00                 0.0   \n",
       "80     ...                    0.0   0.00                 0.0   \n",
       "81     ...                    0.0   0.00                 0.0   \n",
       "82     ...                    0.0   0.00                 0.0   \n",
       "83     ...                    0.0   0.00                 0.0   \n",
       "84     ...                    0.0   0.00                 0.0   \n",
       "85     ...                    0.0   0.00                 0.0   \n",
       "86     ...                    0.0   0.00                 0.0   \n",
       "87     ...                    0.0   0.00                 0.0   \n",
       "88     ...                    0.0   0.00                 0.0   \n",
       "89     ...                    0.0   0.00                 0.0   \n",
       "90     ...                    0.0   0.00                 0.0   \n",
       "91     ...                    0.0   0.00                 0.0   \n",
       "92     ...                    0.0   0.00                 0.0   \n",
       "93     ...                    0.0   0.00                 0.0   \n",
       "94     ...                    0.0   0.00                 0.0   \n",
       "95     ...                    0.0   0.00                 0.0   \n",
       "96     ...                    0.0   0.00                 0.0   \n",
       "97     ...                    0.0   0.00                 0.0   \n",
       "98     ...                    0.0   0.00                 0.0   \n",
       "\n",
       "    Vegetarian / Vegan Restaurant  Video Store  Vietnamese Restaurant  \\\n",
       "0                             0.1          0.0                    0.0   \n",
       "1                             0.0          0.0                    0.0   \n",
       "2                             0.0          0.0                    0.0   \n",
       "3                             0.0          0.1                    0.0   \n",
       "4                             0.0          0.0                    0.0   \n",
       "5                             0.0          0.0                    0.0   \n",
       "6                             0.0          0.0                    0.0   \n",
       "7                             0.0          0.0                    0.0   \n",
       "8                             0.0          0.0                    0.0   \n",
       "9                             0.0          0.0                    0.0   \n",
       "10                            0.0          0.0                    0.0   \n",
       "11                            0.0          0.0                    0.0   \n",
       "12                            0.0          0.0                    0.0   \n",
       "13                            0.0          0.0                    0.0   \n",
       "14                            0.0          0.0                    0.0   \n",
       "15                            0.0          0.0                    0.0   \n",
       "16                            0.0          0.0                    0.0   \n",
       "17                            0.0          0.0                    0.0   \n",
       "18                            0.0          0.0                    0.0   \n",
       "19                            0.0          0.0                    0.0   \n",
       "20                            0.0          0.0                    0.1   \n",
       "21                            0.0          0.0                    0.0   \n",
       "22                            0.0          0.0                    0.0   \n",
       "23                            0.0          0.0                    0.0   \n",
       "24                            0.0          0.0                    0.0   \n",
       "25                            0.0          0.0                    0.0   \n",
       "26                            0.0          0.0                    0.0   \n",
       "27                            0.0          0.0                    0.0   \n",
       "28                            0.0          0.0                    0.0   \n",
       "29                            0.0          0.0                    0.0   \n",
       "..                            ...          ...                    ...   \n",
       "69                            0.0          0.0                    0.0   \n",
       "70                            0.0          0.0                    0.0   \n",
       "71                            0.0          0.0                    0.0   \n",
       "72                            0.0          0.0                    0.0   \n",
       "73                            0.0          0.0                    0.0   \n",
       "74                            0.0          0.0                    0.0   \n",
       "75                            0.0          0.0                    0.0   \n",
       "76                            0.0          0.0                    0.0   \n",
       "77                            0.0          0.0                    0.0   \n",
       "78                            0.0          0.0                    0.0   \n",
       "79                            0.0          0.0                    0.0   \n",
       "80                            0.0          0.0                    0.0   \n",
       "81                            0.0          0.0                    0.0   \n",
       "82                            0.0          0.0                    0.0   \n",
       "83                            0.1          0.0                    0.0   \n",
       "84                            0.0          0.0                    0.0   \n",
       "85                            0.0          0.0                    0.0   \n",
       "86                            0.0          0.0                    0.0   \n",
       "87                            0.0          0.0                    0.0   \n",
       "88                            0.0          0.0                    0.0   \n",
       "89                            0.0          0.0                    0.0   \n",
       "90                            0.0          0.0                    0.0   \n",
       "91                            0.0          0.0                    0.0   \n",
       "92                            0.0          0.0                    0.0   \n",
       "93                            0.0          0.0                    0.0   \n",
       "94                            0.0          0.0                    0.0   \n",
       "95                            0.0          0.0                    0.0   \n",
       "96                            0.0          0.0                    0.0   \n",
       "97                            0.0          0.1                    0.0   \n",
       "98                            0.0          0.0                    0.0   \n",
       "\n",
       "    Warehouse Store  Wings Joint  Women's Store  Yoga Studio  \n",
       "0               0.0          0.0       0.000000          0.0  \n",
       "1               0.0          0.0       0.000000          0.0  \n",
       "2               0.0          0.0       0.000000          0.0  \n",
       "3               0.0          0.0       0.000000          0.0  \n",
       "4               0.0          0.0       0.000000          0.0  \n",
       "5               0.0          0.0       0.000000          0.0  \n",
       "6               0.0          0.0       0.000000          0.0  \n",
       "7               0.0          0.0       0.000000          0.0  \n",
       "8               0.0          0.0       0.000000          0.0  \n",
       "9               0.0          0.0       0.000000          0.0  \n",
       "10              0.0          0.0       0.000000          0.0  \n",
       "11              0.0          0.0       0.000000          0.0  \n",
       "12              0.0          0.0       0.000000          0.0  \n",
       "13              0.0          0.0       0.000000          0.0  \n",
       "14              0.0          0.0       0.000000          0.0  \n",
       "15              0.0          0.0       0.000000          0.0  \n",
       "16              0.0          0.0       0.166667          0.0  \n",
       "17              0.0          0.0       0.000000          0.0  \n",
       "18              0.0          0.0       0.000000          0.0  \n",
       "19              0.0          0.0       0.000000          0.0  \n",
       "20              0.0          0.0       0.000000          0.0  \n",
       "21              0.0          0.0       0.000000          0.0  \n",
       "22              0.0          0.0       0.000000          0.0  \n",
       "23              0.0          0.0       0.000000          0.0  \n",
       "24              0.0          0.0       0.000000          0.0  \n",
       "25              0.0          0.0       0.000000          0.0  \n",
       "26              0.0          0.0       0.000000          0.0  \n",
       "27              0.0          0.0       0.000000          0.0  \n",
       "28              0.0          0.0       0.000000          0.0  \n",
       "29              0.0          0.0       0.000000          0.0  \n",
       "..              ...          ...            ...          ...  \n",
       "69              0.0          0.0       0.000000          0.0  \n",
       "70              0.0          0.0       0.000000          0.0  \n",
       "71              0.0          0.0       0.000000          0.0  \n",
       "72              0.0          0.0       0.000000          0.0  \n",
       "73              0.0          0.0       0.000000          0.1  \n",
       "74              0.0          0.0       0.000000          0.0  \n",
       "75              0.0          0.0       0.000000          0.0  \n",
       "76              0.0          0.0       0.000000          0.0  \n",
       "77              0.0          0.0       0.000000          0.0  \n",
       "78              0.0          0.0       0.000000          0.0  \n",
       "79              0.0          0.0       0.000000          0.0  \n",
       "80              0.0          0.0       0.000000          0.0  \n",
       "81              0.0          0.0       0.000000          0.0  \n",
       "82              0.0          0.0       0.000000          0.0  \n",
       "83              0.0          0.0       0.000000          0.0  \n",
       "84              0.0          0.0       0.000000          0.0  \n",
       "85              0.0          0.0       0.000000          0.0  \n",
       "86              0.0          0.0       0.000000          0.1  \n",
       "87              0.0          0.0       0.000000          0.0  \n",
       "88              0.0          0.0       0.000000          0.0  \n",
       "89              0.1          0.0       0.000000          0.1  \n",
       "90              0.0          0.0       0.000000          0.0  \n",
       "91              0.0          0.0       0.000000          0.0  \n",
       "92              0.0          0.0       0.000000          0.0  \n",
       "93              0.0          0.0       0.000000          0.0  \n",
       "94              0.0          0.0       0.000000          0.0  \n",
       "95              0.0          0.0       0.000000          0.0  \n",
       "96              0.0          0.0       0.000000          0.0  \n",
       "97              0.0          0.0       0.000000          0.0  \n",
       "98              0.0          0.0       0.000000          0.0  \n",
       "\n",
       "[99 rows x 179 columns]"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Group rows by neighborhoodand take the mean of the frequency of each category\n",
    "toronto_grouped = toronto_onehot.groupby('Neighborhood').mean().reset_index()\n",
    "toronto_grouped"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(99, 179)"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "toronto_grouped.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "----Adelaide,King,Richmond----\n",
      "              venue  freq\n",
      "0        Steakhouse   0.2\n",
      "1  Greek Restaurant   0.1\n",
      "2  Asian Restaurant   0.1\n",
      "3             Hotel   0.1\n",
      "4      Concert Hall   0.1\n",
      "\n",
      "\n",
      "----Agincourt----\n",
      "                venue  freq\n",
      "0              Lounge   0.2\n",
      "1      Breakfast Spot   0.2\n",
      "2        Skating Rink   0.2\n",
      "3  Chinese Restaurant   0.2\n",
      "4      Sandwich Place   0.2\n",
      "\n",
      "\n",
      "----Agincourt North,L'Amoreaux East,Milliken,Steeles East----\n",
      "                venue  freq\n",
      "0                Park  0.67\n",
      "1          Playground  0.33\n",
      "2  Miscellaneous Shop  0.00\n",
      "3              Lounge  0.00\n",
      "4              Market  0.00\n",
      "\n",
      "\n",
      "----Albion Gardens,Beaumond Heights,Humbergate,Jamestown,Mount Olive,Silverstone,South Steeles,Thistletown----\n",
      "                 venue  freq\n",
      "0        Grocery Store   0.2\n",
      "1  Fried Chicken Joint   0.1\n",
      "2          Coffee Shop   0.1\n",
      "3       Sandwich Place   0.1\n",
      "4             Pharmacy   0.1\n",
      "\n",
      "\n",
      "----Alderwood,Long Branch----\n",
      "          venue  freq\n",
      "0   Pizza Place  0.25\n",
      "1   Coffee Shop  0.12\n",
      "2  Skating Rink  0.12\n",
      "3      Pharmacy  0.12\n",
      "4           Pub  0.12\n",
      "\n",
      "\n",
      "----Bathurst Manor,Downsview North,Wilson Heights----\n",
      "                  venue  freq\n",
      "0           Coffee Shop   0.2\n",
      "1                 Diner   0.1\n",
      "2           Bridal Shop   0.1\n",
      "3  Fast Food Restaurant   0.1\n",
      "4      Sushi Restaurant   0.1\n",
      "\n",
      "\n",
      "----Bayview Village----\n",
      "                 venue  freq\n",
      "0   Chinese Restaurant  0.25\n",
      "1                 Bank  0.25\n",
      "2  Japanese Restaurant  0.25\n",
      "3                 Café  0.25\n",
      "4    Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Bedford Park,Lawrence Manor East----\n",
      "                     venue  freq\n",
      "0              Coffee Shop   0.2\n",
      "1                     Café   0.1\n",
      "2       Italian Restaurant   0.1\n",
      "3           Hardware Store   0.1\n",
      "4  Comfort Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----Berczy Park----\n",
      "            venue  freq\n",
      "0    Concert Hall   0.1\n",
      "1          Museum   0.1\n",
      "2  Farmers Market   0.1\n",
      "3      Steakhouse   0.1\n",
      "4        Beer Bar   0.1\n",
      "\n",
      "\n",
      "----Birch Cliff,Cliffside West----\n",
      "                   venue  freq\n",
      "0        College Stadium  0.25\n",
      "1  General Entertainment  0.25\n",
      "2           Skating Rink  0.25\n",
      "3                   Café  0.25\n",
      "4                  Motel  0.00\n",
      "\n",
      "\n",
      "----Bloordale Gardens,Eringate,Markland Wood,Old Burnhamthorpe----\n",
      "               venue  freq\n",
      "0        Pizza Place  0.14\n",
      "1           Pharmacy  0.14\n",
      "2         Beer Store  0.14\n",
      "3       Liquor Store  0.14\n",
      "4  Convenience Store  0.14\n",
      "\n",
      "\n",
      "----Brockton,Exhibition Place,Parkdale Village----\n",
      "                  venue  freq\n",
      "0           Coffee Shop   0.2\n",
      "1                   Gym   0.1\n",
      "2             Pet Store   0.1\n",
      "3                   Bar   0.1\n",
      "4  Caribbean Restaurant   0.1\n",
      "\n",
      "\n",
      "----Business Reply Mail Processing Centre 969 Eastern----\n",
      "                  venue  freq\n",
      "0            Comic Shop   0.1\n",
      "1            Restaurant   0.1\n",
      "2           Pizza Place   0.1\n",
      "3        Farmers Market   0.1\n",
      "4  Fast Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----CFB Toronto,Downsview East----\n",
      "                   venue  freq\n",
      "0                Airport  0.33\n",
      "1                   Park  0.33\n",
      "2               Bus Stop  0.33\n",
      "3  Performing Arts Venue  0.00\n",
      "4     Miscellaneous Shop  0.00\n",
      "\n",
      "\n",
      "----CN Tower,Bathurst Quay,Island airport,Harbourfront West,King and Spadina,Railway Lands,South Niagara----\n",
      "              venue  freq\n",
      "0  Airport Terminal   0.2\n",
      "1    Airport Lounge   0.2\n",
      "2   Harbor / Marina   0.1\n",
      "3   Airport Service   0.1\n",
      "4          Boutique   0.1\n",
      "\n",
      "\n",
      "----Cabbagetown,St. James Town----\n",
      "               venue  freq\n",
      "0         Restaurant   0.2\n",
      "1               Café   0.2\n",
      "2  Indian Restaurant   0.1\n",
      "3              Diner   0.1\n",
      "4      Jewelry Store   0.1\n",
      "\n",
      "\n",
      "----Caledonia-Fairbanks----\n",
      "                  venue  freq\n",
      "0                  Park  0.33\n",
      "1              Pharmacy  0.17\n",
      "2         Women's Store  0.17\n",
      "3                Market  0.17\n",
      "4  Fast Food Restaurant  0.17\n",
      "\n",
      "\n",
      "----Canada Post Gateway Processing Centre----\n",
      "                      venue  freq\n",
      "0               Coffee Shop   0.2\n",
      "1                     Hotel   0.2\n",
      "2       Fried Chicken Joint   0.1\n",
      "3  Mediterranean Restaurant   0.1\n",
      "4       American Restaurant   0.1\n",
      "\n",
      "\n",
      "----Cedarbrae----\n",
      "                  venue  freq\n",
      "0      Hakka Restaurant  0.14\n",
      "1       Thai Restaurant  0.14\n",
      "2                  Bank  0.14\n",
      "3  Caribbean Restaurant  0.14\n",
      "4    Athletics & Sports  0.14\n",
      "\n",
      "\n",
      "----Central Bay Street----\n",
      "              venue  freq\n",
      "0       Coffee Shop   0.4\n",
      "1       Pizza Place   0.1\n",
      "2         Gastropub   0.1\n",
      "3   Bubble Tea Shop   0.1\n",
      "4  Ramen Restaurant   0.1\n",
      "\n",
      "\n",
      "----Chinatown,Grange Park,Kensington Market----\n",
      "                   venue  freq\n",
      "0                   Café   0.3\n",
      "1            Coffee Shop   0.1\n",
      "2  Vietnamese Restaurant   0.1\n",
      "3           Cocktail Bar   0.1\n",
      "4     Mexican Restaurant   0.1\n",
      "\n",
      "\n",
      "----Christie----\n",
      "           venue  freq\n",
      "0           Café   0.3\n",
      "1  Grocery Store   0.2\n",
      "2    Coffee Shop   0.1\n",
      "3          Diner   0.1\n",
      "4     Restaurant   0.1\n",
      "\n",
      "\n",
      "----Church and Wellesley----\n",
      "                venue  freq\n",
      "0           Bookstore   0.1\n",
      "1    Ramen Restaurant   0.1\n",
      "2     Bubble Tea Shop   0.1\n",
      "3            Tea Room   0.1\n",
      "4  Salon / Barbershop   0.1\n",
      "\n",
      "\n",
      "----Clairlea,Golden Mile,Oakridge----\n",
      "                  venue  freq\n",
      "0              Bus Line   0.2\n",
      "1                Bakery   0.2\n",
      "2          Soccer Field   0.1\n",
      "3                  Park   0.1\n",
      "4  Fast Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----Clarks Corners,Sullivan,Tam O'Shanter----\n",
      "                  venue  freq\n",
      "0           Pizza Place  0.22\n",
      "1              Pharmacy  0.11\n",
      "2       Thai Restaurant  0.11\n",
      "3    Chinese Restaurant  0.11\n",
      "4  Fast Food Restaurant  0.11\n",
      "\n",
      "\n",
      "----Cliffcrest,Cliffside,Scarborough Village West----\n",
      "                 venue  freq\n",
      "0        Movie Theater  0.33\n",
      "1                Motel  0.33\n",
      "2  American Restaurant  0.33\n",
      "3               Market  0.00\n",
      "4       Massage Studio  0.00\n",
      "\n",
      "\n",
      "----Cloverdale,Islington,Martin Grove,Princess Gardens,West Deane Park----\n",
      "               venue  freq\n",
      "0               Bank   1.0\n",
      "1  Accessories Store   0.0\n",
      "2  Mobile Phone Shop   0.0\n",
      "3             Market   0.0\n",
      "4     Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Commerce Court,Victoria Hotel----\n",
      "                 venue  freq\n",
      "0                 Café   0.2\n",
      "1                  Pub   0.1\n",
      "2  Japanese Restaurant   0.1\n",
      "3               Bakery   0.1\n",
      "4               Museum   0.1\n",
      "\n",
      "\n",
      "----Davisville----\n",
      "               venue  freq\n",
      "0       Dessert Shop   0.2\n",
      "1  Indian Restaurant   0.1\n",
      "2        Pizza Place   0.1\n",
      "3        Coffee Shop   0.1\n",
      "4               Park   0.1\n",
      "\n",
      "\n",
      "----Davisville North----\n",
      "                  venue  freq\n",
      "0  Gym / Fitness Center  0.11\n",
      "1          Dance Studio  0.11\n",
      "2          Burger Joint  0.11\n",
      "3        Sandwich Place  0.11\n",
      "4     Food & Drink Shop  0.11\n",
      "\n",
      "\n",
      "----Deer Park,Forest Hill SE,Rathnelly,South Hill,Summerhill West----\n",
      "                 venue  freq\n",
      "0          Coffee Shop   0.2\n",
      "1                  Pub   0.2\n",
      "2    Convenience Store   0.1\n",
      "3           Sports Bar   0.1\n",
      "4  American Restaurant   0.1\n",
      "\n",
      "\n",
      "----Del Ray,Keelesdale,Mount Dennis,Silverthorn----\n",
      "                   venue  freq\n",
      "0      Convenience Store  0.25\n",
      "1  Check Cashing Service  0.25\n",
      "2     Turkish Restaurant  0.25\n",
      "3         Sandwich Place  0.25\n",
      "4      Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Design Exchange,Toronto Dominion Centre----\n",
      "                  venue  freq\n",
      "0  Gym / Fitness Center   0.1\n",
      "1             Gastropub   0.1\n",
      "2                  Café   0.1\n",
      "3   Japanese Restaurant   0.1\n",
      "4                 Hotel   0.1\n",
      "\n",
      "\n",
      "----Don Mills North----\n",
      "                  venue  freq\n",
      "0  Gym / Fitness Center  0.25\n",
      "1   Japanese Restaurant  0.25\n",
      "2  Caribbean Restaurant  0.25\n",
      "3                  Café  0.25\n",
      "4     Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Dorset Park,Scarborough Town Centre,Wexford Heights----\n",
      "                       venue  freq\n",
      "0          Indian Restaurant  0.22\n",
      "1                  Pet Store  0.11\n",
      "2  Latin American Restaurant  0.11\n",
      "3      Vietnamese Restaurant  0.11\n",
      "4         Chinese Restaurant  0.11\n",
      "\n",
      "\n",
      "----Dovercourt Village,Dufferin----\n",
      "                       venue  freq\n",
      "0                     Bakery   0.2\n",
      "1                       Café   0.1\n",
      "2                Supermarket   0.1\n",
      "3       Gym / Fitness Center   0.1\n",
      "4  Middle Eastern Restaurant   0.1\n",
      "\n",
      "\n",
      "----Downsview Central----\n",
      "               venue  freq\n",
      "0         Food Truck  0.25\n",
      "1  Korean Restaurant  0.25\n",
      "2     Baseball Field  0.25\n",
      "3       Home Service  0.25\n",
      "4  Mobile Phone Shop  0.00\n",
      "\n",
      "\n",
      "----Downsview Northwest----\n",
      "                  venue  freq\n",
      "0          Liquor Store   0.2\n",
      "1    Athletics & Sports   0.2\n",
      "2        Discount Store   0.2\n",
      "3         Grocery Store   0.2\n",
      "4  Gym / Fitness Center   0.2\n",
      "\n",
      "\n",
      "----Downsview West----\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                   venue  freq\n",
      "0          Grocery Store  0.25\n",
      "1                   Park  0.25\n",
      "2                   Bank  0.25\n",
      "3                  Hotel  0.25\n",
      "4  Performing Arts Venue  0.00\n",
      "\n",
      "\n",
      "----East Birchmount Park,Ionview,Kennedy Park----\n",
      "                venue  freq\n",
      "0         Bus Station  0.14\n",
      "1         Coffee Shop  0.14\n",
      "2   Convenience Store  0.14\n",
      "3          Hobby Shop  0.14\n",
      "4  Chinese Restaurant  0.14\n",
      "\n",
      "\n",
      "----East Toronto----\n",
      "               venue  freq\n",
      "0        Coffee Shop  0.33\n",
      "1               Park  0.33\n",
      "2  Convenience Store  0.33\n",
      "3              Motel  0.00\n",
      "4     Massage Studio  0.00\n",
      "\n",
      "\n",
      "----Emery,Humberlea----\n",
      "               venue  freq\n",
      "0     Baseball Field   1.0\n",
      "1  Accessories Store   0.0\n",
      "2  Mobile Phone Shop   0.0\n",
      "3             Market   0.0\n",
      "4     Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Fairview,Henry Farm,Oriole----\n",
      "                 venue  freq\n",
      "0             Pharmacy   0.1\n",
      "1    Electronics Store   0.1\n",
      "2         Burger Joint   0.1\n",
      "3        Shopping Mall   0.1\n",
      "4  American Restaurant   0.1\n",
      "\n",
      "\n",
      "----First Canadian Place,Underground city----\n",
      "                  venue  freq\n",
      "0                  Café   0.2\n",
      "1                   Gym   0.1\n",
      "2           Art Gallery   0.1\n",
      "3  Gym / Fitness Center   0.1\n",
      "4            Restaurant   0.1\n",
      "\n",
      "\n",
      "----Flemingdon Park,Don Mills South----\n",
      "                   venue  freq\n",
      "0                    Gym   0.1\n",
      "1     Italian Restaurant   0.1\n",
      "2              Bike Shop   0.1\n",
      "3             Beer Store   0.1\n",
      "4  General Entertainment   0.1\n",
      "\n",
      "\n",
      "----Forest Hill North,Forest Hill West----\n",
      "               venue  freq\n",
      "0               Park  0.25\n",
      "1      Jewelry Store  0.25\n",
      "2   Sushi Restaurant  0.25\n",
      "3              Trail  0.25\n",
      "4  Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Glencairn----\n",
      "                 venue  freq\n",
      "0          Pizza Place  0.25\n",
      "1                  Pub  0.25\n",
      "2  Japanese Restaurant  0.25\n",
      "3        Metro Station  0.25\n",
      "4    Mobile Phone Shop  0.00\n",
      "\n",
      "\n",
      "----Guildwood,Morningside,West Hill----\n",
      "                 venue  freq\n",
      "0          Pizza Place  0.12\n",
      "1  Rental Car Location  0.12\n",
      "2       Breakfast Spot  0.12\n",
      "3       Medical Center  0.12\n",
      "4   Mexican Restaurant  0.12\n",
      "\n",
      "\n",
      "----Harbord,University of Toronto----\n",
      "        venue  freq\n",
      "0   Bookstore   0.1\n",
      "1  Restaurant   0.1\n",
      "2    Beer Bar   0.1\n",
      "3         Bar   0.1\n",
      "4      Bakery   0.1\n",
      "\n",
      "\n",
      "----Harbourfront East,Toronto Islands,Union Station----\n",
      "                   venue  freq\n",
      "0            Salad Place   0.1\n",
      "1  Performing Arts Venue   0.1\n",
      "2                   Park   0.1\n",
      "3    Sporting Goods Shop   0.1\n",
      "4                   Lake   0.1\n",
      "\n",
      "\n",
      "----Harbourfront,Regent Park----\n",
      "            venue  freq\n",
      "0  Breakfast Spot   0.2\n",
      "1   Historic Site   0.1\n",
      "2             Spa   0.1\n",
      "3          Bakery   0.1\n",
      "4      Restaurant   0.1\n",
      "\n",
      "\n",
      "----High Park,The Junction South----\n",
      "                 venue  freq\n",
      "0            Speakeasy   0.1\n",
      "1                 Park   0.1\n",
      "2            Gastropub   0.1\n",
      "3          Music Venue   0.1\n",
      "4  Arts & Crafts Store   0.1\n",
      "\n",
      "\n",
      "----Highland Creek,Rouge Hill,Port Union----\n",
      "               venue  freq\n",
      "0                Bar   1.0\n",
      "1  Accessories Store   0.0\n",
      "2  Mobile Phone Shop   0.0\n",
      "3             Market   0.0\n",
      "4     Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Hillcrest Village----\n",
      "                      venue  freq\n",
      "0               Golf Course   0.2\n",
      "1                      Pool   0.2\n",
      "2                   Dog Run   0.2\n",
      "3  Mediterranean Restaurant   0.2\n",
      "4        Athletics & Sports   0.2\n",
      "\n",
      "\n",
      "----Humber Bay Shores,Mimico South,New Toronto----\n",
      "                  venue  freq\n",
      "0              Pharmacy   0.1\n",
      "1            Restaurant   0.1\n",
      "2           Pizza Place   0.1\n",
      "3          Liquor Store   0.1\n",
      "4  Fast Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----Humber Bay,King's Mill Park,Kingsway Park South East,Mimico NE,Old Mill South,The Queensway East,Royal York South East,Sunnylea----\n",
      "                        venue  freq\n",
      "0  Construction & Landscaping   0.5\n",
      "1              Baseball Field   0.5\n",
      "2           Accessories Store   0.0\n",
      "3           Mobile Phone Shop   0.0\n",
      "4                      Market   0.0\n",
      "\n",
      "\n",
      "----Humber Summit----\n",
      "                 venue  freq\n",
      "0                  Gym  0.33\n",
      "1          Pizza Place  0.33\n",
      "2  Empanada Restaurant  0.33\n",
      "3     Hakka Restaurant  0.00\n",
      "4               Lounge  0.00\n",
      "\n",
      "\n",
      "----Humewood-Cedarvale----\n",
      "               venue  freq\n",
      "0               Park  0.25\n",
      "1              Field  0.25\n",
      "2              Trail  0.25\n",
      "3       Hockey Arena  0.25\n",
      "4  Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Kingsview Village,Martin Grove Gardens,Richview Gardens,St. Phillips----\n",
      "                venue  freq\n",
      "0   Mobile Phone Shop  0.33\n",
      "1                Park  0.33\n",
      "2         Pizza Place  0.33\n",
      "3  Miscellaneous Shop  0.00\n",
      "4              Lounge  0.00\n",
      "\n",
      "\n",
      "----Kingsway Park South West,Mimico NW,The Queensway West,Royal York South West,South of Bloor----\n",
      "                  venue  freq\n",
      "0                Bakery   0.1\n",
      "1         Grocery Store   0.1\n",
      "2           Wings Joint   0.1\n",
      "3     Convenience Store   0.1\n",
      "4  Fast Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----L'Amoreaux West,Steeles West----\n",
      "                  venue  freq\n",
      "0  Fast Food Restaurant   0.2\n",
      "1    Chinese Restaurant   0.2\n",
      "2         Grocery Store   0.1\n",
      "3           Coffee Shop   0.1\n",
      "4        Sandwich Place   0.1\n",
      "\n",
      "\n",
      "----Lawrence Heights,Lawrence Manor----\n",
      "                venue  freq\n",
      "0      Clothing Store   0.2\n",
      "1   Accessories Store   0.1\n",
      "2         Coffee Shop   0.1\n",
      "3  Miscellaneous Shop   0.1\n",
      "4         Event Space   0.1\n",
      "\n",
      "\n",
      "----Lawrence Park----\n",
      "                venue  freq\n",
      "0                Park  0.33\n",
      "1         Swim School  0.33\n",
      "2            Bus Line  0.33\n",
      "3   Accessories Store  0.00\n",
      "4  Miscellaneous Shop  0.00\n",
      "\n",
      "\n",
      "----Leaside----\n",
      "                 venue  freq\n",
      "0  Sporting Goods Shop   0.1\n",
      "1                  Gym   0.1\n",
      "2          Coffee Shop   0.1\n",
      "3            Bike Shop   0.1\n",
      "4           Sports Bar   0.1\n",
      "\n",
      "\n",
      "----Little Portugal,Trinity----\n",
      "              venue  freq\n",
      "0               Bar   0.2\n",
      "1  Greek Restaurant   0.1\n",
      "2       Art Gallery   0.1\n",
      "3  Cuban Restaurant   0.1\n",
      "4           Brewery   0.1\n",
      "\n",
      "\n",
      "----Maple Leaf Park,North Park,Upwood Park----\n",
      "                        venue  freq\n",
      "0  Construction & Landscaping  0.25\n",
      "1            Basketball Court  0.25\n",
      "2                        Park  0.25\n",
      "3                      Bakery  0.25\n",
      "4           Accessories Store  0.00\n",
      "\n",
      "\n",
      "----Maryvale,Wexford----\n",
      "                       venue  freq\n",
      "0  Middle Eastern Restaurant  0.33\n",
      "1                Auto Garage  0.17\n",
      "2             Breakfast Spot  0.17\n",
      "3              Shopping Mall  0.17\n",
      "4             Sandwich Place  0.17\n",
      "\n",
      "\n",
      "----Moore Park,Summerhill East----\n",
      "                venue  freq\n",
      "0          Playground   0.5\n",
      "1        Tennis Court   0.5\n",
      "2  Miscellaneous Shop   0.0\n",
      "3              Lounge   0.0\n",
      "4              Market   0.0\n",
      "\n",
      "\n",
      "----North Toronto West----\n",
      "                  venue  freq\n",
      "0           Yoga Studio   0.1\n",
      "1    Salon / Barbershop   0.1\n",
      "2   Sporting Goods Shop   0.1\n",
      "3           Coffee Shop   0.1\n",
      "4  Fast Food Restaurant   0.1\n",
      "\n",
      "\n",
      "----Northwest----\n",
      "                 venue  freq\n",
      "0            Drugstore   0.5\n",
      "1  Rental Car Location   0.5\n",
      "2    Accessories Store   0.0\n",
      "3    Mobile Phone Shop   0.0\n",
      "4       Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Northwood Park,York University----\n",
      "                    venue  freq\n",
      "0      Falafel Restaurant   0.2\n",
      "1             Coffee Shop   0.2\n",
      "2          Massage Studio   0.2\n",
      "3                     Bar   0.2\n",
      "4  Furniture / Home Store   0.2\n",
      "\n",
      "\n",
      "----Parkdale,Roncesvalles----\n",
      "                         venue  freq\n",
      "0                Movie Theater   0.1\n",
      "1                 Dessert Shop   0.1\n",
      "2                  Coffee Shop   0.1\n",
      "3  Eastern European Restaurant   0.1\n",
      "4                    Gift Shop   0.1\n",
      "\n",
      "\n",
      "----Parkwoods----\n",
      "                  venue  freq\n",
      "0              Bus Stop  0.25\n",
      "1                  Park  0.25\n",
      "2  Fast Food Restaurant  0.25\n",
      "3     Food & Drink Shop  0.25\n",
      "4     Mobile Phone Shop  0.00\n",
      "\n",
      "\n",
      "----Queen's Park----\n",
      "                   venue  freq\n",
      "0            Coffee Shop   0.3\n",
      "1            Yoga Studio   0.1\n",
      "2  Portuguese Restaurant   0.1\n",
      "3             Hobby Shop   0.1\n",
      "4     Italian Restaurant   0.1\n",
      "\n",
      "\n",
      "----Rosedale----\n",
      "                venue  freq\n",
      "0                Park  0.50\n",
      "1          Playground  0.25\n",
      "2               Trail  0.25\n",
      "3  Miscellaneous Shop  0.00\n",
      "4              Lounge  0.00\n",
      "\n",
      "\n",
      "----Roselawn----\n",
      "            venue  freq\n",
      "0    Home Service   0.5\n",
      "1          Garden   0.5\n",
      "2           Motel   0.0\n",
      "3          Market   0.0\n",
      "4  Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Rouge,Malvern----\n",
      "                  venue  freq\n",
      "0  Fast Food Restaurant   1.0\n",
      "1     Accessories Store   0.0\n",
      "2          Liquor Store   0.0\n",
      "3                Market   0.0\n",
      "4        Massage Studio   0.0\n",
      "\n",
      "\n",
      "----Runnymede,Swansea----\n",
      "                venue  freq\n",
      "0           Bookstore   0.1\n",
      "1  Italian Restaurant   0.1\n",
      "2       Burrito Place   0.1\n",
      "3   Fish & Chips Shop   0.1\n",
      "4    Sushi Restaurant   0.1\n",
      "\n",
      "\n",
      "----Ryerson,Garden District----\n",
      "            venue  freq\n",
      "0     Pizza Place   0.1\n",
      "1  Clothing Store   0.1\n",
      "2   Burrito Place   0.1\n",
      "3           Diner   0.1\n",
      "4            Café   0.1\n",
      "\n",
      "\n",
      "----Scarborough Village----\n",
      "            venue  freq\n",
      "0      Playground   0.5\n",
      "1     Pizza Place   0.5\n",
      "2          Lounge   0.0\n",
      "3          Market   0.0\n",
      "4  Massage Studio   0.0\n",
      "\n",
      "\n",
      "----St. James Town----\n",
      "                venue  freq\n",
      "0  Italian Restaurant   0.1\n",
      "1         Coffee Shop   0.1\n",
      "2      Cosmetics Shop   0.1\n",
      "3            Creperie   0.1\n",
      "4           Gastropub   0.1\n",
      "\n",
      "\n",
      "----Stn A PO Boxes 25 The Esplanade----\n",
      "          venue  freq\n",
      "0  Cocktail Bar   0.2\n",
      "1  Concert Hall   0.1\n",
      "2      Tea Room   0.1\n",
      "3          Park   0.1\n",
      "4    Steakhouse   0.1\n",
      "\n",
      "\n",
      "----Studio District----\n",
      "                venue  freq\n",
      "0         Coffee Shop   0.2\n",
      "1           Bookstore   0.1\n",
      "2  Chinese Restaurant   0.1\n",
      "3         Cheese Shop   0.1\n",
      "4      Ice Cream Shop   0.1\n",
      "\n",
      "\n",
      "----The Annex,North Midtown,Yorkville----\n",
      "                 venue  freq\n",
      "0                 Café   0.2\n",
      "1          Pizza Place   0.1\n",
      "2  American Restaurant   0.1\n",
      "3         Burger Joint   0.1\n",
      "4            BBQ Joint   0.1\n",
      "\n",
      "\n",
      "----The Beaches----\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "               venue  freq\n",
      "0        Coffee Shop  0.25\n",
      "1                Pub  0.25\n",
      "2  Health Food Store  0.25\n",
      "3              Motel  0.00\n",
      "4     Massage Studio  0.00\n",
      "\n",
      "\n",
      "----The Beaches West,India Bazaar----\n",
      "               venue  freq\n",
      "0       Liquor Store   0.1\n",
      "1     Ice Cream Shop   0.1\n",
      "2         Steakhouse   0.1\n",
      "3       Burger Joint   0.1\n",
      "4  Fish & Chips Shop   0.1\n",
      "\n",
      "\n",
      "----The Danforth West,Riverdale----\n",
      "                venue  freq\n",
      "0    Greek Restaurant   0.4\n",
      "1  Italian Restaurant   0.2\n",
      "2             Brewery   0.1\n",
      "3      Ice Cream Shop   0.1\n",
      "4      Cosmetics Shop   0.1\n",
      "\n",
      "\n",
      "----The Junction North,Runnymede----\n",
      "                  venue  freq\n",
      "0               Brewery  0.33\n",
      "1  Caribbean Restaurant  0.33\n",
      "2              Bus Line  0.33\n",
      "3     Accessories Store  0.00\n",
      "4                 Motel  0.00\n",
      "\n",
      "\n",
      "----The Kingsway,Montgomery Road,Old Mill North----\n",
      "                venue  freq\n",
      "0                Park  0.33\n",
      "1          Smoke Shop  0.33\n",
      "2               River  0.33\n",
      "3   Accessories Store  0.00\n",
      "4  Miscellaneous Shop  0.00\n",
      "\n",
      "\n",
      "----Thorncliffe Park----\n",
      "               venue  freq\n",
      "0  Indian Restaurant   0.2\n",
      "1        Yoga Studio   0.1\n",
      "2      Grocery Store   0.1\n",
      "3        Coffee Shop   0.1\n",
      "4     Sandwich Place   0.1\n",
      "\n",
      "\n",
      "----Victoria Village----\n",
      "                   venue  freq\n",
      "0            Coffee Shop  0.25\n",
      "1           Hockey Arena  0.25\n",
      "2  Portuguese Restaurant  0.25\n",
      "3            Pizza Place  0.25\n",
      "4        Harbor / Marina  0.00\n",
      "\n",
      "\n",
      "----Westmount----\n",
      "                       venue  freq\n",
      "0                Pizza Place  0.25\n",
      "1         Chinese Restaurant  0.12\n",
      "2  Middle Eastern Restaurant  0.12\n",
      "3             Sandwich Place  0.12\n",
      "4               Intersection  0.12\n",
      "\n",
      "\n",
      "----Weston----\n",
      "                venue  freq\n",
      "0                Park   1.0\n",
      "1   Accessories Store   0.0\n",
      "2  Miscellaneous Shop   0.0\n",
      "3              Lounge   0.0\n",
      "4              Market   0.0\n",
      "\n",
      "\n",
      "----Willowdale South----\n",
      "                   venue  freq\n",
      "0                   Café   0.2\n",
      "1          Grocery Store   0.1\n",
      "2       Ramen Restaurant   0.1\n",
      "3             Steakhouse   0.1\n",
      "4  Indonesian Restaurant   0.1\n",
      "\n",
      "\n",
      "----Willowdale West----\n",
      "           venue  freq\n",
      "0  Grocery Store   0.2\n",
      "1       Pharmacy   0.2\n",
      "2    Pizza Place   0.2\n",
      "3        Butcher   0.2\n",
      "4    Coffee Shop   0.2\n",
      "\n",
      "\n",
      "----Woburn----\n",
      "               venue  freq\n",
      "0        Coffee Shop  0.67\n",
      "1  Korean Restaurant  0.33\n",
      "2             Lounge  0.00\n",
      "3     Massage Studio  0.00\n",
      "4     Medical Center  0.00\n",
      "\n",
      "\n",
      "----Woodbine Gardens,Parkview Hill----\n",
      "                  venue  freq\n",
      "0           Pizza Place   0.2\n",
      "1  Gym / Fitness Center   0.1\n",
      "2          Intersection   0.1\n",
      "3             Pet Store   0.1\n",
      "4    Rock Climbing Spot   0.1\n",
      "\n",
      "\n",
      "----Woodbine Heights----\n",
      "            venue  freq\n",
      "0    Skating Rink   0.2\n",
      "1        Pharmacy   0.1\n",
      "2            Park   0.1\n",
      "3  Cosmetics Shop   0.1\n",
      "4      Beer Store   0.1\n",
      "\n",
      "\n",
      "----York Mills West----\n",
      "               venue  freq\n",
      "0               Park   0.5\n",
      "1               Bank   0.5\n",
      "2  Accessories Store   0.0\n",
      "3  Mobile Phone Shop   0.0\n",
      "4             Market   0.0\n",
      "\n",
      "\n"
     ]
    }
   ],
   "source": [
    "# top 5 venues for each neighborhood\n",
    "num_top_venues = 5\n",
    "\n",
    "for hood in toronto_grouped['Neighborhood']:\n",
    "    print(\"----\"+hood+\"----\")\n",
    "    temp = toronto_grouped[toronto_grouped['Neighborhood'] == hood].T.reset_index()\n",
    "    temp.columns = ['venue','freq']\n",
    "    temp = temp.iloc[1:]\n",
    "    temp['freq'] = temp['freq'].astype(float)\n",
    "    temp = temp.round({'freq': 2})\n",
    "    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))\n",
    "    print('\\n')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Adelaide,King,Richmond</td>\n",
       "      <td>Steakhouse</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Speakeasy</td>\n",
       "      <td>Vegetarian / Vegan Restaurant</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Plaza</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Agincourt</td>\n",
       "      <td>Lounge</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Agincourt North,L'Amoreaux East,Milliken,Steel...</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Albion Gardens,Beaumond Heights,Humbergate,Jam...</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Video Store</td>\n",
       "      <td>French Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Alderwood,Long Branch</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                        Neighborhood 1st Most Common Venue  \\\n",
       "0                             Adelaide,King,Richmond            Steakhouse   \n",
       "1                                          Agincourt                Lounge   \n",
       "2  Agincourt North,L'Amoreaux East,Milliken,Steel...                  Park   \n",
       "3  Albion Gardens,Beaumond Heights,Humbergate,Jam...         Grocery Store   \n",
       "4                              Alderwood,Long Branch           Pizza Place   \n",
       "\n",
       "  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n",
       "0           Coffee Shop      Greek Restaurant             Speakeasy   \n",
       "1    Chinese Restaurant          Skating Rink        Breakfast Spot   \n",
       "2            Playground           Yoga Studio      Cuban Restaurant   \n",
       "3              Pharmacy   Fried Chicken Joint           Pizza Place   \n",
       "4           Coffee Shop          Skating Rink              Pharmacy   \n",
       "\n",
       "           5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "0  Vegetarian / Vegan Restaurant          Concert Hall                 Plaza   \n",
       "1                 Sandwich Place           Yoga Studio           Curling Ice   \n",
       "2                 Discount Store                 Diner    Dim Sum Restaurant   \n",
       "3                 Sandwich Place            Beer Store  Fast Food Restaurant   \n",
       "4                            Gym        Sandwich Place                   Pub   \n",
       "\n",
       "  8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n",
       "0      Asian Restaurant                 Hotel            Yoga Studio  \n",
       "1    Dim Sum Restaurant          Dessert Shop       Department Store  \n",
       "2          Dessert Shop      Department Store          Deli / Bodega  \n",
       "3           Coffee Shop           Video Store      French Restaurant  \n",
       "4              Creperie          Dessert Shop       Department Store  "
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Put into pandas dataframe\n",
    "def return_most_common_venues(row, num_top_venues):\n",
    "    row_categories = row.iloc[1:]\n",
    "    row_categories_sorted = row_categories.sort_values(ascending=False)\n",
    "    \n",
    "    return row_categories_sorted.index.values[0:num_top_venues]\n",
    "\n",
    "num_top_venues = 10\n",
    "\n",
    "indicators = ['st', 'nd', 'rd']\n",
    "\n",
    "# create columns according to number of top venues\n",
    "columns = ['Neighborhood']\n",
    "for ind in np.arange(num_top_venues):\n",
    "    try:\n",
    "        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n",
    "    except:\n",
    "        columns.append('{}th Most Common Venue'.format(ind+1))\n",
    "\n",
    "# create a new dataframe\n",
    "neighborhoods_venues_sorted = pd.DataFrame(columns=columns)\n",
    "neighborhoods_venues_sorted['Neighborhood'] = toronto_grouped['Neighborhood']\n",
    "\n",
    "for ind in np.arange(toronto_grouped.shape[0]):\n",
    "    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(toronto_grouped.iloc[ind, :], num_top_venues)\n",
    "\n",
    "neighborhoods_venues_sorted.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [],
   "source": [
    "# K Means Clustering\n",
    "from sklearn.cluster import KMeans\n",
    "import matplotlib.cm as cm\n",
    "import matplotlib.colors as colors"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 0, 4, 0, 0, 0, 0, 0, 0, 0])"
      ]
     },
     "execution_count": 44,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "kclusters = 5\n",
    "toronto_grouped_clustering = toronto_grouped.drop('Neighborhood', 1)\n",
    "kmeans = KMeans(n_clusters=kclusters, random_state=0).fit(toronto_grouped_clustering)\n",
    "\n",
    "kmeans.labels_[0:10] "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "      <td>3.0</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "      <td>2.0</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "      <td>0.0</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Medical Center</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "      <td>0.0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "      <td>0.0</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Hakka Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode      Borough                          Neighborhood   Latitude  \\\n",
       "0        M1B  Scarborough                         Rouge,Malvern  43.806686   \n",
       "1        M1C  Scarborough  Highland Creek,Rouge Hill,Port Union  43.784535   \n",
       "2        M1E  Scarborough       Guildwood,Morningside,West Hill  43.763573   \n",
       "3        M1G  Scarborough                                Woburn  43.770992   \n",
       "4        M1H  Scarborough                             Cedarbrae  43.773136   \n",
       "\n",
       "   Longitude  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0 -79.194353             3.0  Fast Food Restaurant           Yoga Studio   \n",
       "1 -79.160497             2.0                   Bar           Yoga Studio   \n",
       "2 -79.188711             0.0                   Spa   Rental Car Location   \n",
       "3 -79.216917             0.0           Coffee Shop     Korean Restaurant   \n",
       "4 -79.239476             0.0       Thai Restaurant      Hakka Restaurant   \n",
       "\n",
       "         3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0  Eastern European Restaurant               Dog Run        Discount Store   \n",
       "1                 Dance Studio             Drugstore               Dog Run   \n",
       "2               Breakfast Spot          Intersection     Electronics Store   \n",
       "3                 Dance Studio             Drugstore               Dog Run   \n",
       "4          Fried Chicken Joint  Caribbean Restaurant                  Bank   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0                 Diner    Dim Sum Restaurant          Dessert Shop   \n",
       "1        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "2        Medical Center    Mexican Restaurant           Pizza Place   \n",
       "3        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "4                Bakery    Athletics & Sports          Dance Studio   \n",
       "\n",
       "        9th Most Common Venue 10th Most Common Venue  \n",
       "0            Department Store          Deli / Bodega  \n",
       "1                Dessert Shop       Department Store  \n",
       "2  Construction & Landscaping      Convenience Store  \n",
       "3                Dessert Shop       Department Store  \n",
       "4                     Dog Run         Discount Store  "
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# add clustering labels\n",
    "neighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n",
    "\n",
    "# merge toronto_grouped with toronto coords to add latitude/longitude for each neighborhood\n",
    "toronto_merged = coords\n",
    "toronto_merged = toronto_merged.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='Neighborhood')\n",
    "\n",
    "toronto_merged.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(103, 16)"
      ]
     },
     "execution_count": 56,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "toronto_merged.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(99, 16)"
      ]
     },
     "execution_count": 59,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "toronto_merged.dropna(inplace=True)\n",
    "toronto_merged.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PostalCode</th>\n",
       "      <th>Borough</th>\n",
       "      <th>Neighborhood</th>\n",
       "      <th>Latitude</th>\n",
       "      <th>Longitude</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>M1B</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Rouge,Malvern</td>\n",
       "      <td>43.806686</td>\n",
       "      <td>-79.194353</td>\n",
       "      <td>3</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>M1C</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Highland Creek,Rouge Hill,Port Union</td>\n",
       "      <td>43.784535</td>\n",
       "      <td>-79.160497</td>\n",
       "      <td>2</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>M1E</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Guildwood,Morningside,West Hill</td>\n",
       "      <td>43.763573</td>\n",
       "      <td>-79.188711</td>\n",
       "      <td>0</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Medical Center</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>M1G</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Woburn</td>\n",
       "      <td>43.770992</td>\n",
       "      <td>-79.216917</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>M1H</td>\n",
       "      <td>Scarborough</td>\n",
       "      <td>Cedarbrae</td>\n",
       "      <td>43.773136</td>\n",
       "      <td>-79.239476</td>\n",
       "      <td>0</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Hakka Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  PostalCode      Borough                          Neighborhood   Latitude  \\\n",
       "0        M1B  Scarborough                         Rouge,Malvern  43.806686   \n",
       "1        M1C  Scarborough  Highland Creek,Rouge Hill,Port Union  43.784535   \n",
       "2        M1E  Scarborough       Guildwood,Morningside,West Hill  43.763573   \n",
       "3        M1G  Scarborough                                Woburn  43.770992   \n",
       "4        M1H  Scarborough                             Cedarbrae  43.773136   \n",
       "\n",
       "   Longitude  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0 -79.194353               3  Fast Food Restaurant           Yoga Studio   \n",
       "1 -79.160497               2                   Bar           Yoga Studio   \n",
       "2 -79.188711               0                   Spa   Rental Car Location   \n",
       "3 -79.216917               0           Coffee Shop     Korean Restaurant   \n",
       "4 -79.239476               0       Thai Restaurant      Hakka Restaurant   \n",
       "\n",
       "         3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0  Eastern European Restaurant               Dog Run        Discount Store   \n",
       "1                 Dance Studio             Drugstore               Dog Run   \n",
       "2               Breakfast Spot          Intersection     Electronics Store   \n",
       "3                 Dance Studio             Drugstore               Dog Run   \n",
       "4          Fried Chicken Joint  Caribbean Restaurant                  Bank   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0                 Diner    Dim Sum Restaurant          Dessert Shop   \n",
       "1        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "2        Medical Center    Mexican Restaurant           Pizza Place   \n",
       "3        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "4                Bakery    Athletics & Sports          Dance Studio   \n",
       "\n",
       "        9th Most Common Venue 10th Most Common Venue  \n",
       "0            Department Store          Deli / Bodega  \n",
       "1                Dessert Shop       Department Store  \n",
       "2  Construction & Landscaping      Convenience Store  \n",
       "3                Dessert Shop       Department Store  \n",
       "4                     Dog Run         Discount Store  "
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "toronto_merged['Cluster Labels'] = toronto_merged['Cluster Labels'].astype(int)\n",
    "toronto_merged.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVM9ZmFsc2U7IExfTk9fVE9VQ0g9ZmFsc2U7IExfRElTQUJMRV8zRD1mYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS40LjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMS4xMi40Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS40LjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vcHl0aG9uLXZpc3VhbGl6YXRpb24vZm9saXVtL21hc3Rlci9mb2xpdW0vdGVtcGxhdGVzL2xlYWZsZXQuYXdlc29tZS5yb3RhdGUuY3NzIi8+CiAgICA8c3R5bGU+aHRtbCwgYm9keSB7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO21hcmdpbjogMDtwYWRkaW5nOiAwO308L3N0eWxlPgogICAgPHN0eWxlPiNtYXAge3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO3JpZ2h0OjA7bGVmdDowO308L3N0eWxlPgogICAgCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLAogICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgIDxzdHlsZT4jbWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgd2lkdGg6IDEwMC4wJTsKICAgICAgICBoZWlnaHQ6IDEwMC4wJTsKICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgIHRvcDogMC4wJTsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCIgPjwvZGl2Pgo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCiAgICAKICAgICAgICB2YXIgYm91bmRzID0gbnVsbDsKICAgIAoKICAgIHZhciBtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQgPSBMLm1hcCgKICAgICAgICAnbWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkJywgewogICAgICAgIGNlbnRlcjogWzQzLjY1Mzk2MywgLTc5LjM4NzIwN10sCiAgICAgICAgem9vbTogMTEsCiAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3LAogICAgICAgIHpvb21Db250cm9sOiB0cnVlLAogICAgICAgIH0pOwoKCiAgICAKICAgIHZhciB0aWxlX2xheWVyX2Q2MjYxYTJmNjFiODQyMzk5NzVkNGNhNTIwZDBmNWEwID0gTC50aWxlTGF5ZXIoCiAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICB7CiAgICAgICAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAgICAgICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgICAgICAgIm1heE5hdGl2ZVpvb20iOiAxOCwKICAgICAgICAibWF4Wm9vbSI6IDE4LAogICAgICAgICJtaW5ab29tIjogMCwKICAgICAgICAibm9XcmFwIjogZmFsc2UsCiAgICAgICAgIm9wYWNpdHkiOiAxLAogICAgICAgICJzdWJkb21haW5zIjogImFiYyIsCiAgICAgICAgInRtcyI6IGZhbHNlCn0pLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2Q1YzdhYjBjMTA4NDg4ZmFhMzQxYjgwZTI0Y2NjNmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDY2ODYyOTk5OTk5OTYsIC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M1MWEwMGMxODZlMDRlMzE4MmY5NTliNzBlNmY2NzE5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VlYjRhMWI5ODU2MjQwZTVhZGE1MTUwYmRjYzMyOGM3ID0gJChgPGRpdiBpZD0iaHRtbF9lZWI0YTFiOTg1NjI0MGU1YWRhNTE1MGJkY2MzMjhjNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um91Z2UsTWFsdmVybiBDbHVzdGVyIDM8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M1MWEwMGMxODZlMDRlMzE4MmY5NTliNzBlNmY2NzE5LnNldENvbnRlbnQoaHRtbF9lZWI0YTFiOTg1NjI0MGU1YWRhNTE1MGJkY2MzMjhjNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZDVjN2FiMGMxMDg0ODhmYWEzNDFiODBlMjRjY2M2Zi5iaW5kUG9wdXAocG9wdXBfYzUxYTAwYzE4NmUwNGUzMTgyZjk1OWI3MGU2ZjY3MTkpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI5ZGE1MDg0M2U4OTQ3OWJiZTZmYTU3NDYwZDNmNGZlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg0NTM1MSwgLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTU5NjM5NTRiNGUzNGE0ZGI2MGJmMTRiNTZhNmEyN2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjAyN2JlOWI2MjkyNDdkYTkxZDRmOTg2ZmRhYzMzZGYgPSAkKGA8ZGl2IGlkPSJodG1sX2YwMjdiZTliNjI5MjQ3ZGE5MWQ0Zjk4NmZkYWMzM2RmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWdobGFuZCBDcmVlayxSb3VnZSBIaWxsLFBvcnQgVW5pb24gQ2x1c3RlciAyPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNTk2Mzk1NGI0ZTM0YTRkYjYwYmYxNGI1NmE2YTI3Zi5zZXRDb250ZW50KGh0bWxfZjAyN2JlOWI2MjkyNDdkYTkxZDRmOTg2ZmRhYzMzZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjlkYTUwODQzZTg5NDc5YmJlNmZhNTc0NjBkM2Y0ZmUuYmluZFBvcHVwKHBvcHVwXzE1OTYzOTU0YjRlMzRhNGRiNjBiZjE0YjU2YTZhMjdmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZjYxOGM0MjgzZmQ0YzVhYmY1MDZjNzhjZDA5NTg5OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MzU3MjYsIC03OS4xODg3MTE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2E3ZWIwOGVmZTg1NDI2ZTgxYzJhYmI0MDNlOGFkYTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmU3Mjc5NjM3NmZkNGMyMmFmMGE5MzBkMDUyMDUyZGIgPSAkKGA8ZGl2IGlkPSJodG1sXzZlNzI3OTYzNzZmZDRjMjJhZjBhOTMwZDA1MjA1MmRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HdWlsZHdvb2QsTW9ybmluZ3NpZGUsV2VzdCBIaWxsIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2E3ZWIwOGVmZTg1NDI2ZTgxYzJhYmI0MDNlOGFkYTYuc2V0Q29udGVudChodG1sXzZlNzI3OTYzNzZmZDRjMjJhZjBhOTMwZDA1MjA1MmRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmNjE4YzQyODNmZDRjNWFiZjUwNmM3OGNkMDk1ODk5LmJpbmRQb3B1cChwb3B1cF9jYTdlYjA4ZWZlODU0MjZlODFjMmFiYjQwM2U4YWRhNikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGNlZGY1YjIzZDg5NDUwN2I0NDIyYjVmM2VkZGQxOGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLCAtNzkuMjE2OTE3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MmQ0Y2Y2MTllNzU0NTI2OTJlMDEyNjkxNWZhODA1NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YzhkZTIzZmI1Njk0N2E5YTI0YWY5MmM0YzY5MmVjMSA9ICQoYDxkaXYgaWQ9Imh0bWxfOGM4ZGUyM2ZiNTY5NDdhOWEyNGFmOTJjNGM2OTJlYzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgyZDRjZjYxOWU3NTQ1MjY5MmUwMTI2OTE1ZmE4MDU0LnNldENvbnRlbnQoaHRtbF84YzhkZTIzZmI1Njk0N2E5YTI0YWY5MmM0YzY5MmVjMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wY2VkZjViMjNkODk0NTA3YjQ0MjJiNWYzZWRkZDE4Zi5iaW5kUG9wdXAocG9wdXBfODJkNGNmNjE5ZTc1NDUyNjkyZTAxMjY5MTVmYTgwNTQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NjMTgzMzQ4NzhmNTQ4OTE5ZDk4OTZhNzk0NjIzMDMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzczMTM2LCAtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83MTg1OGMxOGUyYzA0Zjk1YjBiNzU0ZmZmZDNjZjY5YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNTZjNjYyZThiMzQ0MTdhYWNhMTEyMzE3ODk2YzJjYSA9ICQoYDxkaXYgaWQ9Imh0bWxfMzU2YzY2MmU4YjM0NDE3YWFjYTExMjMxNzg5NmMyY2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcxODU4YzE4ZTJjMDRmOTViMGI3NTRmZmZkM2NmNjliLnNldENvbnRlbnQoaHRtbF8zNTZjNjYyZThiMzQ0MTdhYWNhMTEyMzE3ODk2YzJjYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jYzE4MzM0ODc4ZjU0ODkxOWQ5ODk2YTc5NDYyMzAzMy5iaW5kUG9wdXAocG9wdXBfNzE4NThjMThlMmMwNGY5NWIwYjc1NGZmZmQzY2Y2OWIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VmNzJhYWZmOWY5NTQwYWI5N2JkODZhNGU4Y2ZiOTljID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ0NzM0MiwgLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzAzZTU4ODI4MDY5NGQ0NGFjMTNhY2U4MzJkNGU3MGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWYwMjhmOGM4MGNmNDk3NGFlODhjMDY0NGNkODM2MTIgPSAkKGA8ZGl2IGlkPSJodG1sXzVmMDI4ZjhjODBjZjQ5NzRhZTg4YzA2NDRjZDgzNjEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaCBWaWxsYWdlIENsdXN0ZXIgMTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzAzZTU4ODI4MDY5NGQ0NGFjMTNhY2U4MzJkNGU3MGEuc2V0Q29udGVudChodG1sXzVmMDI4ZjhjODBjZjQ5NzRhZTg4YzA2NDRjZDgzNjEyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VmNzJhYWZmOWY5NTQwYWI5N2JkODZhNGU4Y2ZiOTljLmJpbmRQb3B1cChwb3B1cF8zMDNlNTg4MjgwNjk0ZDQ0YWMxM2FjZTgzMmQ0ZTcwYSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDM5OWU1ZWIwYmMxNDJhZGJlMjc1MDBhNzcxNzYxMGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjc5MjkyLCAtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MTQ0YWY1NWQwNTc0MjAwOGRiNjBkNTU5N2M1OGMwOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NGFlZDU2ZGRhOTc0OTNlOTVjOWYyMzEwYWM4ZGNlZSA9ICQoYDxkaXYgaWQ9Imh0bWxfOTRhZWQ1NmRkYTk3NDkzZTk1YzlmMjMxMGFjOGRjZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgQmlyY2htb3VudCBQYXJrLElvbnZpZXcsS2VubmVkeSBQYXJrIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDE0NGFmNTVkMDU3NDIwMDhkYjYwZDU1OTdjNThjMDguc2V0Q29udGVudChodG1sXzk0YWVkNTZkZGE5NzQ5M2U5NWM5ZjIzMTBhYzhkY2VlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAzOTllNWViMGJjMTQyYWRiZTI3NTAwYTc3MTc2MTBkLmJpbmRQb3B1cChwb3B1cF80MTQ0YWY1NWQwNTc0MjAwOGRiNjBkNTU5N2M1OGMwOCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2QyNjk3YWQxODdlNDk0NjlmNzMzZDBhMjdjZjJkYWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsIC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWYwMTUxNWJiMTFiNDg1YmFlMmNiYWY5OWM0NmE2ODEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmYzNmRiMTBkODU2NDkxZWExYzg3MWRkZGU4MWNhYTIgPSAkKGA8ZGl2IGlkPSJodG1sXzZmMzZkYjEwZDg1NjQ5MWVhMWM4NzFkZGRlODFjYWEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFpcmxlYSxHb2xkZW4gTWlsZSxPYWtyaWRnZSBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlmMDE1MTViYjExYjQ4NWJhZTJjYmFmOTljNDZhNjgxLnNldENvbnRlbnQoaHRtbF82ZjM2ZGIxMGQ4NTY0OTFlYTFjODcxZGRkZTgxY2FhMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZDI2OTdhZDE4N2U0OTQ2OWY3MzNkMGEyN2NmMmRhZC5iaW5kUG9wdXAocG9wdXBfOWYwMTUxNWJiMTFiNDg1YmFlMmNiYWY5OWM0NmE2ODEpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU4MmQ5MTU3YzU5NDRkODE4MTg5YWJlY2Q0NzZjOWU0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE2MzE2LCAtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MjM0YTZhZWYxNzc0NzVkYWVkYzgzNzA1MjFlZDI4ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZWFhMjM2MjJmOTI0NTRkYTZjNTk0OGU1OTZlMTk0ZiA9ICQoYDxkaXYgaWQ9Imh0bWxfNmVhYTIzNjIyZjkyNDU0ZGE2YzU5NDhlNTk2ZTE5NGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsaWZmY3Jlc3QsQ2xpZmZzaWRlLFNjYXJib3JvdWdoIFZpbGxhZ2UgV2VzdCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUyMzRhNmFlZjE3NzQ3NWRhZWRjODM3MDUyMWVkMjhlLnNldENvbnRlbnQoaHRtbF82ZWFhMjM2MjJmOTI0NTRkYTZjNTk0OGU1OTZlMTk0Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ODJkOTE1N2M1OTQ0ZDgxODE4OWFiZWNkNDc2YzllNC5iaW5kUG9wdXAocG9wdXBfNTIzNGE2YWVmMTc3NDc1ZGFlZGM4MzcwNTIxZWQyOGUpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEwNTEzOWFiMzU3NTQ2ZTZhZDRkM2RjM2IzNTBlYTA5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkyNjU3MDAwMDAwMDA0LCAtNzkuMjY0ODQ4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA2NDYxMGQxODY2ODQxZmQ4ZTQ2NGFiMzY1ZjE2ODZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZjYWJiMzBhMDQ2ZTRkYTg5Mzc0YzFiMDg5NGFiNzgzID0gJChgPGRpdiBpZD0iaHRtbF9mY2FiYjMwYTA0NmU0ZGE4OTM3NGMxYjA4OTRhYjc4MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsQ2xpZmZzaWRlIFdlc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNjQ2MTBkMTg2Njg0MWZkOGU0NjRhYjM2NWYxNjg2ZC5zZXRDb250ZW50KGh0bWxfZmNhYmIzMGEwNDZlNGRhODkzNzRjMWIwODk0YWI3ODMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTA1MTM5YWIzNTc1NDZlNmFkNGQzZGMzYjM1MGVhMDkuYmluZFBvcHVwKHBvcHVwXzA2NDYxMGQxODY2ODQxZmQ4ZTQ2NGFiMzY1ZjE2ODZkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lZDI4ZjRlNTI2NzY0Y2I2YjBkZmQ2ZmUzMTY4MDAxZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsIC03OS4yNzMzMDQwMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZiNGJmZjA2YzEyMjQ4YzBhZWZhM2RkNDYxZGY4ZjA4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk2ZTUzMDUxMWNhZjRlYmJiYzZhNDFjNGFkNThjODliID0gJChgPGRpdiBpZD0iaHRtbF85NmU1MzA1MTFjYWY0ZWJiYmM2YTQxYzRhZDU4Yzg5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yc2V0IFBhcmssU2NhcmJvcm91Z2ggVG93biBDZW50cmUsV2V4Zm9yZCBIZWlnaHRzIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmI0YmZmMDZjMTIyNDhjMGFlZmEzZGQ0NjFkZjhmMDguc2V0Q29udGVudChodG1sXzk2ZTUzMDUxMWNhZjRlYmJiYzZhNDFjNGFkNThjODliKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VkMjhmNGU1MjY3NjRjYjZiMGRmZDZmZTMxNjgwMDFmLmJpbmRQb3B1cChwb3B1cF82YjRiZmYwNmMxMjI0OGMwYWVmYTNkZDQ2MWRmOGYwOCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODM5MmZhNjEyMGY3NGY2ZTgwM2IxZTRjOWUxYTUyOTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTAwNzE1MDAwMDAwMDQsIC03OS4yOTU4NDkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWFiZThkZjAzNmQzNDk0OWJlY2I1Njk0ZGY4MzA5MTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDI3MzE4YmRjNWQ1NDA5Y2E5MWJjZDQ3NDU4OTU1YzIgPSAkKGA8ZGl2IGlkPSJodG1sXzQyNzMxOGJkYzVkNTQwOWNhOTFiY2Q0NzQ1ODk1NWMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXJ5dmFsZSxXZXhmb3JkIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWFiZThkZjAzNmQzNDk0OWJlY2I1Njk0ZGY4MzA5MTIuc2V0Q29udGVudChodG1sXzQyNzMxOGJkYzVkNTQwOWNhOTFiY2Q0NzQ1ODk1NWMyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgzOTJmYTYxMjBmNzRmNmU4MDNiMWU0YzllMWE1MjkwLmJpbmRQb3B1cChwb3B1cF85YWJlOGRmMDM2ZDM0OTQ5YmVjYjU2OTRkZjgzMDkxMikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTQ3N2ZmMzgxM2JjNDc2NDk2NDVhYWRjMzZkODkzMGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTQyMDAzLCAtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNDg5NWRhYTY1MWQ0YzE4ODgzYjU3NjZjNjg4OTBiZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MWE3MTVlYzk2MzU0OTNkYTk5OTkwODVmMDIyODY5ZCA9ICQoYDxkaXYgaWQ9Imh0bWxfNzFhNzE1ZWM5NjM1NDkzZGE5OTk5MDg1ZjAyMjg2OWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFnaW5jb3VydCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA0ODk1ZGFhNjUxZDRjMTg4ODNiNTc2NmM2ODg5MGJkLnNldENvbnRlbnQoaHRtbF83MWE3MTVlYzk2MzU0OTNkYTk5OTkwODVmMDIyODY5ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NDc3ZmYzODEzYmM0NzY0OTY0NWFhZGMzNmQ4OTMwZS5iaW5kUG9wdXAocG9wdXBfMDQ4OTVkYWE2NTFkNGMxODg4M2I1NzY2YzY4ODkwYmQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhjMzAwNGRjMTI1MjQ0ZDY5YmMxZTRhZDg4OTI4ZDUyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgxNjM3NSwgLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NWNhNjFmN2E3OTM0MzBjYTg2NGQ1NzQyZmZjZGJiMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iOWVjY2QyYzQ0ZTE0ZDdjYjYwNDQ2MzRiZDQ0YWRlNSA9ICQoYDxkaXYgaWQ9Imh0bWxfYjllY2NkMmM0NGUxNGQ3Y2I2MDQ0NjM0YmQ0NGFkZTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsYXJrcyBDb3JuZXJzLFN1bGxpdmFuLFRhbSBPJiMzOTtTaGFudGVyIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTVjYTYxZjdhNzkzNDMwY2E4NjRkNTc0MmZmY2RiYjMuc2V0Q29udGVudChodG1sX2I5ZWNjZDJjNDRlMTRkN2NiNjA0NDYzNGJkNDRhZGU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhjMzAwNGRjMTI1MjQ0ZDY5YmMxZTRhZDg4OTI4ZDUyLmJpbmRQb3B1cChwb3B1cF85NWNhNjFmN2E3OTM0MzBjYTg2NGQ1NzQyZmZjZGJiMykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODQzMjhmNzI3NDNkNGQyNWJiNmMwMmVhZGZiYmI0Y2IgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLCAtNzkuMjg0NTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc3ZDVkOGZhNmE3NjRlNTZiYWRmZDE5NDBjNGFlYzY4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg2YmI2ZTg5MDQyNTQ3NGQ5YWVmMDQyODZiNjkwOTQ2ID0gJChgPGRpdiBpZD0iaHRtbF84NmJiNmU4OTA0MjU0NzRkOWFlZjA0Mjg2YjY5MDk0NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWdpbmNvdXJ0IE5vcnRoLEwmIzM5O0Ftb3JlYXV4IEVhc3QsTWlsbGlrZW4sU3RlZWxlcyBFYXN0IENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzdkNWQ4ZmE2YTc2NGU1NmJhZGZkMTk0MGM0YWVjNjguc2V0Q29udGVudChodG1sXzg2YmI2ZTg5MDQyNTQ3NGQ5YWVmMDQyODZiNjkwOTQ2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg0MzI4ZjcyNzQzZDRkMjViYjZjMDJlYWRmYmJiNGNiLmJpbmRQb3B1cChwb3B1cF83N2Q1ZDhmYTZhNzY0ZTU2YmFkZmQxOTQwYzRhZWM2OCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTRiZTg3MjAzYTU2NGY3YmFkYjhhYWNjMzdmYjIyYWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTk1MjUyMDAwMDAwMDUsIC03OS4zMTgzODg3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGY4ZDljMWU0ZmY4NGM5Y2EwNjVhMDBmNzgzMjQ2MzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzMyNDQ2N2IzNzE1NDIwY2I0OTFlNzZkZWU4ODRjMjYgPSAkKGA8ZGl2IGlkPSJodG1sX2MzMjQ0NjdiMzcxNTQyMGNiNDkxZTc2ZGVlODg0YzI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MJiMzOTtBbW9yZWF1eCBXZXN0LFN0ZWVsZXMgV2VzdCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRmOGQ5YzFlNGZmODRjOWNhMDY1YTAwZjc4MzI0NjMwLnNldENvbnRlbnQoaHRtbF9jMzI0NDY3YjM3MTU0MjBjYjQ5MWU3NmRlZTg4NGMyNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNGJlODcyMDNhNTY0ZjdiYWRiOGFhY2MzN2ZiMjJhZS5iaW5kUG9wdXAocG9wdXBfNGY4ZDljMWU0ZmY4NGM5Y2EwNjVhMDBmNzgzMjQ2MzApCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VlZGVkNGJiYjhlZjRiMmM5NDYyZGE4OTM0MTFjMTlhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODAzNzYyMiwgLTc5LjM2MzQ1MTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NGFjNzg1ODZkMmU0YjdiODJjN2VhMWE2MTYzMmY3OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNjFmZDZiNzU2Nzc0YTM1YjJlYjY2ZWRiMmYxMmQ2ZSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDYxZmQ2Yjc1Njc3NGEzNWIyZWI2NmVkYjJmMTJkNmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpbGxjcmVzdCBWaWxsYWdlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODRhYzc4NTg2ZDJlNGI3YjgyYzdlYTFhNjE2MzJmNzkuc2V0Q29udGVudChodG1sX2Q2MWZkNmI3NTY3NzRhMzViMmViNjZlZGIyZjEyZDZlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VlZGVkNGJiYjhlZjRiMmM5NDYyZGE4OTM0MTFjMTlhLmJpbmRQb3B1cChwb3B1cF84NGFjNzg1ODZkMmU0YjdiODJjN2VhMWE2MTYzMmY3OSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDI1ODJiNTNkOGU1NDg2ZmJmZmI3YWVhMmQ0Y2I3N2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Nzg1MTc1LCAtNzkuMzQ2NTU1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU4MDJhMDRmMDRjMzQxMmZhNjQwNGI1ZWYyMTg0M2JmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU0OGYwOTBmODUzMjQ0OWJiZGI0YzMwNWI3YmM4NDI4ID0gJChgPGRpdiBpZD0iaHRtbF81NDhmMDkwZjg1MzI0NDliYmRiNGMzMDViN2JjODQyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFpcnZpZXcsSGVucnkgRmFybSxPcmlvbGUgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ODAyYTA0ZjA0YzM0MTJmYTY0MDRiNWVmMjE4NDNiZi5zZXRDb250ZW50KGh0bWxfNTQ4ZjA5MGY4NTMyNDQ5YmJkYjRjMzA1YjdiYzg0MjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDI1ODJiNTNkOGU1NDg2ZmJmZmI3YWVhMmQ0Y2I3N2UuYmluZFBvcHVwKHBvcHVwXzU4MDJhMDRmMDRjMzQxMmZhNjQwNGI1ZWYyMTg0M2JmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xOGMyNzA0ZmE3MTc0OGQ0YTgyNGQxZDFiYmY2YWUyMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsIC03OS4zODU5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yM2VkNDhjZmQxZjU0ODdlYWIxZWVhOGIxZWFmY2M3YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYThlODJkMjlhZGE0YTVmYWViZWE2Nzc5ZGJmZDQ5NSA9ICQoYDxkaXYgaWQ9Imh0bWxfMmE4ZTgyZDI5YWRhNGE1ZmFlYmVhNjc3OWRiZmQ0OTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIzZWQ0OGNmZDFmNTQ4N2VhYjFlZWE4YjFlYWZjYzdiLnNldENvbnRlbnQoaHRtbF8yYThlODJkMjlhZGE0YTVmYWViZWE2Nzc5ZGJmZDQ5NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xOGMyNzA0ZmE3MTc0OGQ0YTgyNGQxZDFiYmY2YWUyMy5iaW5kUG9wdXAocG9wdXBfMjNlZDQ4Y2ZkMWY1NDg3ZWFiMWVlYThiMWVhZmNjN2IpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVjNGJiMGUxNzA4NjRjNzhhNWFmNjQ5YmNkNWQ0YjgyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwgLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWEwNWQ0OTMwNTQwNDJhYzhkNTI4NGQ3Y2U2NDdmNmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjAzODhhY2FmMzM2NDJkZmIyNzZiMDNhZWQyODI5YTkgPSAkKGA8ZGl2IGlkPSJodG1sXzIwMzg4YWNhZjMzNjQyZGZiMjc2YjAzYWVkMjgyOWE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlIFNvdXRoIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWEwNWQ0OTMwNTQwNDJhYzhkNTI4NGQ3Y2U2NDdmNmQuc2V0Q29udGVudChodG1sXzIwMzg4YWNhZjMzNjQyZGZiMjc2YjAzYWVkMjgyOWE5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVjNGJiMGUxNzA4NjRjNzhhNWFmNjQ5YmNkNWQ0YjgyLmJpbmRQb3B1cChwb3B1cF9lYTA1ZDQ5MzA1NDA0MmFjOGQ1Mjg0ZDdjZTY0N2Y2ZCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWE4MWM3N2UzZjQzNGIyMmFhMWU3NDQ3MWQxZWM0NTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTI3NTgyOTk5OTk5OTYsIC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWVjM2M5ZjJkNGI5NDNjNGFhZTUwZmI5OWRlODE5MTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDQwYTVmM2NjZmM5NGJlYTllYzgxMTIwOWJlOTA4ZWQgPSAkKGA8ZGl2IGlkPSJodG1sXzA0MGE1ZjNjY2ZjOTRiZWE5ZWM4MTEyMDliZTkwOGVkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QgQ2x1c3RlciA0PC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZWMzYzlmMmQ0Yjk0M2M0YWFlNTBmYjk5ZGU4MTkxNi5zZXRDb250ZW50KGh0bWxfMDQwYTVmM2NjZmM5NGJlYTllYzgxMTIwOWJlOTA4ZWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWE4MWM3N2UzZjQzNGIyMmFhMWU3NDQ3MWQxZWM0NTMuYmluZFBvcHVwKHBvcHVwXzVlYzNjOWYyZDRiOTQzYzRhYWU1MGZiOTlkZTgxOTE2KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mNDViZDgzMzBkMzI0MjBhYmY0N2EyZTA4ZGE4ZDkwMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MjczNjQsIC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTgwMWMyYjA5YzU2NDY5ZmFiZjdkYzVhMTM3ZWFhZjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTJhYTdiOGU2MTAxNGQ3YTg2ZDM4OWE3NDUzZTQyMjcgPSAkKGA8ZGl2IGlkPSJodG1sXzkyYWE3YjhlNjEwMTRkN2E4NmQzODlhNzQ1M2U0MjI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlIFdlc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ODAxYzJiMDljNTY0NjlmYWJmN2RjNWExMzdlYWFmMy5zZXRDb250ZW50KGh0bWxfOTJhYTdiOGU2MTAxNGQ3YTg2ZDM4OWE3NDUzZTQyMjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjQ1YmQ4MzMwZDMyNDIwYWJmNDdhMmUwOGRhOGQ5MDIuYmluZFBvcHVwKHBvcHVwXzk4MDFjMmIwOWM1NjQ2OWZhYmY3ZGM1YTEzN2VhYWYzKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZDU5YjIyZGM5MGY0M2YxYjAxYmZkMjQ2NjNlYmY4ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MzI1ODYsIC03OS4zMjk2NTY1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWRhNWQ5MDZkNDcxNDgwNTllMDExNWY2Nzk4NzJmNzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTRiOTM1ZTc5Y2IzNDM2N2IzNzg0ODU5Mjg2YzkyOWEgPSAkKGA8ZGl2IGlkPSJodG1sXzE0YjkzNWU3OWNiMzQzNjdiMzc4NDg1OTI4NmM5MjlhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrd29vZHMgQ2x1c3RlciA0PC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZGE1ZDkwNmQ0NzE0ODA1OWUwMTE1ZjY3OTg3MmY3OC5zZXRDb250ZW50KGh0bWxfMTRiOTM1ZTc5Y2IzNDM2N2IzNzg0ODU5Mjg2YzkyOWEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGQ1OWIyMmRjOTBmNDNmMWIwMWJmZDI0NjYzZWJmOGQuYmluZFBvcHVwKHBvcHVwXzFkYTVkOTA2ZDQ3MTQ4MDU5ZTAxMTVmNjc5ODcyZjc4KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOGNjMjIxNzA5OWQ0ZmYyOWM1YTliMWMzZmVhMDFjZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NTkwNTc5OTk5OTk5NiwgLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI4OTYxMDA0MTRiMjQxNTI5NmYyYzhmNDQyMWY2OGNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E0OTU3NGRmNWFlNDRlNDBiNzUxZTEyNzUxNjUzN2QwID0gJChgPGRpdiBpZD0iaHRtbF9hNDk1NzRkZjVhZTQ0ZTQwYjc1MWUxMjc1MTY1MzdkMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzIE5vcnRoIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjg5NjEwMDQxNGIyNDE1Mjk2ZjJjOGY0NDIxZjY4Y2Yuc2V0Q29udGVudChodG1sX2E0OTU3NGRmNWFlNDRlNDBiNzUxZTEyNzUxNjUzN2QwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U4Y2MyMjE3MDk5ZDRmZjI5YzVhOWIxYzNmZWEwMWNkLmJpbmRQb3B1cChwb3B1cF8yODk2MTAwNDE0YjI0MTUyOTZmMmM4ZjQ0MjFmNjhjZikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzhiYjRiNmZmZGY4NDk3NTllOTU5NzRiMTNiNmE5YWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4OTk3MDAwMDAwMSwgLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0NjRmNmFkNmI3MjQ3YWU5MzZjNjNlZTM4MTkzYWI2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE0NGRkOTBkNjllNDRjMDQ4NmM0MzA3YTk0OTlmNzJiID0gJChgPGRpdiBpZD0iaHRtbF8xNDRkZDkwZDY5ZTQ0YzA0ODZjNDMwN2E5NDk5ZjcyYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmxlbWluZ2RvbiBQYXJrLERvbiBNaWxscyBTb3V0aCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M0NjRmNmFkNmI3MjQ3YWU5MzZjNjNlZTM4MTkzYWI2LnNldENvbnRlbnQoaHRtbF8xNDRkZDkwZDY5ZTQ0YzA0ODZjNDMwN2E5NDk5ZjcyYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83OGJiNGI2ZmZkZjg0OTc1OWU5NTk3NGIxM2I2YTlhZi5iaW5kUG9wdXAocG9wdXBfYzQ2NGY2YWQ2YjcyNDdhZTkzNmM2M2VlMzgxOTNhYjYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBjNDE1YmZhODUyOTQ0YjQ5NDlmNjI2MDViMWZhYzc0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU0MzI4MywgLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZDFjOTMwZjExNmU0OGE5OWM4ZjE3YTE2YWI2MmE0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZGM0OGEzYTE4NzQ0MjJhYTlhYzQ4YjNlNTg1NTU4YyA9ICQoYDxkaXYgaWQ9Imh0bWxfYmRjNDhhM2ExODc0NDIyYWE5YWM0OGIzZTU4NTU1OGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhdGh1cnN0IE1hbm9yLERvd25zdmlldyBOb3J0aCxXaWxzb24gSGVpZ2h0cyBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkMWM5MzBmMTE2ZTQ4YTk5YzhmMTdhMTZhYjYyYTQzLnNldENvbnRlbnQoaHRtbF9iZGM0OGEzYTE4NzQ0MjJhYTlhYzQ4YjNlNTg1NTU4Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wYzQxNWJmYTg1Mjk0NGI0OTQ5ZjYyNjA1YjFmYWM3NC5iaW5kUG9wdXAocG9wdXBfNmQxYzkzMGYxMTZlNDhhOTljOGYxN2ExNmFiNjJhNDMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYxYTYxNjcxZjJiZDQ4NzNiM2JkOTBkNTAyMDljNWM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzY3OTgwMywgLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDQyMGZhM2IwMzQxNGI0ZDhiNmFlMWU0MjQzMjRjNzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzFiYTE2N2JlYWRiNDI1Y2JjMjI1ZDg4MWYzMzE1NWMgPSAkKGA8ZGl2IGlkPSJodG1sXzcxYmExNjdiZWFkYjQyNWNiYzIyNWQ4ODFmMzMxNTVjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyayxZb3JrIFVuaXZlcnNpdHkgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NDIwZmEzYjAzNDE0YjRkOGI2YWUxZTQyNDMyNGM3MS5zZXRDb250ZW50KGh0bWxfNzFiYTE2N2JlYWRiNDI1Y2JjMjI1ZDg4MWYzMzE1NWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjFhNjE2NzFmMmJkNDg3M2IzYmQ5MGQ1MDIwOWM1YzcuYmluZFBvcHVwKHBvcHVwXzQ0MjBmYTNiMDM0MTRiNGQ4YjZhZTFlNDI0MzI0YzcxKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84N2MwMGJhMTQ2Mzc0MWRlYWYzYjFhNGMwOGQ5MTcwYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzQ3MzIwMDAwMDAwNCwgLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTRhMWY1MDAyYTcyNDM5ZmI5NzI2MmZiOTQ1YTNjNjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmViZWJmOGMwYzkyNDE3OGE5MjQ0MTdmNWUzMDQ3MDggPSAkKGA8ZGl2IGlkPSJodG1sXzZlYmViZjhjMGM5MjQxNzhhOTI0NDE3ZjVlMzA0NzA4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DRkIgVG9yb250byxEb3duc3ZpZXcgRWFzdCBDbHVzdGVyIDQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk0YTFmNTAwMmE3MjQzOWZiOTcyNjJmYjk0NWEzYzY3LnNldENvbnRlbnQoaHRtbF82ZWJlYmY4YzBjOTI0MTc4YTkyNDQxN2Y1ZTMwNDcwOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84N2MwMGJhMTQ2Mzc0MWRlYWYzYjFhNGMwOGQ5MTcwYS5iaW5kUG9wdXAocG9wdXBfOTRhMWY1MDAyYTcyNDM5ZmI5NzI2MmZiOTQ1YTNjNjcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM1OGFhNzFhOGI3ZDQ2M2ViODdlMDJhYjQ0ZjdiMGIzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwgLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZTVmYzRiZWRlMDk0MmEyYWFmMTUzMjc3ZDhlNDZjOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85OGQ3ZTA4NDI1NGE0ODExOGI2NGY3Nzc5MjhlZTc0YSA9ICQoYDxkaXYgaWQ9Imh0bWxfOThkN2UwODQyNTRhNDgxMThiNjRmNzc3OTI4ZWU3NGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBXZXN0IENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2U1ZmM0YmVkZTA5NDJhMmFhZjE1MzI3N2Q4ZTQ2Yzguc2V0Q29udGVudChodG1sXzk4ZDdlMDg0MjU0YTQ4MTE4YjY0Zjc3NzkyOGVlNzRhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM1OGFhNzFhOGI3ZDQ2M2ViODdlMDJhYjQ0ZjdiMGIzLmJpbmRQb3B1cChwb3B1cF9jZTVmYzRiZWRlMDk0MmEyYWFmMTUzMjc3ZDhlNDZjOCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGMwYTg3YjU3ZTdlNGJhZjgzN2YzMDZlYWYxNWYzNTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjg0OTY0LCAtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80Y2JhYWVjNjBjYWY0Y2RlOWJiYTMxZDJjMjg1NWY2MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNGE2MmU5MDQyNTQ0MDYwODViNjhkNTM3YTRlZjQ4NiA9ICQoYDxkaXYgaWQ9Imh0bWxfZjRhNjJlOTA0MjU0NDA2MDg1YjY4ZDUzN2E0ZWY0ODYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDZW50cmFsIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGNiYWFlYzYwY2FmNGNkZTliYmEzMWQyYzI4NTVmNjMuc2V0Q29udGVudChodG1sX2Y0YTYyZTkwNDI1NDQwNjA4NWI2OGQ1MzdhNGVmNDg2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBjMGE4N2I1N2U3ZTRiYWY4MzdmMzA2ZWFmMTVmMzUwLmJpbmRQb3B1cChwb3B1cF80Y2JhYWVjNjBjYWY0Y2RlOWJiYTMxZDJjMjg1NWY2MykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjJjZmIxZmQ4YjQxNDkwYWI1MWVhMGY3YjM5YTE2NDAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjE2MzEzLCAtNzkuNTIwOTk5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lOTZmNDUzMzQ1NzA0NWU0YThiYzFlODE5ODA2NmJjZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZTQ3OWFhZjkwNWQ0MzM5ODBhY2NlYjZjOTcyZGNhMCA9ICQoYDxkaXYgaWQ9Imh0bWxfMmU0NzlhYWY5MDVkNDMzOTgwYWNjZWI2Yzk3MmRjYTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBOb3J0aHdlc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lOTZmNDUzMzQ1NzA0NWU0YThiYzFlODE5ODA2NmJjZi5zZXRDb250ZW50KGh0bWxfMmU0NzlhYWY5MDVkNDMzOTgwYWNjZWI2Yzk3MmRjYTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjJjZmIxZmQ4YjQxNDkwYWI1MWVhMGY3YjM5YTE2NDAuYmluZFBvcHVwKHBvcHVwX2U5NmY0NTMzNDU3MDQ1ZTRhOGJjMWU4MTk4MDY2YmNmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MzFkYjY5NjY0MGQ0NWU4YmE1MTg2ZGJhM2Y4NzZhYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg4MjI5OTk5OTk5NSwgLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2E2MTRkOTg5Y2M0NDRmNzg5NWU5NWQ5OWMxYWE5MDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzEwZjhjMGI0OGQ1NDkzNmJmYWNlMTQyNzg5MWQ1ODYgPSAkKGA8ZGl2IGlkPSJodG1sX2MxMGY4YzBiNDhkNTQ5MzZiZmFjZTE0Mjc4OTFkNTg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2E2MTRkOTg5Y2M0NDRmNzg5NWU5NWQ5OWMxYWE5MDIuc2V0Q29udGVudChodG1sX2MxMGY4YzBiNDhkNTQ5MzZiZmFjZTE0Mjc4OTFkNTg2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkzMWRiNjk2NjQwZDQ1ZThiYTUxODZkYmEzZjg3NmFhLmJpbmRQb3B1cChwb3B1cF9jYTYxNGQ5ODljYzQ0NGY3ODk1ZTk1ZDk5YzFhYTkwMikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjliMTllMTA4NjYwNGI1ZGI1ZjkyMDEzMDcwYzQzMjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDYzOTcyLCAtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTJmZmViYWE1ZTkxNDNhZDk0ZGFhMDVkYjYzODY0ZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmRlNjdlZTM0NmE4NDY3MGI1M2IzZjBmOWYxM2RkNGUgPSAkKGA8ZGl2IGlkPSJodG1sXzZkZTY3ZWUzNDZhODQ2NzBiNTNiM2YwZjlmMTNkZDRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBHYXJkZW5zLFBhcmt2aWV3IEhpbGwgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MmZmZWJhYTVlOTE0M2FkOTRkYWEwNWRiNjM4NjRmMC5zZXRDb250ZW50KGh0bWxfNmRlNjdlZTM0NmE4NDY3MGI1M2IzZjBmOWYxM2RkNGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjliMTllMTA4NjYwNGI1ZGI1ZjkyMDEzMDcwYzQzMjIuYmluZFBvcHVwKHBvcHVwXzkyZmZlYmFhNWU5MTQzYWQ5NGRhYTA1ZGI2Mzg2NGYwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMmZlYjExZDhhNzM0MGJiOWRiNjVlYjQ0ZTVhNjViYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NTM0MzkwMDAwMDAwNSwgLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yN2I0YzI3ODc4NGU0NDUxYWE4MTZmMjEzNWNhYTI4OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZDNlNDc5NjczZGY0YjY2OWQ2N2IzMGE2OTFjMzU4ZSA9ICQoYDxkaXYgaWQ9Imh0bWxfMWQzZTQ3OTY3M2RmNGI2NjlkNjdiMzBhNjkxYzM1OGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEhlaWdodHMgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yN2I0YzI3ODc4NGU0NDUxYWE4MTZmMjEzNWNhYTI4OS5zZXRDb250ZW50KGh0bWxfMWQzZTQ3OTY3M2RmNGI2NjlkNjdiMzBhNjkxYzM1OGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjJmZWIxMWQ4YTczNDBiYjlkYjY1ZWI0NGU1YTY1YmIuYmluZFBvcHVwKHBvcHVwXzI3YjRjMjc4Nzg0ZTQ0NTFhYTgxNmYyMTM1Y2FhMjg5KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mNmVhMTQ3NzFhOTk0OTg1ODA1NTFkMDI2ZDIzZDhiOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3NjM1NzM5OTk5OTk5LCAtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc3Y2VkYmY5NmEwMTRiZWNiZTAzMDVjM2U5NTk2NTgyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IyNDEwMGJiZTZlNDRiOGI4MDRmZTQ1YjIyY2Q4ZWEyID0gJChgPGRpdiBpZD0iaHRtbF9iMjQxMDBiYmU2ZTQ0YjhiODA0ZmU0NWIyMmNkOGVhMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEJlYWNoZXMgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83N2NlZGJmOTZhMDE0YmVjYmUwMzA1YzNlOTU5NjU4Mi5zZXRDb250ZW50KGh0bWxfYjI0MTAwYmJlNmU0NGI4YjgwNGZlNDViMjJjZDhlYTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjZlYTE0NzcxYTk5NDk4NTgwNTUxZDAyNmQyM2Q4YjkuYmluZFBvcHVwKHBvcHVwXzc3Y2VkYmY5NmEwMTRiZWNiZTAzMDVjM2U5NTk2NTgyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZGY0MGJmZjU5NmY0ZTQ4YTI2OGY3MWUxOGQ0ZjEwOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTA2MDQsIC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjk1NjI4YzRjMmMwNDc3M2FmZTFmNWJjZmViZTE0MjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjcxOTY4YTE3ZDU1NDYwMjkyNjI4OGJhZTlkNGI1NzYgPSAkKGA8ZGl2IGlkPSJodG1sXzI3MTk2OGExN2Q1NTQ2MDI5MjYyODhiYWU5ZDRiNTc2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MZWFzaWRlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjk1NjI4YzRjMmMwNDc3M2FmZTFmNWJjZmViZTE0MjQuc2V0Q29udGVudChodG1sXzI3MTk2OGExN2Q1NTQ2MDI5MjYyODhiYWU5ZDRiNTc2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhkZjQwYmZmNTk2ZjRlNDhhMjY4ZjcxZTE4ZDRmMTA4LmJpbmRQb3B1cChwb3B1cF9iOTU2MjhjNGMyYzA0NzczYWZlMWY1YmNmZWJlMTQyNCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDJiMzdmMzNhMThlNDczMDllOGY4ODE5YmU3NzY5N2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LCAtNzkuMzQ5MzcxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYjRkNmRkYjllMDM0ZDBlOTgwNzcxOWE5MjcyYzRhMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYTgzNjI0Mzk4NWM0MGU3OGEyNTYzN2QyMDdmMThlNyA9ICQoYDxkaXYgaWQ9Imh0bWxfY2E4MzYyNDM5ODVjNDBlNzhhMjU2MzdkMjA3ZjE4ZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRob3JuY2xpZmZlIFBhcmsgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYjRkNmRkYjllMDM0ZDBlOTgwNzcxOWE5MjcyYzRhMy5zZXRDb250ZW50KGh0bWxfY2E4MzYyNDM5ODVjNDBlNzhhMjU2MzdkMjA3ZjE4ZTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDJiMzdmMzNhMThlNDczMDllOGY4ODE5YmU3NzY5N2UuYmluZFBvcHVwKHBvcHVwX2FiNGQ2ZGRiOWUwMzRkMGU5ODA3NzE5YTkyNzJjNGEzKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNWU2NWQyNDAyOTE0YmNkOWNhYzVjZjMwNGU5OWI3OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NTM0NywgLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYjE3YzRlNzE1Mjg0YTk2YjYwOGM3ZmFkOTY3OGIzNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzg2YzE4OTkxNjk0NzY3YjdjZGRjNjgwZGYzZTYzMCA9ICQoYDxkaXYgaWQ9Imh0bWxfZTM4NmMxODk5MTY5NDc2N2I3Y2RkYzY4MGRmM2U2MzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgVG9yb250byBDbHVzdGVyIDQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiMTdjNGU3MTUyODRhOTZiNjA4YzdmYWQ5Njc4YjM3LnNldENvbnRlbnQoaHRtbF9lMzg2YzE4OTkxNjk0NzY3YjdjZGRjNjgwZGYzZTYzMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNWU2NWQyNDAyOTE0YmNkOWNhYzVjZjMwNGU5OWI3OC5iaW5kUG9wdXAocG9wdXBfM2IxN2M0ZTcxNTI4NGE5NmI2MDhjN2ZhZDk2NzhiMzcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VmN2NmMzg3NWU5YTQ5YzE5MzIwMmI4NjliNDE4NmYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc5NTU3MSwgLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJiNTNkZGVmMzBhNTQwOGY4MTI3MGVmMWM1ZWE1ZmViID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU0MjIxOWZlYjc3ODRjYmQ5Y2JhNmE0NmE5YmU4OGMxID0gJChgPGRpdiBpZD0iaHRtbF81NDIyMTlmZWI3Nzg0Y2JkOWNiYTZhNDZhOWJlODhjMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIERhbmZvcnRoIFdlc3QsUml2ZXJkYWxlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmI1M2RkZWYzMGE1NDA4ZjgxMjcwZWYxYzVlYTVmZWIuc2V0Q29udGVudChodG1sXzU0MjIxOWZlYjc3ODRjYmQ5Y2JhNmE0NmE5YmU4OGMxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VmN2NmMzg3NWU5YTQ5YzE5MzIwMmI4NjliNDE4NmYxLmJpbmRQb3B1cChwb3B1cF8yYjUzZGRlZjMwYTU0MDhmODEyNzBlZjFjNWVhNWZlYikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWIxMmFiYjYwMTkzNGQzZWJiZjdhYjQwNTc3ZWU0NzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njg5OTg1LCAtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYjIyMDNkZTEyYWE0YTI5ODc3ZDA0MGFkYWNmZWEwNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80ZjIyMDYxOGViN2E0ZDI2OTg0NzIzNTQ0NGQ1OWY0MiA9ICQoYDxkaXYgaWQ9Imh0bWxfNGYyMjA2MThlYjdhNGQyNjk4NDcyMzU0NDRkNTlmNDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzIFdlc3QsSW5kaWEgQmF6YWFyIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWIyMjAzZGUxMmFhNGEyOTg3N2QwNDBhZGFjZmVhMDUuc2V0Q29udGVudChodG1sXzRmMjIwNjE4ZWI3YTRkMjY5ODQ3MjM1NDQ0ZDU5ZjQyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzViMTJhYmI2MDE5MzRkM2ViYmY3YWI0MDU3N2VlNDcyLmJpbmRQb3B1cChwb3B1cF8xYjIyMDNkZTEyYWE0YTI5ODc3ZDA0MGFkYWNmZWEwNSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTUyYjBlZGIzOTFhNDZmNzhiODA2OGE2M2Q1ODk1MTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LCAtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWFlNjVlY2U3YWNjNDRiNGJhNjY3YzcxMzkwYWEzOWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzgxZTFmMjcwZjE1NGYxNGIxMzVjN2E1Y2M0ZTIyYWUgPSAkKGA8ZGl2IGlkPSJodG1sXzM4MWUxZjI3MGYxNTRmMTRiMTM1YzdhNWNjNGUyMmFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdHVkaW8gRGlzdHJpY3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85YWU2NWVjZTdhY2M0NGI0YmE2NjdjNzEzOTBhYTM5ZS5zZXRDb250ZW50KGh0bWxfMzgxZTFmMjcwZjE1NGYxNGIxMzVjN2E1Y2M0ZTIyYWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTUyYjBlZGIzOTFhNDZmNzhiODA2OGE2M2Q1ODk1MTcuYmluZFBvcHVwKHBvcHVwXzlhZTY1ZWNlN2FjYzQ0YjRiYTY2N2M3MTM5MGFhMzllKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMGNjZjAzNDVjNzE0M2NhYTJhYzdiODQ5NzQ3MjYyOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODAyMDUsIC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTZkZjdjZTY2NDBkNDY3MmE4OTJhZDdlNjkzM2ZhNjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTcwM2U4ZDg5ZTBiNGEwOWIwOWRmZTI1ZGZlODNiZTQgPSAkKGA8ZGl2IGlkPSJodG1sXzk3MDNlOGQ4OWUwYjRhMDliMDlkZmUyNWRmZTgzYmU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBQYXJrIENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTZkZjdjZTY2NDBkNDY3MmE4OTJhZDdlNjkzM2ZhNjUuc2V0Q29udGVudChodG1sXzk3MDNlOGQ4OWUwYjRhMDliMDlkZmUyNWRmZTgzYmU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2IwY2NmMDM0NWM3MTQzY2FhMmFjN2I4NDk3NDcyNjI4LmJpbmRQb3B1cChwb3B1cF81NmRmN2NlNjY0MGQ0NjcyYTg5MmFkN2U2OTMzZmE2NSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDllOTRlZmM1NTJiNDljNjlmNzBiYzQzZWQ5MjYzOGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTI3NTExLCAtNzkuMzkwMTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI4MWE1ZDJjOWI0YTQ5Mjg4OTU0ZDY0ZDRlMzg5OWQ2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhNGRiODQ5YWQ5NzRhODFhY2EzZTNiOTFjNDVmNzVlID0gJChgPGRpdiBpZD0iaHRtbF8zYTRkYjg0OWFkOTc0YTgxYWNhM2UzYjkxYzQ1Zjc1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSBOb3J0aCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI4MWE1ZDJjOWI0YTQ5Mjg4OTU0ZDY0ZDRlMzg5OWQ2LnNldENvbnRlbnQoaHRtbF8zYTRkYjg0OWFkOTc0YTgxYWNhM2UzYjkxYzQ1Zjc1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wOWU5NGVmYzU1MmI0OWM2OWY3MGJjNDNlZDkyNjM4ZC5iaW5kUG9wdXAocG9wdXBfMjgxYTVkMmM5YjRhNDkyODg5NTRkNjRkNGUzODk5ZDYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU5OGIzNDExYmNlZDQzN2U5Nzc1NmFmNmY3OGIzOGI2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwgLTc5LjQwNTY3ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWRlMDFhMjRhZTg3NDRkYTgwMzcyNzUzYzg1ZTgxOGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjdlNjY5ODIwYWVjNGUxNzlmZGZkNmViM2I2ZDM4Y2YgPSAkKGA8ZGl2IGlkPSJodG1sX2Y3ZTY2OTgyMGFlYzRlMTc5ZmRmZDZlYjNiNmQzOGNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZGUwMWEyNGFlODc0NGRhODAzNzI3NTNjODVlODE4Zi5zZXRDb250ZW50KGh0bWxfZjdlNjY5ODIwYWVjNGUxNzlmZGZkNmViM2I2ZDM4Y2YpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTk4YjM0MTFiY2VkNDM3ZTk3NzU2YWY2Zjc4YjM4YjYuYmluZFBvcHVwKHBvcHVwX2FkZTAxYTI0YWU4NzQ0ZGE4MDM3Mjc1M2M4NWU4MThmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMGE0NWIyMjJkMGQ0OTUzYWU1MjJjODUwZmRjNjFmZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNDMyNDQsIC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDY5NWQ3YjUyYThmNDAyYTg4MDNhNmU1ZGE2ODE3OTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmQ3ZTNiNWVjMTgxNDU5NGI1NzRlN2IzZDMyM2FjYjcgPSAkKGA8ZGl2IGlkPSJodG1sX2JkN2UzYjVlYzE4MTQ1OTRiNTc0ZTdiM2QzMjNhY2I3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDY5NWQ3YjUyYThmNDAyYTg4MDNhNmU1ZGE2ODE3OTkuc2V0Q29udGVudChodG1sX2JkN2UzYjVlYzE4MTQ1OTRiNTc0ZTdiM2QzMjNhY2I3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YwYTQ1YjIyMmQwZDQ5NTNhZTUyMmM4NTBmZGM2MWZkLmJpbmRQb3B1cChwb3B1cF9kNjk1ZDdiNTJhOGY0MDJhODgwM2E2ZTVkYTY4MTc5OSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmIyNmZlY2YwZjQ2NGY1YWE4M2JkMTZjYjRiNzM3NWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk1NzQzLCAtNzkuMzgzMTU5OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYzNhMDE5MjU2ZjA0NTdmYTkwMDY0NDY4Njk4M2NmNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMmVlODg3ODZlNjA0MjdlYTVjNzg3NzViMzM4MDkyNSA9ICQoYDxkaXYgaWQ9Imh0bWxfMDJlZTg4Nzg2ZTYwNDI3ZWE1Yzc4Nzc1YjMzODA5MjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1vb3JlIFBhcmssU3VtbWVyaGlsbCBFYXN0IENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWMzYTAxOTI1NmYwNDU3ZmE5MDA2NDQ2ODY5ODNjZjcuc2V0Q29udGVudChodG1sXzAyZWU4ODc4NmU2MDQyN2VhNWM3ODc3NWIzMzgwOTI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJiMjZmZWNmMGY0NjRmNWFhODNiZDE2Y2I0YjczNzVmLmJpbmRQb3B1cChwb3B1cF8xYzNhMDE5MjU2ZjA0NTdmYTkwMDY0NDY4Njk4M2NmNykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDI4ZGRmYzZmNjY1NDVhOWEwNjNiNGY5N2QwYmMwMWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODY0MTIyOTk5OTk5OSwgLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNDNhNzY5YmVmM2Q0NTIxYTVmMWQ0MDg4ODI4ZjQ5OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNTIwNWEwYzcyMmQ0Y2JiODQ5ZGFiYzExNWE3Y2Y2MCA9ICQoYDxkaXYgaWQ9Imh0bWxfZTUyMDVhMGM3MjJkNGNiYjg0OWRhYmMxMTVhN2NmNjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlZXIgUGFyayxGb3Jlc3QgSGlsbCBTRSxSYXRobmVsbHksU291dGggSGlsbCxTdW1tZXJoaWxsIFdlc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNDNhNzY5YmVmM2Q0NTIxYTVmMWQ0MDg4ODI4ZjQ5OS5zZXRDb250ZW50KGh0bWxfZTUyMDVhMGM3MjJkNGNiYjg0OWRhYmMxMTVhN2NmNjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDI4ZGRmYzZmNjY1NDVhOWEwNjNiNGY5N2QwYmMwMWMuYmluZFBvcHVwKHBvcHVwX2I0M2E3NjliZWYzZDQ1MjFhNWYxZDQwODg4MjhmNDk5KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NTg0MjBmYzdhYzg0MmQxODdjYmMzNzcyNjA1MWJkYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsIC03OS4zNzc1Mjk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJkODU4NWNhYjI5MTQwNjQ5YTk2MmY5ODBhZmEzMmUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY0MTZkYjRjZDc0YjQ2YTFiMTgzM2JlZWIwNWZmMmMxID0gJChgPGRpdiBpZD0iaHRtbF82NDE2ZGI0Y2Q3NGI0NmExYjE4MzNiZWViMDVmZjJjMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWRhbGUgQ2x1c3RlciA0PC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yZDg1ODVjYWIyOTE0MDY0OWE5NjJmOTgwYWZhMzJlMi5zZXRDb250ZW50KGh0bWxfNjQxNmRiNGNkNzRiNDZhMWIxODMzYmVlYjA1ZmYyYzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTU4NDIwZmM3YWM4NDJkMTg3Y2JjMzc3MjYwNTFiZGEuYmluZFBvcHVwKHBvcHVwXzJkODU4NWNhYjI5MTQwNjQ5YTk2MmY5ODBhZmEzMmUyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83YWMwOWI5ODAzMTQ0MjdkODMwYWJkZjQ2M2U3OTRhZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Nzk2NywgLTc5LjM2NzY3NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kNmYyYzAyYjhjNmU0MmUyOTA5MTllNTJjYWZhNDUwNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMTA1M2VhMTU5OTM0YzUwYTEzYjNkYWJlMDhlZTg2YyA9ICQoYDxkaXYgaWQ9Imh0bWxfZDEwNTNlYTE1OTkzNGM1MGExM2IzZGFiZTA4ZWU4NmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhYmJhZ2V0b3duLFN0LiBKYW1lcyBUb3duIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDZmMmMwMmI4YzZlNDJlMjkwOTE5ZTUyY2FmYTQ1MDYuc2V0Q29udGVudChodG1sX2QxMDUzZWExNTk5MzRjNTBhMTNiM2RhYmUwOGVlODZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdhYzA5Yjk4MDMxNDQyN2Q4MzBhYmRmNDYzZTc5NGFkLmJpbmRQb3B1cChwb3B1cF9kNmYyYzAyYjhjNmU0MmUyOTA5MTllNTJjYWZhNDUwNikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmI2NjYxNzI4Yzc2NDFhZjkyZTcxMGIzZWMyNDA2MWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU4NTk5LCAtNzkuMzgzMTU5OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83MjNmZjNiNzIzMDM0M2NlYjk2YmRhMzdkODJiMjYxMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMjg2Y2UyODBjNDM0YmJiYTQ3NTFmZjdkYjViNDMyZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMjI4NmNlMjgwYzQzNGJiYmE0NzUxZmY3ZGI1YjQzMmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5IENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzIzZmYzYjcyMzAzNDNjZWI5NmJkYTM3ZDgyYjI2MTEuc2V0Q29udGVudChodG1sXzIyODZjZTI4MGM0MzRiYmJhNDc1MWZmN2RiNWI0MzJkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZiNjY2MTcyOGM3NjQxYWY5MmU3MTBiM2VjMjQwNjFjLmJpbmRQb3B1cChwb3B1cF83MjNmZjNiNzIzMDM0M2NlYjk2YmRhMzdkODJiMjYxMSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTRhMzVmYWVjMDc3NDAxNTk5NzcyMjMxY2IxOTIzODggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTQyNTk5LCAtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEwZjQwMDU0NzgzMzRkNTE4MGUxN2UyOWUxMTIyYjE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI2OTBkMGZlM2ZiMTQ0NGY4NjdiZGNiNTc1NWE5MWIwID0gJChgPGRpdiBpZD0iaHRtbF8yNjkwZDBmZTNmYjE0NDRmODY3YmRjYjU3NTVhOTFiMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250LFJlZ2VudCBQYXJrIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTBmNDAwNTQ3ODMzNGQ1MTgwZTE3ZTI5ZTExMjJiMTUuc2V0Q29udGVudChodG1sXzI2OTBkMGZlM2ZiMTQ0NGY4NjdiZGNiNTc1NWE5MWIwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE0YTM1ZmFlYzA3NzQwMTU5OTc3MjIzMWNiMTkyMzg4LmJpbmRQb3B1cChwb3B1cF8xMGY0MDA1NDc4MzM0ZDUxODBlMTdlMjllMTEyMmIxNSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzdkNzc2NzhhNDI1NDVlZGI3Yjg4YmUxZGJhNTBhZDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTcxNjE4LCAtNzkuMzc4OTM3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hOTc4OTdlMGQ3Njk0YWExOWUzNzI5Yzc4ZTI2MmVjZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYWUwMzAyM2M4YTM0YzVkOGQ2MGE0NmIzYWQ3ODA4NyA9ICQoYDxkaXYgaWQ9Imh0bWxfZWFlMDMwMjNjOGEzNGM1ZDhkNjBhNDZiM2FkNzgwODciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ5ZXJzb24sR2FyZGVuIERpc3RyaWN0IENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTk3ODk3ZTBkNzY5NGFhMTllMzcyOWM3OGUyNjJlY2Yuc2V0Q29udGVudChodG1sX2VhZTAzMDIzYzhhMzRjNWQ4ZDYwYTQ2YjNhZDc4MDg3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M3ZDc3Njc4YTQyNTQ1ZWRiN2I4OGJlMWRiYTUwYWQ1LmJpbmRQb3B1cChwb3B1cF9hOTc4OTdlMGQ3Njk0YWExOWUzNzI5Yzc4ZTI2MmVjZikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjZhMzBiZDMzMDgyNDdmNTliMDhiNGI5YThiNGFmOGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE0OTM5LCAtNzkuMzc1NDE3OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEwMDA4YzIyOWJiODQ4Zjg4ODQzZjlhMWIwNzU0MDE3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRlMjgwZjcwN2Y4MDQ4NjQ5ZmRlYTFlZjIyY2Q2ZjdlID0gJChgPGRpdiBpZD0iaHRtbF80ZTI4MGY3MDdmODA0ODY0OWZkZWExZWYyMmNkNmY3ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMDAwOGMyMjliYjg0OGY4ODg0M2Y5YTFiMDc1NDAxNy5zZXRDb250ZW50KGh0bWxfNGUyODBmNzA3ZjgwNDg2NDlmZGVhMWVmMjJjZDZmN2UpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjZhMzBiZDMzMDgyNDdmNTliMDhiNGI5YThiNGFmOGIuYmluZFBvcHVwKHBvcHVwXzEwMDA4YzIyOWJiODQ4Zjg4ODQzZjlhMWIwNzU0MDE3KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMDAwN2M5MjI2NTY0NDE1YWNiNzc0NWEwODVlZjExMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwgLTc5LjM3MzMwNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNzI5NzQ0Y2U5OGU0M2E2YWQxODk3MDhhNTBmOGIwMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84Y2JjZDM2YmU2NTY0ZTE0OGQyNGI5MjMyODg1MWIwOCA9ICQoYDxkaXYgaWQ9Imh0bWxfOGNiY2QzNmJlNjU2NGUxNDhkMjRiOTIzMjg4NTFiMDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlcmN6eSBQYXJrIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTcyOTc0NGNlOThlNDNhNmFkMTg5NzA4YTUwZjhiMDEuc2V0Q29udGVudChodG1sXzhjYmNkMzZiZTY1NjRlMTQ4ZDI0YjkyMzI4ODUxYjA4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMwMDA3YzkyMjY1NjQ0MTVhY2I3NzQ1YTA4NWVmMTEzLmJpbmRQb3B1cChwb3B1cF9lNzI5NzQ0Y2U5OGU0M2E2YWQxODk3MDhhNTBmOGIwMSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDVmYTU5MTU0MmM5NDg3ZWEyYjdkY2YxODZiYzE5MzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTc5NTI0LCAtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y3Y2JmNjQxZmY5MTQxOTNhYmMyY2I0ZDUxZGJlMjEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U2MWEwODVjYTUxODQ2ZDA4MGUxZWVmMzg5OWUxZGY1ID0gJChgPGRpdiBpZD0iaHRtbF9lNjFhMDg1Y2E1MTg0NmQwODBlMWVlZjM4OTllMWRmNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBCYXkgU3RyZWV0IENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjdjYmY2NDFmZjkxNDE5M2FiYzJjYjRkNTFkYmUyMTMuc2V0Q29udGVudChodG1sX2U2MWEwODVjYTUxODQ2ZDA4MGUxZWVmMzg5OWUxZGY1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ1ZmE1OTE1NDJjOTQ4N2VhMmI3ZGNmMTg2YmMxOTM5LmJpbmRQb3B1cChwb3B1cF9mN2NiZjY0MWZmOTE0MTkzYWJjMmNiNGQ1MWRiZTIxMykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzNhYjAzNDJkMDdlNGM2Mjg5MGE2NjQ3MTZhM2EzMWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTA1NzEyMDAwMDAwMSwgLTc5LjM4NDU2NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZjFjNTQ4MWEzNTA0MzVkOTFhNzU4ZjcxNTgwM2RjNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYTU1ZWUwMzQ3OTc0YmIzOTc3Mzk0ZDA5OWZlMDMzNSA9ICQoYDxkaXYgaWQ9Imh0bWxfMGE1NWVlMDM0Nzk3NGJiMzk3NzM5NGQwOTlmZTAzMzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFkZWxhaWRlLEtpbmcsUmljaG1vbmQgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZjFjNTQ4MWEzNTA0MzVkOTFhNzU4ZjcxNTgwM2RjNC5zZXRDb250ZW50KGh0bWxfMGE1NWVlMDM0Nzk3NGJiMzk3NzM5NGQwOTlmZTAzMzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzNhYjAzNDJkMDdlNGM2Mjg5MGE2NjQ3MTZhM2EzMWYuYmluZFBvcHVwKHBvcHVwX2FmMWM1NDgxYTM1MDQzNWQ5MWE3NThmNzE1ODAzZGM0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNTFiNTM3NjE0ZTM0NWExYTczZmFlZDIxM2M3ZmIxMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsIC03OS4zODE3NTIyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzExZGJmNGU2ZDU3MDQ3NTM5NDM3YTZkNWRlNmNkZjMyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk4MzUwYmI0M2FkNzQ5MDI5Y2ZhNTljZmVlNGQxMDY3ID0gJChgPGRpdiBpZD0iaHRtbF85ODM1MGJiNDNhZDc0OTAyOWNmYTU5Y2ZlZTRkMTA2NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsVG9yb250byBJc2xhbmRzLFVuaW9uIFN0YXRpb24gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMWRiZjRlNmQ1NzA0NzUzOTQzN2E2ZDVkZTZjZGYzMi5zZXRDb250ZW50KGh0bWxfOTgzNTBiYjQzYWQ3NDkwMjljZmE1OWNmZWU0ZDEwNjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTUxYjUzNzYxNGUzNDVhMWE3M2ZhZWQyMTNjN2ZiMTAuYmluZFBvcHVwKHBvcHVwXzExZGJmNGU2ZDU3MDQ3NTM5NDM3YTZkNWRlNmNkZjMyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hMWUyZTFhYWM0NDA0MDAzYTUxY2NjZGUwNzU4MjFhMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzE3NjgsIC03OS4zODE1NzY0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ViNDNkZWZlZmJhZDQ4MGFhZDE5NmM2OWQ2ZGY0MzlkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM1ZDFjNTk0MDFjYjQxODFiMDNmY2MzZDY5ZjA5OWEwID0gJChgPGRpdiBpZD0iaHRtbF8zNWQxYzU5NDAxY2I0MTgxYjAzZmNjM2Q2OWYwOTlhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVzaWduIEV4Y2hhbmdlLFRvcm9udG8gRG9taW5pb24gQ2VudHJlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWI0M2RlZmVmYmFkNDgwYWFkMTk2YzY5ZDZkZjQzOWQuc2V0Q29udGVudChodG1sXzM1ZDFjNTk0MDFjYjQxODFiMDNmY2MzZDY5ZjA5OWEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ExZTJlMWFhYzQ0MDQwMDNhNTFjY2NkZTA3NTgyMWEzLmJpbmRQb3B1cChwb3B1cF9lYjQzZGVmZWZiYWQ0ODBhYWQxOTZjNjlkNmRmNDM5ZCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2IxN2I0NjBhM2RkNDZkNTk3Njc5MzIyOWI3ZTBiODEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LCAtNzkuMzc5ODE2OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZDBlOTQyMWVkNGU0MWRhYWVlNTE1YmIyODBiOGMzNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYWM1YmM2ODhlYzc0NjkxYjNiODA4MjlmOWIwMGMzYSA9ICQoYDxkaXYgaWQ9Imh0bWxfM2FjNWJjNjg4ZWM3NDY5MWIzYjgwODI5ZjliMDBjM2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvbW1lcmNlIENvdXJ0LFZpY3RvcmlhIEhvdGVsIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2QwZTk0MjFlZDRlNDFkYWFlZTUxNWJiMjgwYjhjMzcuc2V0Q29udGVudChodG1sXzNhYzViYzY4OGVjNzQ2OTFiM2I4MDgyOWY5YjAwYzNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdiMTdiNDYwYTNkZDQ2ZDU5NzY3OTMyMjliN2UwYjgxLmJpbmRQb3B1cChwb3B1cF8zZDBlOTQyMWVkNGU0MWRhYWVlNTE1YmIyODBiOGMzNykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmZlYjg2ZDhjOWVkNGI4MDg2OTU3ZTVmZDEwMzY3NzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LCAtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ1OTg1MDgxODcwODRkMjZhZDBmYmQ0OTIzODUxZDM1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhYzc1MGU1ODc5ZDRlNDk4M2Y2Yjg5NThhZjZmNTg0ID0gJChgPGRpdiBpZD0iaHRtbF9jYWM3NTBlNTg3OWQ0ZTQ5ODNmNmI4OTU4YWY2ZjU4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLExhd3JlbmNlIE1hbm9yIEVhc3QgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NTk4NTA4MTg3MDg0ZDI2YWQwZmJkNDkyMzg1MWQzNS5zZXRDb250ZW50KGh0bWxfY2FjNzUwZTU4NzlkNGU0OTgzZjZiODk1OGFmNmY1ODQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmZlYjg2ZDhjOWVkNGI4MDg2OTU3ZTVmZDEwMzY3NzMuYmluZFBvcHVwKHBvcHVwXzQ1OTg1MDgxODcwODRkMjZhZDBmYmQ0OTIzODUxZDM1KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMTY3YWExODBkYzI0NDJmYmRmNTE3M2NlOTA1ZGZhZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMTY5NDgsIC03OS40MTY5MzU1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JlM2MzNzQyOTFiNjQ2YjFhNmU5MDBmNTMwOWMwNmQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA5NjQ5ZjRmOTg0YTRiYzJhY2FmN2ZkYTA2MTY1NzUwID0gJChgPGRpdiBpZD0iaHRtbF8wOTY0OWY0Zjk4NGE0YmMyYWNhZjdmZGEwNjE2NTc1MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWxhd24gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZTNjMzc0MjkxYjY0NmIxYTZlOTAwZjUzMDljMDZkMy5zZXRDb250ZW50KGh0bWxfMDk2NDlmNGY5ODRhNGJjMmFjYWY3ZmRhMDYxNjU3NTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTE2N2FhMTgwZGMyNDQyZmJkZjUxNzNjZTkwNWRmYWYuYmluZFBvcHVwKHBvcHVwX2JlM2MzNzQyOTFiNjQ2YjFhNmU5MDBmNTMwOWMwNmQzKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81MTE2ZTYzNzgxYWE0MTI0ODQxN2UxMTMzOGIzZWQ4NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsIC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiYjI2Y2YwZTMxNTQ2YzM4ZTZiZGZjM2Y4MmRiM2IwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhmMjEwYmM0NzQ4ODRiYzY4MTVjZjcxNDdmMzhiODE2ID0gJChgPGRpdiBpZD0iaHRtbF84ZjIxMGJjNDc0ODg0YmM2ODE1Y2Y3MTQ3ZjM4YjgxNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rm9yZXN0IEhpbGwgTm9ydGgsRm9yZXN0IEhpbGwgV2VzdCBDbHVzdGVyIDQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBiYjI2Y2YwZTMxNTQ2YzM4ZTZiZGZjM2Y4MmRiM2IwLnNldENvbnRlbnQoaHRtbF84ZjIxMGJjNDc0ODg0YmM2ODE1Y2Y3MTQ3ZjM4YjgxNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MTE2ZTYzNzgxYWE0MTI0ODQxN2UxMTMzOGIzZWQ4Ni5iaW5kUG9wdXAocG9wdXBfMGJiMjZjZjBlMzE1NDZjMzhlNmJkZmMzZjgyZGIzYjApCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M2ODgzMzkwNWUzNDQyNjA4YmFhZTViNTNmMzJiNDBmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcyNzA5NywgLTc5LjQwNTY3ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTQ4MWIzYjcxZjUxNDA0ZjgxNjQ1Nzg0Yjk0MTIzZTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTVjYzQ1OTVmZjM0NDFmZmE1OGVmYzNjZDA4MDMwNjIgPSAkKGA8ZGl2IGlkPSJodG1sXzU1Y2M0NTk1ZmYzNDQxZmZhNThlZmMzY2QwODAzMDYyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQW5uZXgsTm9ydGggTWlkdG93bixZb3JrdmlsbGUgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lNDgxYjNiNzFmNTE0MDRmODE2NDU3ODRiOTQxMjNlNS5zZXRDb250ZW50KGh0bWxfNTVjYzQ1OTVmZjM0NDFmZmE1OGVmYzNjZDA4MDMwNjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzY4ODMzOTA1ZTM0NDI2MDhiYWFlNWI1M2YzMmI0MGYuYmluZFBvcHVwKHBvcHVwX2U0ODFiM2I3MWY1MTQwNGY4MTY0NTc4NGI5NDEyM2U1KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80Y2FlZGI3MDcyZTM0OGUxYWU1N2FmMjI5ZjRhMmNjZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjY5NTYsIC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDZhNTg1OWU0ODdiNGU2ZDk5YjdiZjlhNDZkYWZiM2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTA4ZDdlYTBkMjQ5NDBkZjhmNDUwODA4NzhhZWYzZGYgPSAkKGA8ZGl2IGlkPSJodG1sX2UwOGQ3ZWEwZDI0OTQwZGY4ZjQ1MDgwODc4YWVmM2RmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3JkLFVuaXZlcnNpdHkgb2YgVG9yb250byBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ2YTU4NTllNDg3YjRlNmQ5OWI3YmY5YTQ2ZGFmYjNiLnNldENvbnRlbnQoaHRtbF9lMDhkN2VhMGQyNDk0MGRmOGY0NTA4MDg3OGFlZjNkZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80Y2FlZGI3MDcyZTM0OGUxYWU1N2FmMjI5ZjRhMmNjZC5iaW5kUG9wdXAocG9wdXBfNDZhNTg1OWU0ODdiNGU2ZDk5YjdiZjlhNDZkYWZiM2IpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdkNzc2MDdiMjcwYjQzY2JhMTBkYTg2ZTFjOTU4MWRiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUzMjA1NywgLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NzZjZjRhMDZiMTc0ODY1YmVlZTkxNTlmYTVhM2VjZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wM2Y2ODExMTM5NGI0OWE4OTA0OWMxY2Q1OWFjNmQzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfMDNmNjgxMTEzOTRiNDlhODkwNDljMWNkNTlhYzZkM2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5hdG93bixHcmFuZ2UgUGFyayxLZW5zaW5ndG9uIE1hcmtldCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU3NmNmNGEwNmIxNzQ4NjViZWVlOTE1OWZhNWEzZWNmLnNldENvbnRlbnQoaHRtbF8wM2Y2ODExMTM5NGI0OWE4OTA0OWMxY2Q1OWFjNmQzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZDc3NjA3YjI3MGI0M2NiYTEwZGE4NmUxYzk1ODFkYi5iaW5kUG9wdXAocG9wdXBfNTc2Y2Y0YTA2YjE3NDg2NWJlZWU5MTU5ZmE1YTNlY2YpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc1MWM2MjNhMDM2MjQ0ODFhNzgyYTQ2OGEyZDRlOTQyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4OTQ2NywgLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNjBhMWY1ZmNkNzQ0ZGJkODU1Yzc4M2MwNjk0OTk0NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYmNhNGYzMWZjODY0ZjQ4OGY0MWU5ZTI0MDA4Y2NlZSA9ICQoYDxkaXYgaWQ9Imh0bWxfZWJjYTRmMzFmYzg2NGY0ODhmNDFlOWUyNDAwOGNjZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNOIFRvd2VyLEJhdGh1cnN0IFF1YXksSXNsYW5kIGFpcnBvcnQsSGFyYm91cmZyb250IFdlc3QsS2luZyBhbmQgU3BhZGluYSxSYWlsd2F5IExhbmRzLFNvdXRoIE5pYWdhcmEgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNjBhMWY1ZmNkNzQ0ZGJkODU1Yzc4M2MwNjk0OTk0NC5zZXRDb250ZW50KGh0bWxfZWJjYTRmMzFmYzg2NGY0ODhmNDFlOWUyNDAwOGNjZWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzUxYzYyM2EwMzYyNDQ4MWE3ODJhNDY4YTJkNGU5NDIuYmluZFBvcHVwKHBvcHVwXzA2MGExZjVmY2Q3NDRkYmQ4NTVjNzgzYzA2OTQ5OTQ0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYWI1NmYzNGY4NTc0OTU5ODYwYjgyMTUxOTE1YTNkMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjQzNTIsIC03OS4zNzQ4NDU5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JhNTQ1OWY4OTBiODQzMjY4YzAzYWY3ZjhlNGRjYWRkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EwM2I1MTY3NjMwZDQxZjlhMjI1MmQzMGU5NTc4YmIzID0gJChgPGRpdiBpZD0iaHRtbF9hMDNiNTE2NzYzMGQ0MWY5YTIyNTJkMzBlOTU3OGJiMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RuIEEgUE8gQm94ZXMgMjUgVGhlIEVzcGxhbmFkZSBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JhNTQ1OWY4OTBiODQzMjY4YzAzYWY3ZjhlNGRjYWRkLnNldENvbnRlbnQoaHRtbF9hMDNiNTE2NzYzMGQ0MWY5YTIyNTJkMzBlOTU3OGJiMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jYWI1NmYzNGY4NTc0OTU5ODYwYjgyMTUxOTE1YTNkMy5iaW5kUG9wdXAocG9wdXBfYmE1NDU5Zjg5MGI4NDMyNjhjMDNhZjdmOGU0ZGNhZGQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY5ODllNmUwOGE2NzRjZjBiZDA4ZjYwYWJjOTRhZjZiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4NDI5MiwgLTc5LjM4MjI4MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOGY0YTIzZWZiMGM0NzkwOTFkYzE3MTMxZDhmM2RiZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzNkNWE2NThiYWM0ZDNhOTZiNmE1YjBkNzQxNzdiMSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTMzZDVhNjU4YmFjNGQzYTk2YjZhNWIwZDc0MTc3YjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpcnN0IENhbmFkaWFuIFBsYWNlLFVuZGVyZ3JvdW5kIGNpdHkgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yOGY0YTIzZWZiMGM0NzkwOTFkYzE3MTMxZDhmM2RiZi5zZXRDb250ZW50KGh0bWxfZTMzZDVhNjU4YmFjNGQzYTk2YjZhNWIwZDc0MTc3YjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjk4OWU2ZTA4YTY3NGNmMGJkMDhmNjBhYmM5NGFmNmIuYmluZFBvcHVwKHBvcHVwXzI4ZjRhMjNlZmIwYzQ3OTA5MWRjMTcxMzFkOGYzZGJmKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hOGNjZjJkN2Y2YTY0NzhhODY1YTE3MWUxMGFlY2Q5OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxODUxNzk5OTk5OTk5NiwgLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTNjNzkxNTljNTVhNDEyZTliZTZiMjdmODhjYWE3NDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTYzYTJmMjVhMjg4NDMyOTllNDY1MGM5NTc4ZWE2YjkgPSAkKGA8ZGl2IGlkPSJodG1sXzU2M2EyZjI1YTI4ODQzMjk5ZTQ2NTBjOTU3OGVhNmI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBIZWlnaHRzLExhd3JlbmNlIE1hbm9yIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTNjNzkxNTljNTVhNDEyZTliZTZiMjdmODhjYWE3NDkuc2V0Q29udGVudChodG1sXzU2M2EyZjI1YTI4ODQzMjk5ZTQ2NTBjOTU3OGVhNmI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E4Y2NmMmQ3ZjZhNjQ3OGE4NjVhMTcxZTEwYWVjZDk5LmJpbmRQb3B1cChwb3B1cF9hM2M3OTE1OWM1NWE0MTJlOWJlNmIyN2Y4OGNhYTc0OSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmI1ZDg3YTEyYjNlNDI3YWE4MzE4NTExYjA2MzhmNTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDk1NzcsIC03OS40NDUwNzI1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlhMTZmYTg1ODJhNzQzOWZiNWZmYTllM2ExZDYwNjIzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU2MjE0OGJkYzJlNzQ0ZTliZWIyZTcwNzMyNWE4ZjA1ID0gJChgPGRpdiBpZD0iaHRtbF81NjIxNDhiZGMyZTc0NGU5YmViMmU3MDczMjVhOGYwNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWExNmZhODU4MmE3NDM5ZmI1ZmZhOWUzYTFkNjA2MjMuc2V0Q29udGVudChodG1sXzU2MjE0OGJkYzJlNzQ0ZTliZWIyZTcwNzMyNWE4ZjA1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZiNWQ4N2ExMmIzZTQyN2FhODMxODUxMWIwNjM4ZjU2LmJpbmRQb3B1cChwb3B1cF85YTE2ZmE4NTgyYTc0MzlmYjVmZmE5ZTNhMWQ2MDYyMykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzNiMWMyMDI1NDMyNDAzNDliOGMwNWQwOWQyNjAxODYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLCAtNzkuNDI4MTkxNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81N2EzNmE2MDY1YWQ0ODc3OWU1Yjk5YmE2ODRkNjRjNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NWQ5M2U4Y2UwYjA0NmQ0OTc3ZDM1ZDE0Zjk0NTg2MiA9ICQoYDxkaXYgaWQ9Imh0bWxfNjVkOTNlOGNlMGIwNDZkNDk3N2QzNWQxNGY5NDU4NjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWV3b29kLUNlZGFydmFsZSBDbHVzdGVyIDQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU3YTM2YTYwNjVhZDQ4Nzc5ZTViOTliYTY4NGQ2NGM0LnNldENvbnRlbnQoaHRtbF82NWQ5M2U4Y2UwYjA0NmQ0OTc3ZDM1ZDE0Zjk0NTg2Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zM2IxYzIwMjU0MzI0MDM0OWI4YzA1ZDA5ZDI2MDE4Ni5iaW5kUG9wdXAocG9wdXBfNTdhMzZhNjA2NWFkNDg3NzllNWI5OWJhNjg0ZDY0YzQpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMwMzRjOTZjNmFlZDQ5NmNhMTQ1NGIzYmMzNTI1MTgyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg5MDI1NiwgLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VhNTdlYzRlZjMyZDRjNzQ4MDEzOGIwNmYyYTNiMTQyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdhZGYyZDYwZWYyMzQ1YWRhNDI5NDMxNDEwMWY5M2RjID0gJChgPGRpdiBpZD0iaHRtbF83YWRmMmQ2MGVmMjM0NWFkYTQyOTQzMTQxMDFmOTNkYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FsZWRvbmlhLUZhaXJiYW5rcyBDbHVzdGVyIDQ8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VhNTdlYzRlZjMyZDRjNzQ4MDEzOGIwNmYyYTNiMTQyLnNldENvbnRlbnQoaHRtbF83YWRmMmQ2MGVmMjM0NWFkYTQyOTQzMTQxMDFmOTNkYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMDM0Yzk2YzZhZWQ0OTZjYTE0NTRiM2JjMzUyNTE4Mi5iaW5kUG9wdXAocG9wdXBfZWE1N2VjNGVmMzJkNGM3NDgwMTM4YjA2ZjJhM2IxNDIpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQzMjQ0MTE5ZDFiMzQ0MDlhZjQ2ZGY3OWRiZGM1Yzg4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5NTQyLCAtNzkuNDIyNTYzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ5MWZiOWEzMzkwMzQxNTI4Mzg4MDA0MGMzOGI0ZGEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlhZDk1MDdlNzVhYjQwY2Q4ZGVkNmYzODczYTE4ZWFlID0gJChgPGRpdiBpZD0iaHRtbF85YWQ5NTA3ZTc1YWI0MGNkOGRlZDZmMzg3M2ExOGVhZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hyaXN0aWUgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80OTFmYjlhMzM5MDM0MTUyODM4ODAwNDBjMzhiNGRhMi5zZXRDb250ZW50KGh0bWxfOWFkOTUwN2U3NWFiNDBjZDhkZWQ2ZjM4NzNhMThlYWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDMyNDQxMTlkMWIzNDQwOWFmNDZkZjc5ZGJkYzVjODguYmluZFBvcHVwKHBvcHVwXzQ5MWZiOWEzMzkwMzQxNTI4Mzg4MDA0MGMzOGI0ZGEyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MWY2NDk2ZmNjMzQ0YWI5ODJiMTYxMzE2N2U3Njc0MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTAwNTEwMDAwMDAxLCAtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1YjRhNDZmNDQ5ZTRjZWNhN2I1ZjFlYWJlM2Y4ZGY0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzllZDk0OWEyNjk4ZTQxMGNiMjRmMTAzMjg3MzM0NGY1ID0gJChgPGRpdiBpZD0iaHRtbF85ZWQ5NDlhMjY5OGU0MTBjYjI0ZjEwMzI4NzMzNDRmNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG92ZXJjb3VydCBWaWxsYWdlLER1ZmZlcmluIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjViNGE0NmY0NDllNGNlY2E3YjVmMWVhYmUzZjhkZjQuc2V0Q29udGVudChodG1sXzllZDk0OWEyNjk4ZTQxMGNiMjRmMTAzMjg3MzM0NGY1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcxZjY0OTZmY2MzNDRhYjk4MmIxNjEzMTY3ZTc2NzQyLmJpbmRQb3B1cChwb3B1cF8yNWI0YTQ2ZjQ0OWU0Y2VjYTdiNWYxZWFiZTNmOGRmNCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2ZmMjYzZDA4MDY3NGFjMzgzNzE0NjM0ZmY4YTcwNTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5MjY3MDAwMDAwMDYsIC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjJlZmU1MjI1NmYyNGQzZDgyZDBlMjRjNzE4NWRmZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDBlNjliOWM0ZDliNDJiY2FiNmEwMDczNjhmNDhmYmIgPSAkKGA8ZGl2IGlkPSJodG1sXzQwZTY5YjljNGQ5YjQyYmNhYjZhMDA3MzY4ZjQ4ZmJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MaXR0bGUgUG9ydHVnYWwsVHJpbml0eSBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YyZWZlNTIyNTZmMjRkM2Q4MmQwZTI0YzcxODVkZmYwLnNldENvbnRlbnQoaHRtbF80MGU2OWI5YzRkOWI0MmJjYWI2YTAwNzM2OGY0OGZiYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZmYyNjNkMDgwNjc0YWMzODM3MTQ2MzRmZjhhNzA1Mi5iaW5kUG9wdXAocG9wdXBfZjJlZmU1MjI1NmYyNGQzZDgyZDBlMjRjNzE4NWRmZjApCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE3NTdjNGJhZThkNDRkMjY5Mjg4NzQ4ZjQzZjNlMzkzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2ODQ3MiwgLTc5LjQyODE5MTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzI0N2QzNzExMzhkNDZmZmE0ZTM1YTViOWMyYTllZGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzU5YmI4YzFkZWEwNDQwM2FiNTkzYzNkNjM1MjJkMDYgPSAkKGA8ZGl2IGlkPSJodG1sXzM1OWJiOGMxZGVhMDQ0MDNhYjU5M2MzZDYzNTIyZDA2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ccm9ja3RvbixFeGhpYml0aW9uIFBsYWNlLFBhcmtkYWxlIFZpbGxhZ2UgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMjQ3ZDM3MTEzOGQ0NmZmYTRlMzVhNWI5YzJhOWVkYy5zZXRDb250ZW50KGh0bWxfMzU5YmI4YzFkZWEwNDQwM2FiNTkzYzNkNjM1MjJkMDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTc1N2M0YmFlOGQ0NGQyNjkyODg3NDhmNDNmM2UzOTMuYmluZFBvcHVwKHBvcHVwXzMyNDdkMzcxMTM4ZDQ2ZmZhNGUzNWE1YjljMmE5ZWRjKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YWJjOWRkOTdiYjY0ZjlmYjNjZDBmYWFiY2MyOTJhNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMzc1NjIwMDAwMDAwNiwgLTc5LjQ5MDA3MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMmVmNWY5MjljNGU0NTEzYjViYzVlMzFiMjczOGI2MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMTk4MjZkZTI5MjI0YTA0YTRhMDc5ZmZkYzU1MmE1NSA9ICQoYDxkaXYgaWQ9Imh0bWxfYzE5ODI2ZGUyOTIyNGEwNGE0YTA3OWZmZGM1NTJhNTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hcGxlIExlYWYgUGFyayxOb3J0aCBQYXJrLFVwd29vZCBQYXJrIENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzJlZjVmOTI5YzRlNDUxM2I1YmM1ZTMxYjI3MzhiNjAuc2V0Q29udGVudChodG1sX2MxOTgyNmRlMjkyMjRhMDRhNGEwNzlmZmRjNTUyYTU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVhYmM5ZGQ5N2JiNjRmOWZiM2NkMGZhYWJjYzI5MmE3LmJpbmRQb3B1cChwb3B1cF9jMmVmNWY5MjljNGU0NTEzYjViYzVlMzFiMjczOGI2MCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM5NjNhYmQ1MjY1NDc2ZTliODNiNDBhZmYzMmU2OWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTExMTU4LCAtNzkuNDc2MDEzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81Yjc0ZDFhNzI2NWU0YjY3ODg3N2EzZGI0NmJkNjA2NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NzA3N2EwYjJjZTg0Y2ZmOGEzNTRhZDkzMWQ5ZTViNSA9ICQoYDxkaXYgaWQ9Imh0bWxfOTcwNzdhMGIyY2U4NGNmZjhhMzU0YWQ5MzFkOWU1YjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlbCBSYXksS2VlbGVzZGFsZSxNb3VudCBEZW5uaXMsU2lsdmVydGhvcm4gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81Yjc0ZDFhNzI2NWU0YjY3ODg3N2EzZGI0NmJkNjA2Ny5zZXRDb250ZW50KGh0bWxfOTcwNzdhMGIyY2U4NGNmZjhhMzU0YWQ5MzFkOWU1YjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTM5NjNhYmQ1MjY1NDc2ZTliODNiNDBhZmYzMmU2OWMuYmluZFBvcHVwKHBvcHVwXzViNzRkMWE3MjY1ZTRiNjc4ODc3YTNkYjQ2YmQ2MDY3KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNjBjZjQwZTI0N2U0MWU5OWI2YjgxMzE1ZTdhNThkYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MzE4NTI5OTk5OTk5LCAtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NjY4NTc2OTI2N2Q0ZWY3YmE1NTgwODk0ODBjM2I4OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZjJjZDg2OTBmODE0M2ExOTlhNDczYWRjZDlkMmM2ZCA9ICQoYDxkaXYgaWQ9Imh0bWxfY2YyY2Q4NjkwZjgxNDNhMTk5YTQ3M2FkY2Q5ZDJjNmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBKdW5jdGlvbiBOb3J0aCxSdW5ueW1lZGUgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NjY4NTc2OTI2N2Q0ZWY3YmE1NTgwODk0ODBjM2I4OC5zZXRDb250ZW50KGh0bWxfY2YyY2Q4NjkwZjgxNDNhMTk5YTQ3M2FkY2Q5ZDJjNmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzYwY2Y0MGUyNDdlNDFlOTliNmI4MTMxNWU3YTU4ZGEuYmluZFBvcHVwKHBvcHVwXzQ2Njg1NzY5MjY3ZDRlZjdiYTU1ODA4OTQ4MGMzYjg4KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZmY0NmRiMzgwOGU0MWIwYThhMzhkYzI2ZmRkMmY3ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MTYwODMsIC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NhMGI4NzY1ZmZjMzRiOGE5Y2NjY2ZmMWRjMzEyNjlmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk4Y2UzNTc1MjhlYTRlZWY4MDk4YTE1M2YwM2EyZDNlID0gJChgPGRpdiBpZD0iaHRtbF85OGNlMzU3NTI4ZWE0ZWVmODA5OGExNTNmMDNhMmQzZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaCBQYXJrLFRoZSBKdW5jdGlvbiBTb3V0aCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NhMGI4NzY1ZmZjMzRiOGE5Y2NjY2ZmMWRjMzEyNjlmLnNldENvbnRlbnQoaHRtbF85OGNlMzU3NTI4ZWE0ZWVmODA5OGExNTNmMDNhMmQzZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ZmY0NmRiMzgwOGU0MWIwYThhMzhkYzI2ZmRkMmY3ZC5iaW5kUG9wdXAocG9wdXBfY2EwYjg3NjVmZmMzNGI4YTljY2NjZmYxZGMzMTI2OWYpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMyNTViMDM5MDFjMjQ5Yzg5ZTYxODkxMzFjODA4MjU3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4OTU5NywgLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBkZmQwOGJlM2QzYTQ4YWI4OGVmNjA2NDViNmQ4NzlkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY2YmIwNDY0ZTE2OTQ2YTU5NTQ0ZjAzMWU2OWFhM2M5ID0gJChgPGRpdiBpZD0iaHRtbF82NmJiMDQ2NGUxNjk0NmE1OTU0NGYwMzFlNjlhYTNjOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya2RhbGUsUm9uY2VzdmFsbGVzIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGRmZDA4YmUzZDNhNDhhYjg4ZWY2MDY0NWI2ZDg3OWQuc2V0Q29udGVudChodG1sXzY2YmIwNDY0ZTE2OTQ2YTU5NTQ0ZjAzMWU2OWFhM2M5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMyNTViMDM5MDFjMjQ5Yzg5ZTYxODkxMzFjODA4MjU3LmJpbmRQb3B1cChwb3B1cF8wZGZkMDhiZTNkM2E0OGFiODhlZjYwNjQ1YjZkODc5ZCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjM1YjM5MTBiMjM0NDBjZWEyNDk5NzgzNmM1YTA0MDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LCAtNzkuNDg0NDQ5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg4NDg4M2YyNTdjNTQzYWJhMDhlZTNjY2IyM2FmZWIyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y3Y2I1NzQxYWVjZjRmODJiNzIxOGQ2MmZmMGU0NjA4ID0gJChgPGRpdiBpZD0iaHRtbF9mN2NiNTc0MWFlY2Y0ZjgyYjcyMThkNjJmZjBlNDYwOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLFN3YW5zZWEgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ODQ4ODNmMjU3YzU0M2FiYTA4ZWUzY2NiMjNhZmViMi5zZXRDb250ZW50KGh0bWxfZjdjYjU3NDFhZWNmNGY4MmI3MjE4ZDYyZmYwZTQ2MDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjM1YjM5MTBiMjM0NDBjZWEyNDk5NzgzNmM1YTA0MDYuYmluZFBvcHVwKHBvcHVwXzg4NDg4M2YyNTdjNTQzYWJhMDhlZTNjY2IyM2FmZWIyKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ODgxMjcyYjM5ZTk0NGY0ODU1YWU2Y2IzYWNhNzQ5ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjMwMTUsIC03OS4zODk0OTM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDQxNWY1MGQ2MjJjNDE1ZGI4YmUyYWM3ODYxNzZlYmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTM1ZTYxNmFhN2U3NGY5YTgzOTJmN2U0YTVlZjM2ZTkgPSAkKGA8ZGl2IGlkPSJodG1sXzkzNWU2MTZhYTdlNzRmOWE4MzkyZjdlNGE1ZWYzNmU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5RdWVlbiYjMzk7cyBQYXJrIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDQxNWY1MGQ2MjJjNDE1ZGI4YmUyYWM3ODYxNzZlYmQuc2V0Q29udGVudChodG1sXzkzNWU2MTZhYTdlNzRmOWE4MzkyZjdlNGE1ZWYzNmU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4ODEyNzJiMzllOTQ0ZjQ4NTVhZTZjYjNhY2E3NDllLmJpbmRQb3B1cChwb3B1cF9kNDE1ZjUwZDYyMmM0MTVkYjhiZTJhYzc4NjE3NmViZCkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGEwZDMwZWNkZWNkNDVhYWE3ZmU0MTAxODc3N2M2NTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY5NjU2LCAtNzkuNjE1ODE4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZGQxYmZjOGRiNjU0MWFlYTA5ZDRjMzZmOTc5ZTE5ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNWE5NGZjNjZiNGQ0MDBjYjE0Y2ZhNWFmODEzYzQzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfMTVhOTRmYzY2YjRkNDAwY2IxNGNmYTVhZjgxM2M0M2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmUgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZGQxYmZjOGRiNjU0MWFlYTA5ZDRjMzZmOTc5ZTE5ZC5zZXRDb250ZW50KGh0bWxfMTVhOTRmYzY2YjRkNDAwY2IxNGNmYTVhZjgxM2M0M2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGEwZDMwZWNkZWNkNDVhYWE3ZmU0MTAxODc3N2M2NTQuYmluZFBvcHVwKHBvcHVwXzBkZDFiZmM4ZGI2NTQxYWVhMDlkNGMzNmY5NzllMTlkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNmFlODczMzZhZjE0ZTliYmUyODMyNWUxMTI2YzZjNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Mjc0MzksIC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MzFiM2E0YTIwZjM0NWI3YWU1OTJhYWQxMDVhZTYwZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kOWY3NWRlZjI5NzY0M2E0YmM3OWQxMTFiODM2NGI2MSA9ICQoYDxkaXYgaWQ9Imh0bWxfZDlmNzVkZWYyOTc2NDNhNGJjNzlkMTExYjgzNjRiNjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJ1c2luZXNzIFJlcGx5IE1haWwgUHJvY2Vzc2luZyBDZW50cmUgOTY5IEVhc3Rlcm4gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MzFiM2E0YTIwZjM0NWI3YWU1OTJhYWQxMDVhZTYwZC5zZXRDb250ZW50KGh0bWxfZDlmNzVkZWYyOTc2NDNhNGJjNzlkMTExYjgzNjRiNjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzZhZTg3MzM2YWYxNGU5YmJlMjgzMjVlMTEyNmM2YzcuYmluZFBvcHVwKHBvcHVwXzYzMWIzYTRhMjBmMzQ1YjdhZTU5MmFhZDEwNWFlNjBkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OTA5ZTg5NGQ4ZWU0YzJkODEzZTI1Y2E1MDdiN2ZmMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwNTY0NjYsIC03OS41MDEzMjA3MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc2ZDFmNmUyYzhkYzQ0OGZhNGM3NjEwMGZiMjM0OWU1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVhNmU4ZDUzYTE2ZDQ3NzJiMGE5MWRjYzgwYzBlNTk2ID0gJChgPGRpdiBpZD0iaHRtbF81YTZlOGQ1M2ExNmQ0NzcyYjBhOTFkY2M4MGMwZTU5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSBTaG9yZXMsTWltaWNvIFNvdXRoLE5ldyBUb3JvbnRvIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzZkMWY2ZTJjOGRjNDQ4ZmE0Yzc2MTAwZmIyMzQ5ZTUuc2V0Q29udGVudChodG1sXzVhNmU4ZDUzYTE2ZDQ3NzJiMGE5MWRjYzgwYzBlNTk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU5MDllODk0ZDhlZTRjMmQ4MTNlMjVjYTUwN2I3ZmYyLmJpbmRQb3B1cChwb3B1cF83NmQxZjZlMmM4ZGM0NDhmYTRjNzYxMDBmYjIzNDllNSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTQ1ZDE5OWZiZDIwNDU1ZTg0ZDJiZjgwYjJiMzAzYWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDI0MTM3MDAwMDAwMSwgLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmZkOGRhMGYxYTQ1NDk2YTg2ZmYzNjExMzUwMTU1NDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDJhZjZjZDQ0MGE4NDBkMDk5ODI0MDIyZDRiNTA1MjggPSAkKGA8ZGl2IGlkPSJodG1sXzQyYWY2Y2Q0NDBhODQwZDA5OTgyNDAyMmQ0YjUwNTI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGRlcndvb2QsTG9uZyBCcmFuY2ggQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZmQ4ZGEwZjFhNDU0OTZhODZmZjM2MTEzNTAxNTU0NC5zZXRDb250ZW50KGh0bWxfNDJhZjZjZDQ0MGE4NDBkMDk5ODI0MDIyZDRiNTA1MjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTQ1ZDE5OWZiZDIwNDU1ZTg0ZDJiZjgwYjJiMzAzYWIuYmluZFBvcHVwKHBvcHVwX2JmZDhkYTBmMWE0NTQ5NmE4NmZmMzYxMTM1MDE1NTQ0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82NTg3ODUyNjI4ZjQ0MmNmOGE3YWMyNWYxMjA4MDRiMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzY1MzYwMDAwMDAwNSwgLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jOGQzODY2YjQ4YjI0ZTg3YTQ5YTI3MTIxNDM5ZDRhYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjIxMjUzOTk5Y2Q0YjMxYmM4OWUyNmU4MjBhNGQ3NiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjYyMTI1Mzk5OWNkNGIzMWJjODllMjZlODIwYTRkNzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBLaW5nc3dheSxNb250Z29tZXJ5IFJvYWQsT2xkIE1pbGwgTm9ydGggQ2x1c3RlciA0PC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOGQzODY2YjQ4YjI0ZTg3YTQ5YTI3MTIxNDM5ZDRhYi5zZXRDb250ZW50KGh0bWxfMjYyMTI1Mzk5OWNkNGIzMWJjODllMjZlODIwYTRkNzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjU4Nzg1MjYyOGY0NDJjZjhhN2FjMjVmMTIwODA0YjAuYmluZFBvcHVwKHBvcHVwX2M4ZDM4NjZiNDhiMjRlODdhNDlhMjcxMjE0MzlkNGFiKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wN2ExMzhhM2RjNDM0NzgxYWRjYjllMmZhZGQ3MTFhZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjI1NzksIC03OS40OTg1MDkwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQxZGJiZTNlNjkxZDQwMmNhZWUwNGNlMmE4YmE2ZTE0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JhNDBhN2ZlYmMwMzRiMmU5Mzg4YjExZDJjYWRmYTlmID0gJChgPGRpdiBpZD0iaHRtbF9iYTQwYTdmZWJjMDM0YjJlOTM4OGIxMWQyY2FkZmE5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIEJheSxLaW5nJiMzOTtzIE1pbGwgUGFyayxLaW5nc3dheSBQYXJrIFNvdXRoIEVhc3QsTWltaWNvIE5FLE9sZCBNaWxsIFNvdXRoLFRoZSBRdWVlbnN3YXkgRWFzdCxSb3lhbCBZb3JrIFNvdXRoIEVhc3QsU3VubnlsZWEgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MWRiYmUzZTY5MWQ0MDJjYWVlMDRjZTJhOGJhNmUxNC5zZXRDb250ZW50KGh0bWxfYmE0MGE3ZmViYzAzNGIyZTkzODhiMTFkMmNhZGZhOWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDdhMTM4YTNkYzQzNDc4MWFkY2I5ZTJmYWRkNzExYWYuYmluZFBvcHVwKHBvcHVwXzQxZGJiZTNlNjkxZDQwMmNhZWUwNGNlMmE4YmE2ZTE0KQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wODgyOWQ2MWVhNDE0OGEwOTQ1ZmEzMzQwN2ExN2FkYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODg0MDgsIC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y2ODc3ZDJlYTM2MDQxYjhhMGY1YzVmM2RkYTJhOGI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIzZTM5ODhhYTc0MDRlNzlhZDQwMmUzZGEwMDczN2VhID0gJChgPGRpdiBpZD0iaHRtbF8yM2UzOTg4YWE3NDA0ZTc5YWQ0MDJlM2RhMDA3MzdlYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N3YXkgUGFyayBTb3V0aCBXZXN0LE1pbWljbyBOVyxUaGUgUXVlZW5zd2F5IFdlc3QsUm95YWwgWW9yayBTb3V0aCBXZXN0LFNvdXRoIG9mIEJsb29yIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjY4NzdkMmVhMzYwNDFiOGEwZjVjNWYzZGRhMmE4YjUuc2V0Q29udGVudChodG1sXzIzZTM5ODhhYTc0MDRlNzlhZDQwMmUzZGEwMDczN2VhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA4ODI5ZDYxZWE0MTQ4YTA5NDVmYTMzNDA3YTE3YWRjLmJpbmRQb3B1cChwb3B1cF9mNjg3N2QyZWEzNjA0MWI4YTBmNWM1ZjNkZGEyYThiNSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjYwNzhhM2MxNDllNDM5NmIwNjM4NmMzNWEzODk2OWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTA5NDMyLCAtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZWE4ODdlNjcyN2M0MjYwOWM5NzU0NGFhMzVjNmY3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYTk0OWM0YWUzYzQ0MGYwODk1ZjViOTg2MzU5OWFlZSA9ICQoYDxkaXYgaWQ9Imh0bWxfZWE5NDljNGFlM2M0NDBmMDg5NWY1Yjk4NjM1OTlhZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsb3ZlcmRhbGUsSXNsaW5ndG9uLE1hcnRpbiBHcm92ZSxQcmluY2VzcyBHYXJkZW5zLFdlc3QgRGVhbmUgUGFyayBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlYTg4N2U2NzI3YzQyNjA5Yzk3NTQ0YWEzNWM2Zjc3LnNldENvbnRlbnQoaHRtbF9lYTk0OWM0YWUzYzQ0MGYwODk1ZjViOTg2MzU5OWFlZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNjA3OGEzYzE0OWU0Mzk2YjA2Mzg2YzM1YTM4OTY5Yi5iaW5kUG9wdXAocG9wdXBfZmVhODg3ZTY3MjdjNDI2MDljOTc1NDRhYTM1YzZmNzcpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y5ZjQyNDE0ZTc1OTQwNDc4ZjgwYTU2NzkzNWE5MTM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQzNTE1MiwgLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGE3YjRmMWE1NmFmNGEzYWIwNDkxY2JjNDgzZjdkYzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGZlOWFmMTEwYWM3NDE5Yjg5YTY4N2Q5MWVlMzljMGEgPSAkKGA8ZGl2IGlkPSJodG1sXzhmZTlhZjExMGFjNzQxOWI4OWE2ODdkOTFlZTM5YzBhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CbG9vcmRhbGUgR2FyZGVucyxFcmluZ2F0ZSxNYXJrbGFuZCBXb29kLE9sZCBCdXJuaGFtdGhvcnBlIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGE3YjRmMWE1NmFmNGEzYWIwNDkxY2JjNDgzZjdkYzcuc2V0Q29udGVudChodG1sXzhmZTlhZjExMGFjNzQxOWI4OWE2ODdkOTFlZTM5YzBhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y5ZjQyNDE0ZTc1OTQwNDc4ZjgwYTU2NzkzNWE5MTM1LmJpbmRQb3B1cChwb3B1cF80YTdiNGYxYTU2YWY0YTNhYjA0OTFjYmM0ODNmN2RjNykKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWNjMTliMmE1M2QzNDFhMTlkNWQ1NjcwZWM3ZTQwOWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYzMDMzLCAtNzkuNTY1OTYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMmUwN2FlMzBhMDQ0YTkyYjBiYzE0OTVmNDVlZDkxZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MDNhYTAzZWY4ZDk0ODBiOGQzM2JlM2YzMDFlODQzMiA9ICQoYDxkaXYgaWQ9Imh0bWxfNzAzYWEwM2VmOGQ5NDgwYjhkMzNiZTNmMzAxZTg0MzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQgQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMmUwN2FlMzBhMDQ0YTkyYjBiYzE0OTVmNDVlZDkxZC5zZXRDb250ZW50KGh0bWxfNzAzYWEwM2VmOGQ5NDgwYjhkMzNiZTNmMzAxZTg0MzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWNjMTliMmE1M2QzNDFhMTlkNWQ1NjcwZWM3ZTQwOWQuYmluZFBvcHVwKHBvcHVwXzIyZTA3YWUzMGEwNDRhOTJiMGJjMTQ5NWY0NWVkOTFkKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMmU3NWQ5ZTMxYTQ0MjEzOTk5ODEwNjc3NDc5ZTYxMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksIC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZmMjZhZDIzMWI0ZTRiNDJhOTQwOTkyOTYzYzEzZWIyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RhOWYzNDZlZDRmNDQ0NDE4YTUyZjUxYmZjYzA2MjUyID0gJChgPGRpdiBpZD0iaHRtbF9kYTlmMzQ2ZWQ0ZjQ0NDQxOGE1MmY1MWJmY2MwNjI1MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RW1lcnksSHVtYmVybGVhIENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmYyNmFkMjMxYjRlNGI0MmE5NDA5OTI5NjNjMTNlYjIuc2V0Q29udGVudChodG1sX2RhOWYzNDZlZDRmNDQ0NDE4YTUyZjUxYmZjYzA2MjUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMyZTc1ZDllMzFhNDQyMTM5OTk4MTA2Nzc0NzllNjExLmJpbmRQb3B1cChwb3B1cF82ZjI2YWQyMzFiNGU0YjQyYTk0MDk5Mjk2M2MxM2ViMikKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTRkYjdiZDA2YmJjNDhkOTk4MTE1NDg3NTI5MDAyMWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY4NzYsIC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1NDM5YzJlMDAxNDQxMzM4OTQyY2RkNDViYTQ0YTJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJlZTAwYzkwMDNmOTQ3MTY4NDkzYTEyMzVjOTExZDU0ID0gJChgPGRpdiBpZD0iaHRtbF8yZWUwMGM5MDAzZjk0NzE2ODQ5M2ExMjM1YzkxMWQ1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG9uIENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjU0MzljMmUwMDE0NDEzMzg5NDJjZGQ0NWJhNDRhMmUuc2V0Q29udGVudChodG1sXzJlZTAwYzkwMDNmOTQ3MTY4NDkzYTEyMzVjOTExZDU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU0ZGI3YmQwNmJiYzQ4ZDk5ODExNTQ4NzUyOTAwMjFhLmJpbmRQb3B1cChwb3B1cF8yNTQzOWMyZTAwMTQ0MTMzODk0MmNkZDQ1YmE0NGEyZSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjM3YzBlNzExOWRlNGJhZDhhZTFhYjUxNzZkZTdlNzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTYzMTksIC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwXzY0ZTg3Y2RkMWJkMjRhYWM4ODgwM2ExZTEwMTc1ODlkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNjNWExM2VhODRlYTQyMzI5Yjc2OTU3NTdjZDZjOTQ5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICcxMDAlJwogICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UxNjhjNjBlMzMzMzQ0ZjY4YzRlOGNmM2E1OTk2MzBjID0gJChgPGRpdiBpZD0iaHRtbF9lMTY4YzYwZTMzMzM0NGY2OGM0ZThjZjNhNTk5NjMwYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG1vdW50IENsdXN0ZXIgMDwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2M1YTEzZWE4NGVhNDIzMjliNzY5NTc1N2NkNmM5NDkuc2V0Q29udGVudChodG1sX2UxNjhjNjBlMzMzMzQ0ZjY4YzRlOGNmM2E1OTk2MzBjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YzN2MwZTcxMTlkZTRiYWQ4YWUxYWI1MTc2ZGU3ZTcwLmJpbmRQb3B1cChwb3B1cF8zYzVhMTNlYTg0ZWE0MjMyOWI3Njk1NzU3Y2Q2Yzk0OSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWJlMTY4YzY2MDY4NGM5OGIzOTdiZjdmYTVkYWExYWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODg5MDU0LCAtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kMWYwMjU2NzEyODg0ZjhiOTI1MzAwNTBiNWI0MWIwMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MzA0NmU2YzQ2YzU0MDk4YmQ4Yzc3MzIxOGRiYzZhYyA9ICQoYDxkaXYgaWQ9Imh0bWxfNDMwNDZlNmM0NmM1NDA5OGJkOGM3NzMyMThkYmM2YWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzdmlldyBWaWxsYWdlLE1hcnRpbiBHcm92ZSBHYXJkZW5zLFJpY2h2aWV3IEdhcmRlbnMsU3QuIFBoaWxsaXBzIENsdXN0ZXIgMTwvZGl2PmApWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDFmMDI1NjcxMjg4NGY4YjkyNTMwMDUwYjViNDFiMDEuc2V0Q29udGVudChodG1sXzQzMDQ2ZTZjNDZjNTQwOThiZDhjNzczMjE4ZGJjNmFjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFiZTE2OGM2NjA2ODRjOThiMzk3YmY3ZmE1ZGFhMWFlLmJpbmRQb3B1cChwb3B1cF9kMWYwMjU2NzEyODg0ZjhiOTI1MzAwNTBiNWI0MWIwMSkKICAgICAgICAgICAgOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTM2NGE1NzZkNWI0NDQ3NGJkYWNmZjRiZDJjMDA1ZGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mzk0MTYzOTk5OTk5OTYsIC03OS41ODg0MzY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfNjRlODdjZGQxYmQyNGFhYzg4ODAzYTFlMTAxNzU4OWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjZmNzU1NWNmMmZhNGY3YmJkZTBhY2M5ZGRhMGIwYjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzEwMCUnCiAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWE3MTZmMzYwOTliNGI0ODgwMDhhNTY2ZWRlZDVlZGQgPSAkKGA8ZGl2IGlkPSJodG1sX2FhNzE2ZjM2MDk5YjRiNDg4MDA4YTU2NmVkZWQ1ZWRkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbGJpb24gR2FyZGVucyxCZWF1bW9uZCBIZWlnaHRzLEh1bWJlcmdhdGUsSmFtZXN0b3duLE1vdW50IE9saXZlLFNpbHZlcnN0b25lLFNvdXRoIFN0ZWVsZXMsVGhpc3RsZXRvd24gQ2x1c3RlciAwPC9kaXY+YClbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NmY3NTU1Y2YyZmE0ZjdiYmRlMGFjYzlkZGEwYjBiMC5zZXRDb250ZW50KGh0bWxfYWE3MTZmMzYwOTliNGI0ODgwMDhhNTY2ZWRlZDVlZGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTM2NGE1NzZkNWI0NDQ3NGJkYWNmZjRiZDJjMDA1ZGYuYmluZFBvcHVwKHBvcHVwXzY2Zjc1NTVjZjJmYTRmN2JiZGUwYWNjOWRkYTBiMGIwKQogICAgICAgICAgICA7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZTU4NTVhZGFkM2U0ZmQzYTNjYWNkMzk4ZTEyOTNkNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjc0ODI5OTk5OTk5NCwgLTc5LjU5NDA1NDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF82NGU4N2NkZDFiZDI0YWFjODg4MDNhMWUxMDE3NTg5ZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jODFhYWRkY2I1MzE0MWQ3OGIxZDExZmIwOWM0NmM1MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMTAwJScKICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85YjUzOTFhMjllNDE0YTFiYjE1NzExNWRiMTJjMzMzNiA9ICQoYDxkaXYgaWQ9Imh0bWxfOWI1MzkxYTI5ZTQxNGExYmIxNTcxMTVkYjEyYzMzMzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod2VzdCBDbHVzdGVyIDA8L2Rpdj5gKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M4MWFhZGRjYjUzMTQxZDc4YjFkMTFmYjA5YzQ2YzUzLnNldENvbnRlbnQoaHRtbF85YjUzOTFhMjllNDE0YTFiYjE1NzExNWRiMTJjMzMzNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZTU4NTVhZGFkM2U0ZmQzYTNjYWNkMzk4ZTEyOTNkNy5iaW5kUG9wdXAocG9wdXBfYzgxYWFkZGNiNTMxNDFkNzhiMWQxMWZiMDljNDZjNTMpCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4=\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x1dcaa86cc50>"
      ]
     },
     "execution_count": 66,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# create map\n",
    "map_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n",
    "\n",
    "# set color scheme for the clusters\n",
    "x = np.arange(kclusters)\n",
    "ys = [i + x + (i*x)**2 for i in range(kclusters)]\n",
    "colors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\n",
    "rainbow = [colors.rgb2hex(i) for i in colors_array]\n",
    "\n",
    "# add markers to the map\n",
    "markers_colors = []\n",
    "for lat, lon, poi, cluster in zip(toronto_merged['Latitude'], toronto_merged['Longitude'], toronto_merged['Neighborhood'], toronto_merged['Cluster Labels']):\n",
    "    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lon],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color=rainbow[cluster-1],\n",
    "        fill=True,\n",
    "        fill_color=rainbow[cluster-1],\n",
    "        fill_opacity=0.7).add_to(map_clusters)\n",
    "       \n",
    "map_clusters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Spa</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>Medical Center</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Hakka Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Hobby Shop</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Metro Station</td>\n",
       "      <td>Park</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Bus Station</td>\n",
       "      <td>Soccer Field</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Motel</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>General Entertainment</td>\n",
       "      <td>College Stadium</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Café</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Pet Store</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Thrift / Vintage Store</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Latin American Restaurant</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Gaming Cafe</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Auto Garage</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Lounge</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Noodle House</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>0</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Golf Course</td>\n",
       "      <td>Pool</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Comic Shop</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Shopping Mall</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>Electronics Store</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Toy / Game Store</td>\n",
       "      <td>Candy Store</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Tea Room</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Café</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Café</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Plaza</td>\n",
       "      <td>Indonesian Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "      <td>Arts &amp; Crafts Store</td>\n",
       "      <td>Ramen Restaurant</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>Concert Hall</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Butcher</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Bike Shop</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>General Entertainment</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Gym</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Bridal Shop</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Massage Studio</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Falafel Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>32</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Home Service</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Athletics &amp; Sports</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>34</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Portuguese Restaurant</td>\n",
       "      <td>Hockey Arena</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>35</th>\n",
       "      <td>East York</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Pet Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Rock Climbing Spot</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>36</th>\n",
       "      <td>East York</td>\n",
       "      <td>0</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Video Store</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>37</th>\n",
       "      <td>East Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Health Food Store</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38</th>\n",
       "      <td>East York</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Sporting Goods Shop</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Sports Bar</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "      <td>Bike Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>39</th>\n",
       "      <td>East York</td>\n",
       "      <td>0</td>\n",
       "      <td>Indian Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Warehouse Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Curling Ice</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>East Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Brewery</td>\n",
       "      <td>Cosmetics Shop</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>66</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>College Gym</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Bookstore</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Beer Bar</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>French Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>67</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Café</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Arts &amp; Crafts Store</td>\n",
       "      <td>Organic Grocery</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>French Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>68</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Airport Lounge</td>\n",
       "      <td>Airport Terminal</td>\n",
       "      <td>Boutique</td>\n",
       "      <td>Harbor / Marina</td>\n",
       "      <td>Airport</td>\n",
       "      <td>Airport Food Court</td>\n",
       "      <td>Airport Gate</td>\n",
       "      <td>Airport Service</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>69</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Cocktail Bar</td>\n",
       "      <td>Concert Hall</td>\n",
       "      <td>Beer Bar</td>\n",
       "      <td>Park</td>\n",
       "      <td>Steakhouse</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>Thai Restaurant</td>\n",
       "      <td>French Restaurant</td>\n",
       "      <td>Museum</td>\n",
       "      <td>Comfort Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>70</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Café</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Steakhouse</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Convenience Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>71</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Clothing Store</td>\n",
       "      <td>Accessories Store</td>\n",
       "      <td>Boutique</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Event Space</td>\n",
       "      <td>Miscellaneous Shop</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Vietnamese Restaurant</td>\n",
       "      <td>Airport Terminal</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>72</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Japanese Restaurant</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Metro Station</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Café</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Baby Store</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Music Venue</td>\n",
       "      <td>Brewery</td>\n",
       "      <td>Gym / Fitness Center</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Supermarket</td>\n",
       "      <td>Café</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Yoga Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>77</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Korean Restaurant</td>\n",
       "      <td>Brewery</td>\n",
       "      <td>Greek Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Art Gallery</td>\n",
       "      <td>Asian Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Ice Cream Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>78</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Café</td>\n",
       "      <td>Breakfast Spot</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Pet Store</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Discount Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>80</th>\n",
       "      <td>York</td>\n",
       "      <td>0</td>\n",
       "      <td>Check Cashing Service</td>\n",
       "      <td>Turkish Restaurant</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>York</td>\n",
       "      <td>0</td>\n",
       "      <td>Brewery</td>\n",
       "      <td>Caribbean Restaurant</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Speakeasy</td>\n",
       "      <td>Gastropub</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Music Venue</td>\n",
       "      <td>Park</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Arts &amp; Crafts Store</td>\n",
       "      <td>Flea Market</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Mexican Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>83</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Gift Shop</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Movie Theater</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>84</th>\n",
       "      <td>West Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Café</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Burrito Place</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Tea Room</td>\n",
       "      <td>Bookstore</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Food</td>\n",
       "      <td>Fish &amp; Chips Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>Queen's Park</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Portuguese Restaurant</td>\n",
       "      <td>Italian Restaurant</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Hobby Shop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Comic Shop</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>Mississauga</td>\n",
       "      <td>0</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>American Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Burrito Place</td>\n",
       "      <td>Mediterranean Restaurant</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Diner</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>87</th>\n",
       "      <td>East Toronto</td>\n",
       "      <td>0</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Garden Center</td>\n",
       "      <td>Skate Park</td>\n",
       "      <td>Brewery</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Comic Shop</td>\n",
       "      <td>Burrito Place</td>\n",
       "      <td>Farmers Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Auto Workshop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>88</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Café</td>\n",
       "      <td>Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Skating Rink</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Pub</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>91</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>92</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Burger Joint</td>\n",
       "      <td>Wings Joint</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Thrift / Vintage Store</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Supplement Shop</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>94</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Liquor Store</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Café</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Park</td>\n",
       "      <td>Furniture / Home Store</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Empanada Restaurant</td>\n",
       "      <td>Gym</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>North York</td>\n",
       "      <td>0</td>\n",
       "      <td>Baseball Field</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>99</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Chinese Restaurant</td>\n",
       "      <td>Intersection</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Middle Eastern Restaurant</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Food Truck</td>\n",
       "      <td>Food &amp; Drink Shop</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>101</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Fried Chicken Joint</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Sandwich Place</td>\n",
       "      <td>Beer Store</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Video Store</td>\n",
       "      <td>French Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>102</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>0</td>\n",
       "      <td>Rental Car Location</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>81 rows × 12 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "              Borough  Cluster Labels      1st Most Common Venue  \\\n",
       "2         Scarborough               0                        Spa   \n",
       "3         Scarborough               0                Coffee Shop   \n",
       "4         Scarborough               0            Thai Restaurant   \n",
       "6         Scarborough               0                Coffee Shop   \n",
       "7         Scarborough               0                   Bus Line   \n",
       "8         Scarborough               0              Movie Theater   \n",
       "9         Scarborough               0      General Entertainment   \n",
       "10        Scarborough               0          Indian Restaurant   \n",
       "11        Scarborough               0  Middle Eastern Restaurant   \n",
       "12        Scarborough               0                     Lounge   \n",
       "13        Scarborough               0                Pizza Place   \n",
       "15        Scarborough               0         Chinese Restaurant   \n",
       "17         North York               0                Golf Course   \n",
       "18         North York               0                   Pharmacy   \n",
       "19         North York               0         Chinese Restaurant   \n",
       "22         North York               0                       Café   \n",
       "24         North York               0                   Pharmacy   \n",
       "26         North York               0        Japanese Restaurant   \n",
       "27         North York               0                  Bike Shop   \n",
       "28         North York               0                Coffee Shop   \n",
       "29         North York               0                Coffee Shop   \n",
       "32         North York               0          Korean Restaurant   \n",
       "33         North York               0         Athletics & Sports   \n",
       "34         North York               0                Coffee Shop   \n",
       "35          East York               0                Pizza Place   \n",
       "36          East York               0               Skating Rink   \n",
       "37       East Toronto               0                Coffee Shop   \n",
       "38          East York               0                Coffee Shop   \n",
       "39          East York               0          Indian Restaurant   \n",
       "41       East Toronto               0           Greek Restaurant   \n",
       "..                ...             ...                        ...   \n",
       "66   Downtown Toronto               0                College Gym   \n",
       "67   Downtown Toronto               0                       Café   \n",
       "68   Downtown Toronto               0             Airport Lounge   \n",
       "69   Downtown Toronto               0               Cocktail Bar   \n",
       "70   Downtown Toronto               0                       Café   \n",
       "71         North York               0             Clothing Store   \n",
       "72         North York               0                Pizza Place   \n",
       "75   Downtown Toronto               0                       Café   \n",
       "76       West Toronto               0                     Bakery   \n",
       "77       West Toronto               0                        Bar   \n",
       "78       West Toronto               0                Coffee Shop   \n",
       "80               York               0      Check Cashing Service   \n",
       "81               York               0                    Brewery   \n",
       "82       West Toronto               0                  Speakeasy   \n",
       "83       West Toronto               0                  Gift Shop   \n",
       "84       West Toronto               0                Coffee Shop   \n",
       "85       Queen's Park               0                Coffee Shop   \n",
       "86        Mississauga               0                Coffee Shop   \n",
       "87       East Toronto               0                 Restaurant   \n",
       "88          Etobicoke               0                   Pharmacy   \n",
       "89          Etobicoke               0                Pizza Place   \n",
       "91          Etobicoke               0             Baseball Field   \n",
       "92          Etobicoke               0             Discount Store   \n",
       "94          Etobicoke               0                       Bank   \n",
       "95          Etobicoke               0                   Pharmacy   \n",
       "96         North York               0                Pizza Place   \n",
       "97         North York               0             Baseball Field   \n",
       "99          Etobicoke               0                Pizza Place   \n",
       "101         Etobicoke               0              Grocery Store   \n",
       "102         Etobicoke               0        Rental Car Location   \n",
       "\n",
       "          2nd Most Common Venue     3rd Most Common Venue  \\\n",
       "2           Rental Car Location            Breakfast Spot   \n",
       "3             Korean Restaurant              Dance Studio   \n",
       "4              Hakka Restaurant       Fried Chicken Joint   \n",
       "6                   Bus Station            Discount Store   \n",
       "7                        Bakery             Metro Station   \n",
       "8           American Restaurant                     Motel   \n",
       "9               College Stadium              Skating Rink   \n",
       "10                    Pet Store    Furniture / Home Store   \n",
       "11                  Auto Garage            Breakfast Spot   \n",
       "12           Chinese Restaurant              Skating Rink   \n",
       "13                     Pharmacy      Fast Food Restaurant   \n",
       "15         Fast Food Restaurant                  Pharmacy   \n",
       "17                         Pool  Mediterranean Restaurant   \n",
       "18                Shopping Mall             Movie Theater   \n",
       "19          Japanese Restaurant                      Bank   \n",
       "22                  Coffee Shop                     Plaza   \n",
       "24                      Butcher               Pizza Place   \n",
       "26         Gym / Fitness Center      Caribbean Restaurant   \n",
       "27           Dim Sum Restaurant                Beer Store   \n",
       "28                        Diner               Bridal Shop   \n",
       "29               Massage Studio                       Bar   \n",
       "32                 Home Service            Baseball Field   \n",
       "33                 Liquor Store             Grocery Store   \n",
       "34                  Pizza Place     Portuguese Restaurant   \n",
       "35                    Pet Store      Fast Food Restaurant   \n",
       "36                     Pharmacy            Cosmetics Shop   \n",
       "37                          Pub         Health Food Store   \n",
       "38                   Restaurant              Liquor Store   \n",
       "39                  Yoga Studio               Coffee Shop   \n",
       "41           Italian Restaurant               Yoga Studio   \n",
       "..                          ...                       ...   \n",
       "66                 Dessert Shop                 Bookstore   \n",
       "67                 Cocktail Bar       Arts & Crafts Store   \n",
       "68             Airport Terminal                  Boutique   \n",
       "69                 Concert Hall                  Beer Bar   \n",
       "70          American Restaurant                Steakhouse   \n",
       "71            Accessories Store                  Boutique   \n",
       "72          Japanese Restaurant                       Pub   \n",
       "75                Grocery Store               Coffee Shop   \n",
       "76                  Music Venue                   Brewery   \n",
       "77            Korean Restaurant                   Brewery   \n",
       "78                          Bar      Caribbean Restaurant   \n",
       "80           Turkish Restaurant         Convenience Store   \n",
       "81         Caribbean Restaurant                  Bus Line   \n",
       "82                    Gastropub    Furniture / Home Store   \n",
       "83                          Bar             Movie Theater   \n",
       "84                         Café        Italian Restaurant   \n",
       "85                  Yoga Studio     Portuguese Restaurant   \n",
       "86                        Hotel       American Restaurant   \n",
       "87                Garden Center                Skate Park   \n",
       "88         Fast Food Restaurant               Pizza Place   \n",
       "89                  Coffee Shop              Skating Rink   \n",
       "91   Construction & Landscaping               Yoga Studio   \n",
       "92                 Burger Joint               Wings Joint   \n",
       "94                  Yoga Studio              Dance Studio   \n",
       "95                 Liquor Store               Pizza Place   \n",
       "96          Empanada Restaurant                       Gym   \n",
       "97                  Yoga Studio              Dance Studio   \n",
       "99           Chinese Restaurant              Intersection   \n",
       "101                    Pharmacy       Fried Chicken Joint   \n",
       "102                   Drugstore               Yoga Studio   \n",
       "\n",
       "      4th Most Common Venue      5th Most Common Venue  \\\n",
       "2              Intersection          Electronics Store   \n",
       "3                 Drugstore                    Dog Run   \n",
       "4      Caribbean Restaurant                       Bank   \n",
       "6        Chinese Restaurant           Department Store   \n",
       "7                      Park               Intersection   \n",
       "8               Yoga Studio                Curling Ice   \n",
       "9                      Café                Curling Ice   \n",
       "10   Thrift / Vintage Store         Chinese Restaurant   \n",
       "11            Shopping Mall             Sandwich Place   \n",
       "12           Breakfast Spot             Sandwich Place   \n",
       "13       Chinese Restaurant        Fried Chicken Joint   \n",
       "15              Coffee Shop                Pizza Place   \n",
       "17       Athletics & Sports                    Dog Run   \n",
       "18        Electronics Store        American Restaurant   \n",
       "19                     Café                Yoga Studio   \n",
       "22    Indonesian Restaurant                 Steakhouse   \n",
       "24              Coffee Shop              Grocery Store   \n",
       "26                     Café                Yoga Studio   \n",
       "27           Discount Store        Japanese Restaurant   \n",
       "28      Fried Chicken Joint                       Bank   \n",
       "29   Furniture / Home Store         Falafel Restaurant   \n",
       "32               Food Truck                  Drugstore   \n",
       "33     Gym / Fitness Center             Discount Store   \n",
       "34             Hockey Arena                   Creperie   \n",
       "35                Gastropub                   Pharmacy   \n",
       "36                     Park               Dance Studio   \n",
       "37              Curling Ice                    Dog Run   \n",
       "38      Sporting Goods Shop                        Gym   \n",
       "39          Warehouse Store                   Pharmacy   \n",
       "41                  Brewery             Cosmetics Shop   \n",
       "..                      ...                        ...   \n",
       "66      Japanese Restaurant                   Beer Bar   \n",
       "67          Organic Grocery         Mexican Restaurant   \n",
       "68          Harbor / Marina                    Airport   \n",
       "69                     Park                 Steakhouse   \n",
       "70                   Bakery                 Restaurant   \n",
       "71   Furniture / Home Store                Event Space   \n",
       "72            Metro Station                Yoga Studio   \n",
       "75                    Diner         Italian Restaurant   \n",
       "76     Gym / Fitness Center                        Bar   \n",
       "77         Greek Restaurant                Pizza Place   \n",
       "78                     Café             Breakfast Spot   \n",
       "80           Sandwich Place                Yoga Studio   \n",
       "81              Yoga Studio               Dance Studio   \n",
       "82              Music Venue                       Park   \n",
       "83               Restaurant           Cuban Restaurant   \n",
       "84            Burrito Place           Sushi Restaurant   \n",
       "85       Italian Restaurant                   Creperie   \n",
       "86           Sandwich Place              Burrito Place   \n",
       "87                  Brewery                Pizza Place   \n",
       "88                     Café                 Restaurant   \n",
       "89                 Pharmacy                        Gym   \n",
       "91             Dance Studio                  Drugstore   \n",
       "92            Grocery Store             Sandwich Place   \n",
       "94                Drugstore                    Dog Run   \n",
       "95        Convenience Store                       Café   \n",
       "96         Cuban Restaurant             Discount Store   \n",
       "97                Drugstore                    Dog Run   \n",
       "99               Playground  Middle Eastern Restaurant   \n",
       "101             Pizza Place             Sandwich Place   \n",
       "102        Cuban Restaurant             Discount Store   \n",
       "\n",
       "         6th Most Common Venue      7th Most Common Venue  \\\n",
       "2               Medical Center         Mexican Restaurant   \n",
       "3               Discount Store                      Diner   \n",
       "4                       Bakery         Athletics & Sports   \n",
       "6            Convenience Store                 Hobby Shop   \n",
       "7         Fast Food Restaurant                Bus Station   \n",
       "8                      Dog Run             Discount Store   \n",
       "9               Discount Store                      Diner   \n",
       "10   Latin American Restaurant      Vietnamese Restaurant   \n",
       "11                 Yoga Studio                      Diner   \n",
       "12                 Yoga Studio                Curling Ice   \n",
       "13                Noodle House         Italian Restaurant   \n",
       "15               Grocery Store             Breakfast Spot   \n",
       "17                  Comic Shop               Concert Hall   \n",
       "18            Toy / Game Store                Candy Store   \n",
       "19                Dance Studio                    Dog Run   \n",
       "22         Arts & Crafts Store           Ramen Restaurant   \n",
       "24              Cosmetics Shop         Dim Sum Restaurant   \n",
       "26                Dance Studio                    Dog Run   \n",
       "27          Italian Restaurant                 Restaurant   \n",
       "28            Sushi Restaurant       Fast Food Restaurant   \n",
       "29                 Yoga Studio               Dance Studio   \n",
       "32                     Dog Run             Discount Store   \n",
       "33                 Curling Ice                    Dog Run   \n",
       "34                       Diner         Dim Sum Restaurant   \n",
       "35        Gym / Fitness Center               Intersection   \n",
       "36                 Curling Ice           Asian Restaurant   \n",
       "37              Discount Store                      Diner   \n",
       "38                  Sports Bar                Supermarket   \n",
       "39                 Pizza Place              Grocery Store   \n",
       "41              Ice Cream Shop              Deli / Bodega   \n",
       "..                         ...                        ...   \n",
       "66          Italian Restaurant                        Bar   \n",
       "67                         Bar                Coffee Shop   \n",
       "68          Airport Food Court               Airport Gate   \n",
       "69                    Tea Room            Thai Restaurant   \n",
       "70                 Art Gallery                  Gastropub   \n",
       "71          Miscellaneous Shop                Coffee Shop   \n",
       "72                 Curling Ice                      Diner   \n",
       "75                  Baby Store                 Restaurant   \n",
       "76   Middle Eastern Restaurant                Supermarket   \n",
       "77                 Art Gallery           Asian Restaurant   \n",
       "78          Italian Restaurant                  Pet Store   \n",
       "80                 Curling Ice             Discount Store   \n",
       "81                     Dog Run             Discount Store   \n",
       "82          Italian Restaurant        Arts & Crafts Store   \n",
       "83                Dessert Shop                    Dog Run   \n",
       "84                    Tea Room                  Bookstore   \n",
       "85                  Hobby Shop                       Park   \n",
       "86    Mediterranean Restaurant  Middle Eastern Restaurant   \n",
       "87                  Comic Shop              Burrito Place   \n",
       "88              Sandwich Place               Liquor Store   \n",
       "89              Sandwich Place                        Pub   \n",
       "91                     Dog Run             Discount Store   \n",
       "92           Convenience Store     Thrift / Vintage Store   \n",
       "94              Discount Store                      Diner   \n",
       "95                  Beer Store                       Park   \n",
       "96                       Diner         Dim Sum Restaurant   \n",
       "97              Discount Store                      Diner   \n",
       "99              Sandwich Place                Coffee Shop   \n",
       "101                 Beer Store       Fast Food Restaurant   \n",
       "102                      Diner         Dim Sum Restaurant   \n",
       "\n",
       "           8th Most Common Venue       9th Most Common Venue  \\\n",
       "2                    Pizza Place  Construction & Landscaping   \n",
       "3             Dim Sum Restaurant                Dessert Shop   \n",
       "4                   Dance Studio                     Dog Run   \n",
       "6                          Diner          Dim Sum Restaurant   \n",
       "7                   Soccer Field                    Creperie   \n",
       "8                          Diner          Dim Sum Restaurant   \n",
       "9             Dim Sum Restaurant                Dessert Shop   \n",
       "10                   Gaming Cafe                 Curling Ice   \n",
       "11            Dim Sum Restaurant                Dessert Shop   \n",
       "12            Dim Sum Restaurant                Dessert Shop   \n",
       "13               Thai Restaurant                Dessert Shop   \n",
       "15                Sandwich Place                 Curling Ice   \n",
       "17                Discount Store                       Diner   \n",
       "18                        Bakery                Burger Joint   \n",
       "19                Discount Store                       Diner   \n",
       "22                 Grocery Store               Movie Theater   \n",
       "24                  Dessert Shop            Department Store   \n",
       "26                Discount Store                       Diner   \n",
       "27         General Entertainment              Clothing Store   \n",
       "28                    Restaurant               Deli / Bodega   \n",
       "29                         Diner          Dim Sum Restaurant   \n",
       "32                         Diner          Dim Sum Restaurant   \n",
       "33                         Diner          Dim Sum Restaurant   \n",
       "34                  Dessert Shop            Department Store   \n",
       "35                          Bank          Rock Climbing Spot   \n",
       "36                    Beer Store                 Video Store   \n",
       "37            Dim Sum Restaurant                Dessert Shop   \n",
       "38              Sushi Restaurant           Fish & Chips Shop   \n",
       "39                Sandwich Place                Burger Joint   \n",
       "41                       Dog Run              Discount Store   \n",
       "..                           ...                         ...   \n",
       "66                        Bakery                  Restaurant   \n",
       "67         Vietnamese Restaurant         Fried Chicken Joint   \n",
       "68               Airport Service          Dim Sum Restaurant   \n",
       "69             French Restaurant                      Museum   \n",
       "70                           Gym        Gym / Fitness Center   \n",
       "71                 Women's Store       Vietnamese Restaurant   \n",
       "72            Dim Sum Restaurant                Dessert Shop   \n",
       "75    Construction & Landscaping           Convenience Store   \n",
       "76                          Café                        Bank   \n",
       "77              Cuban Restaurant              Ice Cream Shop   \n",
       "78                           Gym      Furniture / Home Store   \n",
       "80                         Diner          Dim Sum Restaurant   \n",
       "81                         Diner          Dim Sum Restaurant   \n",
       "82                   Flea Market                         Bar   \n",
       "83   Eastern European Restaurant          Italian Restaurant   \n",
       "84                           Pub                        Food   \n",
       "85                           Gym                  Comic Shop   \n",
       "86           Fried Chicken Joint           Convenience Store   \n",
       "87                Farmers Market        Fast Food Restaurant   \n",
       "88                        Bakery                 Coffee Shop   \n",
       "89                      Creperie                Dessert Shop   \n",
       "91                         Diner          Dim Sum Restaurant   \n",
       "92                        Bakery             Supplement Shop   \n",
       "94            Dim Sum Restaurant                Dessert Shop   \n",
       "95        Furniture / Home Store                Dessert Shop   \n",
       "96                  Dessert Shop            Department Store   \n",
       "97            Dim Sum Restaurant                Dessert Shop   \n",
       "99                    Food Truck           Food & Drink Shop   \n",
       "101                  Coffee Shop                 Video Store   \n",
       "102                 Dessert Shop            Department Store   \n",
       "\n",
       "      10th Most Common Venue  \n",
       "2          Convenience Store  \n",
       "3           Department Store  \n",
       "4             Discount Store  \n",
       "6               Dessert Shop  \n",
       "7           Cuban Restaurant  \n",
       "8               Dessert Shop  \n",
       "9           Department Store  \n",
       "10                     Diner  \n",
       "11          Department Store  \n",
       "12          Department Store  \n",
       "13          Department Store  \n",
       "15        Dim Sum Restaurant  \n",
       "17        Dim Sum Restaurant  \n",
       "18                  Tea Room  \n",
       "19        Dim Sum Restaurant  \n",
       "22              Concert Hall  \n",
       "24             Deli / Bodega  \n",
       "26        Dim Sum Restaurant  \n",
       "27                       Gym  \n",
       "28               Yoga Studio  \n",
       "29              Dessert Shop  \n",
       "32              Dessert Shop  \n",
       "33              Dessert Shop  \n",
       "34             Deli / Bodega  \n",
       "35        Dim Sum Restaurant  \n",
       "36          Department Store  \n",
       "37          Department Store  \n",
       "38                 Bike Shop  \n",
       "39               Curling Ice  \n",
       "41                     Diner  \n",
       "..                       ...  \n",
       "66         French Restaurant  \n",
       "67         French Restaurant  \n",
       "68                     Diner  \n",
       "69   Comfort Food Restaurant  \n",
       "70         Convenience Store  \n",
       "71          Airport Terminal  \n",
       "72          Department Store  \n",
       "75            Discount Store  \n",
       "76               Yoga Studio  \n",
       "77          Department Store  \n",
       "78            Discount Store  \n",
       "80              Dessert Shop  \n",
       "81              Dessert Shop  \n",
       "82        Mexican Restaurant  \n",
       "83               Coffee Shop  \n",
       "84         Fish & Chips Shop  \n",
       "85              Dance Studio  \n",
       "86                     Diner  \n",
       "87             Auto Workshop  \n",
       "88       Fried Chicken Joint  \n",
       "89          Department Store  \n",
       "91              Dessert Shop  \n",
       "92      Fast Food Restaurant  \n",
       "94          Department Store  \n",
       "95          Department Store  \n",
       "96             Deli / Bodega  \n",
       "97          Department Store  \n",
       "99             Deli / Bodega  \n",
       "101        French Restaurant  \n",
       "102            Deli / Bodega  \n",
       "\n",
       "[81 rows x 12 columns]"
      ]
     },
     "execution_count": 68,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cluster 0\n",
    "toronto_merged.loc[toronto_merged['Cluster Labels'] == 0, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>1</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>100</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>1</td>\n",
       "      <td>Pizza Place</td>\n",
       "      <td>Park</td>\n",
       "      <td>Mobile Phone Shop</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "5    Scarborough               1           Pizza Place            Playground   \n",
       "100    Etobicoke               1           Pizza Place                  Park   \n",
       "\n",
       "    3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "5             Yoga Studio      Cuban Restaurant        Discount Store   \n",
       "100     Mobile Phone Shop              Creperie                 Diner   \n",
       "\n",
       "    6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "5                   Diner    Dim Sum Restaurant          Dessert Shop   \n",
       "100    Dim Sum Restaurant          Dessert Shop      Department Store   \n",
       "\n",
       "    9th Most Common Venue 10th Most Common Venue  \n",
       "5        Department Store          Deli / Bodega  \n",
       "100         Deli / Bodega           Dance Studio  "
      ]
     },
     "execution_count": 69,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cluster 1\n",
    "toronto_merged.loc[toronto_merged['Cluster Labels'] == 1, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>2</td>\n",
       "      <td>Bar</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Drugstore</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "1  Scarborough               2                   Bar           Yoga Studio   \n",
       "\n",
       "  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "1          Dance Studio             Drugstore               Dog Run   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "1        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "1          Dessert Shop       Department Store  "
      ]
     },
     "execution_count": 70,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cluster 2\n",
    "toronto_merged.loc[toronto_merged['Cluster Labels'] == 2, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>3</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Eastern European Restaurant</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n",
       "0  Scarborough               3  Fast Food Restaurant           Yoga Studio   \n",
       "\n",
       "         3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n",
       "0  Eastern European Restaurant               Dog Run        Discount Store   \n",
       "\n",
       "  6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n",
       "0                 Diner    Dim Sum Restaurant          Dessert Shop   \n",
       "\n",
       "  9th Most Common Venue 10th Most Common Venue  \n",
       "0      Department Store          Deli / Bodega  "
      ]
     },
     "execution_count": 71,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cluster 3\n",
    "toronto_merged.loc[toronto_merged['Cluster Labels'] == 3, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Borough</th>\n",
       "      <th>Cluster Labels</th>\n",
       "      <th>1st Most Common Venue</th>\n",
       "      <th>2nd Most Common Venue</th>\n",
       "      <th>3rd Most Common Venue</th>\n",
       "      <th>4th Most Common Venue</th>\n",
       "      <th>5th Most Common Venue</th>\n",
       "      <th>6th Most Common Venue</th>\n",
       "      <th>7th Most Common Venue</th>\n",
       "      <th>8th Most Common Venue</th>\n",
       "      <th>9th Most Common Venue</th>\n",
       "      <th>10th Most Common Venue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Scarborough</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>North York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>North York</td>\n",
       "      <td>4</td>\n",
       "      <td>Bus Stop</td>\n",
       "      <td>Park</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Food &amp; Drink Shop</td>\n",
       "      <td>Cuban Restaurant</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30</th>\n",
       "      <td>North York</td>\n",
       "      <td>4</td>\n",
       "      <td>Bus Stop</td>\n",
       "      <td>Airport</td>\n",
       "      <td>Park</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>North York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Grocery Store</td>\n",
       "      <td>Bank</td>\n",
       "      <td>Hotel</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>East York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Convenience Store</td>\n",
       "      <td>Coffee Shop</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Dance Studio</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>44</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>4</td>\n",
       "      <td>Bus Line</td>\n",
       "      <td>Park</td>\n",
       "      <td>Swim School</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50</th>\n",
       "      <td>Downtown Toronto</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Playground</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>64</th>\n",
       "      <td>Central Toronto</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Sushi Restaurant</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Jewelry Store</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>73</th>\n",
       "      <td>York</td>\n",
       "      <td>4</td>\n",
       "      <td>Hockey Arena</td>\n",
       "      <td>Park</td>\n",
       "      <td>Trail</td>\n",
       "      <td>Field</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74</th>\n",
       "      <td>York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Pharmacy</td>\n",
       "      <td>Women's Store</td>\n",
       "      <td>Market</td>\n",
       "      <td>Fast Food Restaurant</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79</th>\n",
       "      <td>North York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Basketball Court</td>\n",
       "      <td>Construction &amp; Landscaping</td>\n",
       "      <td>Bakery</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>90</th>\n",
       "      <td>Etobicoke</td>\n",
       "      <td>4</td>\n",
       "      <td>River</td>\n",
       "      <td>Park</td>\n",
       "      <td>Smoke Shop</td>\n",
       "      <td>Creperie</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "      <td>Dance Studio</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>98</th>\n",
       "      <td>York</td>\n",
       "      <td>4</td>\n",
       "      <td>Park</td>\n",
       "      <td>Yoga Studio</td>\n",
       "      <td>Curling Ice</td>\n",
       "      <td>Dog Run</td>\n",
       "      <td>Discount Store</td>\n",
       "      <td>Diner</td>\n",
       "      <td>Dim Sum Restaurant</td>\n",
       "      <td>Dessert Shop</td>\n",
       "      <td>Department Store</td>\n",
       "      <td>Deli / Bodega</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             Borough  Cluster Labels 1st Most Common Venue  \\\n",
       "14       Scarborough               4                  Park   \n",
       "23        North York               4                  Park   \n",
       "25        North York               4              Bus Stop   \n",
       "30        North York               4              Bus Stop   \n",
       "31        North York               4                  Park   \n",
       "40         East York               4                  Park   \n",
       "44   Central Toronto               4              Bus Line   \n",
       "50  Downtown Toronto               4                  Park   \n",
       "64   Central Toronto               4                  Park   \n",
       "73              York               4          Hockey Arena   \n",
       "74              York               4                  Park   \n",
       "79        North York               4                  Park   \n",
       "90         Etobicoke               4                 River   \n",
       "98              York               4                  Park   \n",
       "\n",
       "   2nd Most Common Venue       3rd Most Common Venue 4th Most Common Venue  \\\n",
       "14            Playground                 Yoga Studio      Cuban Restaurant   \n",
       "23                  Bank                 Yoga Studio           Curling Ice   \n",
       "25                  Park        Fast Food Restaurant     Food & Drink Shop   \n",
       "30               Airport                        Park           Curling Ice   \n",
       "31         Grocery Store                        Bank                 Hotel   \n",
       "40     Convenience Store                 Coffee Shop           Yoga Studio   \n",
       "44                  Park                 Swim School           Yoga Studio   \n",
       "50            Playground                       Trail           Yoga Studio   \n",
       "64      Sushi Restaurant                       Trail         Jewelry Store   \n",
       "73                  Park                       Trail                 Field   \n",
       "74              Pharmacy               Women's Store                Market   \n",
       "79      Basketball Court  Construction & Landscaping                Bakery   \n",
       "90                  Park                  Smoke Shop              Creperie   \n",
       "98           Yoga Studio                 Curling Ice               Dog Run   \n",
       "\n",
       "   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n",
       "14        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "23               Dog Run        Discount Store                 Diner   \n",
       "25      Cuban Restaurant                 Diner    Dim Sum Restaurant   \n",
       "30               Dog Run        Discount Store                 Diner   \n",
       "31           Yoga Studio          Dance Studio               Dog Run   \n",
       "40          Dance Studio               Dog Run        Discount Store   \n",
       "44        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "50              Creperie                 Diner    Dim Sum Restaurant   \n",
       "64           Curling Ice               Dog Run        Discount Store   \n",
       "73           Yoga Studio        Discount Store                 Diner   \n",
       "74  Fast Food Restaurant           Curling Ice                 Diner   \n",
       "79           Yoga Studio         Deli / Bodega               Dog Run   \n",
       "90                 Diner    Dim Sum Restaurant          Dessert Shop   \n",
       "98        Discount Store                 Diner    Dim Sum Restaurant   \n",
       "\n",
       "   8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n",
       "14          Dessert Shop      Department Store          Deli / Bodega  \n",
       "23    Dim Sum Restaurant          Dessert Shop       Department Store  \n",
       "25          Dessert Shop      Department Store          Deli / Bodega  \n",
       "30    Dim Sum Restaurant          Dessert Shop       Department Store  \n",
       "31        Discount Store                 Diner     Dim Sum Restaurant  \n",
       "40                 Diner    Dim Sum Restaurant           Dessert Shop  \n",
       "44          Dessert Shop      Department Store          Deli / Bodega  \n",
       "50          Dessert Shop      Department Store          Deli / Bodega  \n",
       "64                 Diner    Dim Sum Restaurant           Dessert Shop  \n",
       "73    Dim Sum Restaurant          Dessert Shop       Department Store  \n",
       "74    Dim Sum Restaurant          Dessert Shop       Department Store  \n",
       "79        Discount Store                 Diner     Dim Sum Restaurant  \n",
       "90      Department Store         Deli / Bodega           Dance Studio  \n",
       "98          Dessert Shop      Department Store          Deli / Bodega  "
      ]
     },
     "execution_count": 72,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Cluster 4\n",
    "toronto_merged.loc[toronto_merged['Cluster Labels'] == 4, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
